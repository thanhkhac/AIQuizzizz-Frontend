import{d as k,q as P,l as D,u as F,i as z,j as R,P as A,s as Q,M as B,k as E,_ as U,r as q,a as h,o as f,b as e,c as r,w as m,f as g,t as o,e as L,F as V,E as M}from"./index-C2jtDg6B.js";import{A as y}from"./ApiClass-UU0KI_4U.js";import{I as O}from"./Input-0Otcuoto.js";const j=k({__name:"quiz",emits:["updateSidebar"],setup(l,{expose:a,emit:S}){var x;a();const t=P(),_=D(),{t:C}=F(),u=S,c=z(t.params.id||""),b=z({classId:"",name:"",topic:""}),s=R({pageNumber:t.query.pageNumber||1,pageSize:t.query.pageSize||10,name:((x=t.query.name)==null?void 0:x.toString())||"",totalCount:0,statusFilter:!1}),i=z([]),p=async()=>{try{c.value||_.push({name:"404"});let n=await y.GetById(c.value.toString());n.data.success||_.push({name:"404"}),b.value=n.data.data}catch(n){console.log("ERROR: GETBYID class: "+n)}},v=async()=>{try{let n=await y.GetAllQSByLimit(c.value.toString(),s);if(n.data.success){let d=n.data.data;i.value=d.items,s.pageNumber=d.pageNumber,s.pageSize=d.pageSize,s.totalCount=d.totalCount,s.statusFilter&&(s.pageNumber>d.totalPages&&s.totalCount>0?(s.pageNumber=1,_.push({name:"User_Class_Quiz",params:{id:c.value},query:{pageNumber:1,pageSize:s.pageSize,name:s.name}})):_.push({name:"User_Class_Quiz",params:{id:c.value},query:{pageNumber:s.pageNumber,pageSize:s.pageSize,name:s.name}}),s.statusFilter=!s.statusFilter)}}catch(n){console.log("ERROR: GETALLEXAMBYLIMIT class qs: "+n)}};A(()=>{var n;Object.keys(t.query).length===0&&(s.pageNumber=t.query.pageNumber||1,s.pageSize=t.query.pageSize||10,s.name=((n=t.query.name)==null?void 0:n.toString())||"",s.statusFilter=!0,v())});const w=(n,d)=>{s.pageNumber=n,s.pageSize=d,s.statusFilter=!0,v()},I=n=>{B.confirm({title:"Are you sure to delete this question set from class?",content:"Please double check for important resources!",onOk:async()=>{(await y.DeleteQuestionSetFromClass(b.value.classId,n)).data.success&&(E.success("Removed successfully."),v())}})};Q(async()=>{u("updateSidebar","class"),await p(),await v()});const N={route:t,router:_,t:C,emit:u,classId:c,classData:b,pageParams:s,question_set_data:i,getClassData:p,getData:v,onPaginationChange:w,onDeleteQSFromClass:I,Input:O};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),G={class:"page-container"},T={class:"title-container"},Y={class:"breadcrumb-container"},X={class:"title-breadcrumb-item"},$={class:"title-breadcrumb-item"},H={class:"breadcrumb-item-topic"},J={class:"content"},K={class:"content-item"},W={class:"content-item-title"},Z={class:"content-item-functions"},ee={class:"content-item-navigators"},te={class:"navigator-container"},se={style:{width:"300px",padding:"0px"}},ae={class:"pagination-container"},ne={key:0,class:"quiz-item-container"},oe={class:"quiz-item"},ie={class:"quiz-item-title"},le={class:"quiz-item-description"},re={class:"quiz-item-info quiz-info-detail"},ue={class:"quiz-item-questions"},ce={class:"quiz-item-created-by"},de={class:"exam-item-actions"},me=["onClick"],_e={key:1,class:"w-100 d-flex justify-content-center"};function pe(l,a,S,t,_,C){const u=q("RouterLink"),c=q("a-pagination"),b=q("a-button"),s=q("a-empty");return f(),h("div",G,[e("div",T,[e("div",Y,[e("ul",null,[e("li",X,[r(u,{to:{name:"User_Class"}},{default:m(()=>[e("span",null,o(l.$t("class_index.title")),1),a[2]||(a[2]=g()),a[3]||(a[3]=e("br",null,null,-1))]),_:1,__:[2,3]}),a[4]||(a[4]=e("i",{class:"bx bx-chevron-right"},null,-1))]),e("li",$,[r(u,{to:{name:""},class:"breadcrumb-item-class"},{default:m(()=>[e("span",null,o(t.classData.name),1),e("span",H,o(t.classData.topic),1)]),_:1})])])])]),e("div",J,[e("div",K,[e("div",W,[e("div",null,[e("span",null,o(l.$t("class_question_set.title")),1),e("span",null,o(l.$t("class_question_set.sub_title")),1)])]),e("div",Z,[e("div",ee,[e("div",te,[r(u,{class:"navigator-item",to:{name:"User_Class_Exam"}},{default:m(()=>[g(o(l.$t("class_index.navigators.exam")),1)]),_:1}),r(u,{class:"navigator-item navigator-active",to:{name:""}},{default:m(()=>[g(o(l.$t("class_index.navigators.quiz")),1)]),_:1}),r(u,{class:"navigator-item",to:{name:"User_Class_Student"}},{default:m(()=>[g(o(l.$t("class_index.navigators.member")),1)]),_:1})])]),L(` <a-select
                        v-model:value="pageParams.shareMode"
                        style="width: 200px"
                        @change="getData"
                    >
                        <a-select-option v-for="option in share_mode_options" :value="option.value">
                            {{ option.label }}
                        </a-select-option>
                    </a-select> `),e("div",se,[r(t.Input,{onInput:t.getData,modelValue:t.pageParams.name,"onUpdate:modelValue":a[0]||(a[0]=i=>t.pageParams.name=i),placeholder:t.t("question_sets_index.search_placeholder")},{icon:m(()=>a[5]||(a[5]=[e("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])]),e("div",ae,[r(c,{onChange:t.onPaginationChange,current:t.pageParams.pageNumber,"onUpdate:current":a[1]||(a[1]=i=>t.pageParams.pageNumber=i),total:t.pageParams.totalCount,pageSize:t.pageParams.pageSize,"show-total":(i,p)=>`${p[0]}-${p[1]} of ${i} ${t.t("class_question_set.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:t.t("class_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])]),t.question_set_data.length>0?(f(),h("div",ne,[(f(!0),h(V,null,M(t.question_set_data,i=>(f(),h("div",oe,[a[7]||(a[7]=e("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),e("div",null,[e("div",ie,o(i.name),1),e("div",le,o(i.description),1),e("div",re,[e("div",ue,[a[6]||(a[6]=e("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),g(" "+o(i.numberOfQuestions)+" "+o(l.$t("dashboards.list_items.quiz.questions")),1)]),e("div",ce,o(l.$t("class_question_set.other.created_by"))+" "+o(i.createdBy),1)])]),e("div",de,[r(b,{type:"primary",class:"me-3 main-color-btn"},{default:m(()=>[g(o(l.$t("class_question_set.buttons.view")),1)]),_:1}),e("i",{style:{cursor:"pointer"},class:"text-danger bx bx-trash-alt",onClick:p=>t.onDeleteQSFromClass(i.id)},null,8,me)])]))),256))])):(f(),h("div",_e,[r(s,null,{description:m(()=>a[8]||(a[8]=[e("span",null," No data matches. ",-1)])),_:1})]))])])])}const he=U(j,[["render",pe],["__scopeId","data-v-b4964186"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/class/quiz.vue"]]);export{he as default};
