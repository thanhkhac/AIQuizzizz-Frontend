import{d as C,u as O,l as P,j as q,i as R,m as A,A as z,_ as I,r as d,a as L,b as a,c as t,f as _,t as i,n as U,w as r,o as B}from"./index-BhCEM7Qr.js";import{g as F}from"./google_logo-CHe-RPXx.js";import{M as G}from"./MailOutlined-BgGzIVV2.js";import{L as M}from"./LockOutlined-DDQ96yFl.js";const N=C({__name:"register",setup(n,{expose:o}){o();const h="637359103193-umcet39e9b2k2kc0l369mlebantp1089.apps.googleusercontent.com",{t:e}=O(),v=P(),s=q({email:"",password:"",confirmationPassword:""}),c=R(!1),w={email:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e("auth.validation.email"),trigger:"change"}],password:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,message:e("auth.validation.password"),trigger:"change"}],confirmationPassword:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{validator:(u,f)=>f!==s.password?Promise.reject(e("auth.validation.confirm_password")):Promise.resolve(),trigger:"change"}]},l=R(),p={span:24},b={span:24},m=(u,f,S)=>{A[u]({message:f,description:S})},y={google_client_id:h,t:e,router:v,formState:s,button_loading:c,rules:w,formRef:l,labelCol:p,wrapperCol:b,showNotification:m,onFinish:()=>{l.value.validate().then(async()=>{try{if(c.value=!0,!(await z.Register({email:s.email,password:s.password})).data.success)return;if((await z.RequestEmailVerification({email:s.email})).data.success){m("success","Register result","Success"),sessionStorage.setItem("email",s.email),v.push({name:"verify-email"});return}m("error","Register result","ERROR")}catch(u){console.log(u)}finally{c.value=!1}})},onGoogleRegister:async()=>{const u=window.location.origin;window.location.assign(`https://accounts.google.com/o/oauth2/v2/auth?client_id=${h}&redirect_uri=${u}/google-authentication-callback&response_type=code&scope=openid%20email%20profile&access_type=offline&prompt=consent
`)},get google_logo(){return F},get LockOutlined(){return M},get MailOutlined(){return G}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),V={class:"authentication-item"},j={class:"authentication-item-title"},E={class:"external-login external-login-google"},$={class:"authentication-item-navigator"};function Q(n,o,h,e,v,s){const c=d("a-divider"),w=d("a-input"),l=d("a-form-item"),p=d("a-input-password"),b=d("a-button"),m=d("a-form"),k=d("RouterLink");return B(),L("div",V,[a("div",j,[a("span",null,i(n.$t("auth.greetings.signUp")),1),o[3]||(o[3]=_()),o[4]||(o[4]=a("br",null,null,-1)),a("span",null,i(n.$t("auth.instructions.signUp")),1)]),a("div",{class:"authentication-item-external-login",onClick:e.onGoogleRegister},[a("div",E,[a("div",{style:U({backgroundImage:`url(${e.google_logo})`})},null,4),o[5]||(o[5]=a("div",null,"Google",-1))])]),t(c,{style:{height:"1px","background-color":"#d9d9d9"}},{default:r(()=>o[6]||(o[6]=[a("span",{style:{"background-color":"#fff",padding:"0px 10px"}},"OR",-1)])),_:1,__:[6]}),t(m,{class:"authentication-item-form",ref:"formRef",model:e.formState,labelCol:e.labelCol,wrapperCol:e.wrapperCol,rules:e.rules},{default:r(()=>[t(l,{label:"",name:"email"},{default:r(()=>[a("label",null,i(n.$t("auth.inputs.email")),1),t(w,{size:"large",value:e.formState.email,"onUpdate:value":o[0]||(o[0]=g=>e.formState.email=g),placeholder:n.$t("auth.inputs.email")},{addonBefore:r(()=>[t(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),t(l,{label:"",name:"password"},{default:r(()=>[a("label",null,i(n.$t("auth.inputs.password")),1),t(p,{size:"large",value:e.formState.password,"onUpdate:value":o[1]||(o[1]=g=>e.formState.password=g),placeholder:n.$t("auth.inputs.password")},{addonBefore:r(()=>[t(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),t(l,{label:"",name:"confirmationPassword"},{default:r(()=>[a("label",null,i(n.$t("auth.inputs.confirmPassword")),1),t(p,{size:"large",value:e.formState.confirmationPassword,"onUpdate:value":o[2]||(o[2]=g=>e.formState.confirmationPassword=g),placeholder:n.$t("auth.inputs.confirmPassword")},{addonBefore:r(()=>[t(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),t(l,null,{default:r(()=>[t(b,{loading:e.button_loading,onClick:e.onFinish,size:"large",type:"primary",style:{"background-color":"#9823f5",width:"100%"}},{default:r(()=>[_(i(n.$t("auth.buttons.signUp")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),a("div",$,[_(i(n.$t("auth.navigators.signUp_signIn_ins"))+" ",1),t(k,{to:{name:"login"}},{default:r(()=>[_(i(n.$t("auth.navigators.signIn_link")),1)]),_:1})])])}const H=I(N,[["render",Q],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/register.vue"]]);export{H as default};
