const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BTtyw8YW.js","assets/index-Csk9j3mx.css"])))=>i.map(i=>d[i]);
var te=Object.defineProperty;var se=(a,n,o)=>n in a?te(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o;var T=(a,n,o)=>se(a,typeof n!="symbol"?n+"":n,o);import{d as E,u as A,g as H,i as k,j as Y,_ as I,r as f,a as g,o as _,b as t,c as l,t as i,w as c,e as F,f as y,M as Z,A as ae,k as U,H as ne,B as R,s as D,J as oe,K,F as S,D as C,E as J,p as $,n as le,G as M,N as ie}from"./index-BTtyw8YW.js";import{u as re}from"./user-zaK1_Zi8.js";import{I as ce}from"./Input-OaAZgVyh.js";import{T as de}from"./TextArea-BoIpbba0.js";import{S as ue}from"./languages-DtYW231W.js";/* empty css                                                                 */const _e=E({__name:"profile",setup(a,{expose:n}){n();const{t:o}=A(),e=H(),m=k(e.getUserInfo()),v=Y({imageList:[],fullName:"",email:"",bio:""}),r={t:o,authStore:e,user:m,formState:v,get user_image(){return re},Input:ce,TextArea:de};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),me={class:"content"},pe={class:"content-item"},ge={class:"content-item-title"},ve=["src"];function fe(a,n,o,e,m,v){const r=f("a-col"),d=f("a-row"),s=f("a-button"),h=f("a-form");return _(),g("div",me,[t("div",pe,[t("div",ge,[t("div",null,[t("span",null,i(a.$t("settings.profile.title")),1),t("span",null,i(a.$t("settings.profile.sub_title")),1)])]),l(h,{class:"mt-5",layout:"vertical"},{default:c(()=>[l(d,null,{default:c(()=>[l(r,{span:4,class:"user-image-container"},{default:c(()=>[t("img",{class:"user-image",src:e.user_image,alt:"user_img"},null,8,ve),F(` <a-upload class="user-image-upload" name="file">
                            <a-button>
                                <UploadOutlined />
                                Click to Upload
                            </a-button>
                        </a-upload> `)]),_:1}),l(r,{span:20,class:"user-info-container"},{default:c(()=>[l(d,null,{default:c(()=>[l(r,{span:10},{default:c(()=>[l(e.Input,{label:e.t("settings.profile.fullname_label"),placeholder:e.t("settings.profile.fullname_placeholder"),modelValue:e.formState.fullName,"onUpdate:modelValue":n[0]||(n[0]=p=>e.formState.fullName=p)},null,8,["label","placeholder","modelValue"])]),_:1}),l(r,{span:10,offset:4},{default:c(()=>[l(e.Input,{label:e.t("settings.profile.email_label"),placeholder:e.t("settings.profile.email_placeholder"),modelValue:e.formState.email,"onUpdate:modelValue":n[1]||(n[1]=p=>e.formState.email=p)},null,8,["label","placeholder","modelValue"])]),_:1})]),_:1}),l(d,null,{default:c(()=>[l(r,{span:24,class:"mt-4"},{default:c(()=>[l(e.TextArea,{label:e.t("settings.profile.bio_label"),placeholder:e.t("settings.profile.bio_placeholder"),modelValue:e.formState.bio,"onUpdate:modelValue":n[2]||(n[2]=p=>e.formState.bio=p)},null,8,["label","placeholder","modelValue"])]),_:1})]),_:1}),l(d,null,{default:c(()=>[l(r,{class:"mt-4 mb-2 d-flex justify-content-end",span:24},{default:c(()=>[l(s,{class:"main-color-btn",type:"primary",size:"large"},{default:c(()=>[y(i(a.$t("settings.profile.save_change")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])}const he=I(_e,[["render",fe],["__scopeId","data-v-8e7521f2"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/settings/profile.vue"]]),be=E({__name:"security",setup(a,{expose:n}){n();const{t:o}=A(),e=H(),m=Y({currentPassword:"",newPassword:"",newPasswordConfirmation:""}),v=k(),r={currentPassword:[{required:!0,message:o("auth.validation.required"),trigger:"change"}],newPassword:[{required:!0,message:o("auth.validation.required"),trigger:"change"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,message:o("auth.validation.password"),trigger:"change"}],newPasswordConfirmation:[{required:!0,message:o("auth.validation.required"),trigger:"change"},{validator:(p,P)=>P!==m.newPassword?Promise.reject(o("auth.validation.confirm_password")):Promise.resolve(),trigger:"change"}]},d=()=>{v.value.validate().then(()=>{s()}).catch(p=>{})},s=()=>{Z.confirm({title:o("settings.security.modal.change_password_title"),content:o("settings.security.modal.change_password_content"),icon:l(ne),okText:o("sidebar.buttons.ok"),cancelText:o("sidebar.buttons.cancel"),onOk:async()=>{if((await ae.ChangePassword({currentPassword:m.currentPassword,newPassword:m.newPassword})).data.success){U.success(o("message.change_password_successfully")),e.logOut();return}U.success(o("message.change_password_failed"))}})},h={t:o,authStore:e,changePasswordFormState:m,formRef:v,rules:r,onFinishChangePassword:d,showModalConfirmation:s};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),ye={class:"content"},we={class:"content-item"},ze={class:"content-item-title"},ke={class:"mt-4 content-item"},Pe={class:"content-item-title"},$e={class:"text-danger"},Se={class:"danger-zone mt-3 p-4"},Ae={class:"text-danger fs-6 fw-bold"},Ie={class:"text-secondary"};function Ce(a,n,o,e,m,v){const r=f("a-input-password"),d=f("a-form-item"),s=f("a-col"),h=f("a-row"),p=f("a-button"),P=f("a-form");return _(),g("div",ye,[t("div",we,[t("div",ze,[t("div",null,[t("span",null,i(a.$t("settings.security.title")),1),t("span",null,i(a.$t("settings.security.sub_title")),1)])]),l(P,{class:"mt-3",ref:"formRef",model:e.changePasswordFormState,rules:e.rules,layout:"vertical"},{default:c(()=>[l(h,null,{default:c(()=>[l(s,{span:10},{default:c(()=>[l(d,{name:"currentPassword",label:e.t("settings.security.current_password_label")},{default:c(()=>[l(r,{placeholder:e.t("settings.security.current_password_placeholder"),size:"large",value:e.changePasswordFormState.currentPassword,"onUpdate:value":n[0]||(n[0]=w=>e.changePasswordFormState.currentPassword=w)},null,8,["placeholder","value"])]),_:1},8,["label"]),l(d,{name:"newPassword",label:e.t("settings.security.new_password_label")},{default:c(()=>[l(r,{placeholder:e.t("settings.security.new_password_placeholder"),size:"large",value:e.changePasswordFormState.newPassword,"onUpdate:value":n[1]||(n[1]=w=>e.changePasswordFormState.newPassword=w)},null,8,["placeholder","value"])]),_:1},8,["label"]),l(d,{name:"newPasswordConfirmation",label:e.t("settings.security.confirm_new_password_label")},{default:c(()=>[l(r,{placeholder:e.t("settings.security.confirm_new_password_placeholder"),size:"large",value:e.changePasswordFormState.newPasswordConfirmation,"onUpdate:value":n[2]||(n[2]=w=>e.changePasswordFormState.newPasswordConfirmation=w)},null,8,["placeholder","value"])]),_:1},8,["label"])]),_:1})]),_:1}),l(h,null,{default:c(()=>[l(s,{span:24,class:"mt-4"},{default:c(()=>[l(d,null,{default:c(()=>[l(p,{onClick:e.onFinishChangePassword,class:"main-color-btn",type:"primary",size:"large"},{default:c(()=>[y(i(a.$t("settings.security.change_password")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),t("div",ke,[t("div",Pe,[t("div",null,[t("span",$e,i(a.$t("settings.security.danger_zone.title")),1),t("span",null,i(a.$t("settings.security.danger_zone.sub_title")),1)])]),t("div",Se,[t("div",Ae,i(a.$t("settings.security.danger_zone.warning")),1),t("div",Ie,i(a.$t("settings.security.danger_zone.warning_explain")),1),l(p,{class:"mt-3",type:"primary",danger:"",size:"large"},{default:c(()=>[y(i(a.$t("settings.security.danger_zone.warning")),1)]),_:1})])])])}const Ee=I(be,[["render",Ce],["__scopeId","data-v-db2beb48"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/settings/security.vue"]]),O="accent_color",B="theme",Fe=E({__name:"appearance",setup(a,{expose:n}){n();const{t:o}=A(),e=R(()=>[{key:"dark",label:o("settings.appearance.theme.dark"),class:"theme-dark",icon:"moon"},{key:"light",label:o("settings.appearance.theme.light"),class:"theme-light",icon:"sun"},{key:"system",label:o("settings.appearance.theme.system"),class:"theme-system",icon:"globe"}]),m=R(()=>[{code:"#7c3aed",name:o("settings.appearance.color.purple"),class:"purple"},{code:"#3B82F6",name:o("settings.appearance.color.blue"),class:"blue"},{code:"#22C55E",name:o("settings.appearance.color.green"),class:"green"},{code:"#EF4444",name:o("settings.appearance.color.red"),class:"red"},{code:"#F59E0B",name:o("settings.appearance.color.amber"),class:"amber"},{code:"#EC4899",name:o("settings.appearance.color.pink"),class:"pink"}]),v=k(m.value[0].class),r=k(e.value[0].class),d=window.matchMedia("(prefers-color-scheme: dark)"),s=k(d.matches),h=()=>{const u=localStorage.getItem(B);return e.value.map(b=>b.class).includes(u||"")?u:e.value[0].class},p=()=>{const u=localStorage.getItem(O);return m.value.map(b=>b.class.toLowerCase()).includes(u||"")?u:m.value[0].class},P=u=>{var b;e.value.forEach(L=>document.documentElement.classList.remove(L.class));let z="";u==="theme-system"?z=s.value?"theme-dark":"theme-light":z=((b=e.value.find(L=>L.class===u))==null?void 0:b.class)||"theme-dark",document.documentElement.classList.add(z)},w=u=>{m.value.forEach(z=>document.documentElement.classList.remove(z.class)),document.documentElement.classList.add(u)},W=u=>{r.value=u,localStorage.setItem(B,u),P(u)},X=u=>{v.value=u,localStorage.setItem(O,u),w(u)},{availableLocales:V,locale:N,setLocaleMessage:j}=A(),Q=k("");async function ee(u){if(!V.includes(u)){const z=await oe(Object.assign({"../../../locales/en.json":()=>K(()=>import("./index-BTtyw8YW.js").then(b=>b.an),__vite__mapDeps([0,1])),"../../../locales/vn.json":()=>K(()=>import("./index-BTtyw8YW.js").then(b=>b.ao),__vite__mapDeps([0,1]))}),`../../../locales/${u}.json`,5);j(u,z)}N.value=u,localStorage.setItem("locale",u)}D(()=>{d.addEventListener("change",u=>{s.value=u.matches}),v.value=p(),r.value=h(),P(r.value),w(v.value),Q.value=localStorage.getItem("locale")||"en"});const x={t:o,ACCENT_COLOR:O,THEME:B,themes:e,accent_color:m,color_active:v,theme_active:r,media:d,isSystemDark:s,getTheme:h,getAccentColor:p,applyTheme:P,applyColor:w,toggleTheme:W,toggleColor:X,availableLocales:V,locale:N,setLocaleMessage:j,selectedLocale:Q,switchLanguage:ee,get SUPPORTED_LOCALES(){return ue}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),Le={class:"content"},Te={class:"content-item"},Oe={class:"content-item-title"},Be={class:"appearance-section"},Ue={class:"theme-container"},De=["onClick"],Ve={class:"theme-item-header"},Ne={class:"theme-item-info"},je={class:"appearance-section"},Qe={class:"color-container"},xe={class:"color-item"},Re=["onClick"],Ke={class:"color-item-info"},Me={class:"appearance-section"},qe={class:"language-select-container"},Ge=["src"];function He(a,n,o,e,m,v){const r=f("a-select-option"),d=f("a-select");return _(),g("div",Le,[t("div",Te,[t("div",Oe,[t("div",null,[t("span",null,i(a.$t("settings.appearance.title")),1),t("span",null,i(a.$t("settings.appearance.sub_title")),1)])]),t("div",Be,[t("div",null,i(a.$t("settings.appearance.theme.title")),1),t("div",Ue,[(_(!0),g(S,null,C(e.themes,s=>(_(),g("div",{class:$(["theme-item",s.class,e.theme_active===s.class?"active":""]),onClick:h=>e.toggleTheme(s.class)},[t("div",Ve,[t("div",Ne,[t("i",{class:$(["bx",`bx-${s.icon}`])},null,2),y(" "+i(s.label),1)]),t("i",{class:$(["bx bx-check",e.theme_active!==s.class?"d-none":""])},null,2)]),t("div",{class:$(["theme-illustration",`theme-illustration-${s.key}`])},[...n[1]||(n[1]=[t("div",{class:"theme-content-item theme-content-item-main-color"},null,-1),t("div",{class:"theme-content-item"},null,-1),t("div",{class:"theme-content-item"},null,-1)])],2)],10,De))),256))])]),t("div",je,[t("div",null,i(a.$t("settings.appearance.color.title")),1),t("div",Qe,[(_(!0),g(S,null,C(e.accent_color,s=>(_(),g("div",xe,[t("div",{onClick:h=>e.toggleColor(s.class),class:$(["color-item-sample",e.color_active==s.class?"active":""])},[t("div",{style:le({backgroundColor:`${s.code}`})},null,4)],10,Re),t("div",Ke,i(s.name),1)]))),256))])]),t("div",Me,[t("div",null,i(a.$t("settings.appearance.language.title")),1),t("div",qe,[l(d,{onChange:e.switchLanguage,class:"language-select",value:e.selectedLocale,"onUpdate:value":n[0]||(n[0]=s=>e.selectedLocale=s)},{default:c(()=>[(_(!0),g(S,null,C(e.SUPPORTED_LOCALES,s=>(_(),J(r,{key:`locale-${s.code}`,value:s.code},{default:c(()=>[t("img",{class:"language-img",src:s.imagePath,alt:"img"},null,8,Ge),y(" "+i(s.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])])])])}const Ye=I(Fe,[["render",He],["__scopeId","data-v-9522bf78"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/settings/appearance.vue"]]),q={GET_ALL:"Plan",BUY_PLAN:"Plan/{planId}/Buy"};class Ze{constructor(){T(this,"GetAll",async()=>await M.get(`${q.GET_ALL}`,{params:{IsActive:!0}}));T(this,"BuyPlan",async n=>{const o=q.BUY_PLAN.replace("{planId}",n);return await M.post(o)})}}const G=new Ze,Je=E({__name:"subscription",setup(a,{expose:n}){n();const{t:o}=A(),e=k([]),m=k(!1),v=async()=>{try{m.value=!0;const s=await G.GetAll();s.data.success&&(e.value=s.data.data)}catch(s){console.log(s)}finally{m.value=!1}},r=s=>{Z.confirm({title:"Are your sure to perform this action?",content:`This will cost you ${s.price}đ for purchasing this plan`,okText:o("sidebar.buttons.ok"),cancelText:o("sidebar.buttons.cancel"),centered:!0,onOk:async()=>{(await G.BuyPlan(s.id)).data.success&&U.success(o("message.purchased_successfully"))}})};D(async()=>{await v()});const d={t:o,planData:e,loading:m,getData:v,onBuyPlan:r};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),We={class:"content"},Xe={class:"content-item"},et={class:"content-item-title"},tt={class:"content-item"},st={class:"content-item-title"},at={key:1,class:"plan-container"},nt={key:0,class:"popular-badge"},ot={class:"plan-name"},lt={class:"plan-price"},it={key:0,class:"plan-duration"},rt={key:1,class:"plan-duration"},ct={class:"plan-advance-container"},dt={class:"plan-advance"},ut={key:0,class:"bx bx-check"},_t={key:1,class:"bx bx-x"},mt={class:"plan-advance"},pt={key:0,class:"bx bx-check"},gt={key:1,class:"bx bx-x"};function vt(a,n,o,e,m,v){const r=f("a-skeleton"),d=f("a-button");return _(),g("div",We,[t("div",Xe,[t("div",et,[t("div",null,[t("span",null,i(a.$t("settings.subscription.title")),1),t("span",null,i(a.$t("settings.subscription.sub_title")),1)])])]),t("div",tt,[t("div",st,[t("div",null,[t("span",null,i(a.$t("settings.subscription.plan.title")),1),t("span",null,i(a.$t("settings.subscription.plan.sub_title")),1)])]),e.loading?(_(),g(S,{key:0},[l(r,{loading:e.loading},null,8,["loading"]),l(r,{loading:e.loading},null,8,["loading"])],64)):(_(),g("div",at,[(_(!0),g(S,null,C(e.planData,s=>(_(),g("div",{class:$(["plan-item",s.id==="8d4acf9c-1eb2-4941-a2bc-01034db75ca0"?"popular-item":""])},[s.id==="8d4acf9c-1eb2-4941-a2bc-01034db75ca0"?(_(),g("div",nt,i(a.$t("settings.subscription.plan.popular"))+" 🔥 ",1)):F("v-if",!0),t("div",ot,i(s.name),1),t("div",lt,[y(i(s.price)+"đ ",1),s.unit==="Day"?(_(),g("div",it,i(s.duration)+" ("+i(a.$t("settings.subscription.plan.day_plural"))+") ",1)):F("v-if",!0),s.unit==="Year"?(_(),g("div",rt,i(s.duration)+" ("+i(a.$t(`settings.subscription.plan.${s.duration>0?"year_plural":"year_singular"}`))+") ",1)):F("v-if",!0)]),t("div",ct,[t("div",dt,[s.canLearn?(_(),g("i",ut)):(_(),g("i",_t)),y(" "+i(a.$t("settings.subscription.plan.learn")),1)]),t("div",mt,[s.canOpenTest?(_(),g("i",pt)):(_(),g("i",gt)),y(" "+i(a.$t("settings.subscription.plan.test")),1)])]),l(d,{type:"primary",size:"large",class:"main-color-btn",onClick:h=>e.onBuyPlan(s)},{default:c(()=>[y(i(a.$t("settings.subscription.buttons.Change_plan")),1)]),_:2},1032,["onClick"])],2))),256))]))])])}const ft=I(Je,[["render",vt],["__scopeId","data-v-62331d33"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/settings/subscription.vue"]]),ht={},bt={class:"content"},yt={class:"content-item"},wt={class:"content-item-title"};function zt(a,n){return _(),g("div",bt,[t("div",yt,[t("div",wt,[t("div",null,[t("span",null,i(a.$t("settings.billing.title")),1),t("span",null,i(a.$t("settings.billing.sub_title")),1)])])])])}const kt=I(ht,[["render",zt],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/settings/billing.vue"]]),Pt=E({__name:"settings",emits:["updateSidebar"],setup(a,{expose:n,emit:o}){n();const{t:e}=A(),m=[{key:"Profile",tab:e("settings.tabs.profile")},{key:"Security",tab:e("settings.tabs.security")},{key:"Appearance",tab:e("settings.tabs.appearance")},{key:"Subscription",tab:e("settings.tabs.subscription")},{key:"Billing",tab:e("settings.tabs.billing")}],v={Profile:he,Security:Ee,Appearance:Ye,Subscription:ft,Billing:kt},r=k(m[0].key),d=o;D(()=>{d("updateSidebar","settings");const p=sessionStorage.getItem("setting_key");p&&(r.value=p)});const s={t:e,tabs:m,tab_component:v,activeKey:r,emit:d};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),$t={class:"page-container"},St={class:"title-container"};function At(a,n,o,e,m,v){const r=f("a-col"),d=f("a-row"),s=f("a-tab-pane"),h=f("a-tabs");return _(),g("div",$t,[t("div",St,[l(d,{class:"w-100"},{default:c(()=>[l(r,{class:"main-title",span:20},{default:c(()=>[t("span",null,i(a.$t("settings.title")),1),n[1]||(n[1]=y()),n[2]||(n[2]=t("br",null,null,-1)),t("span",null,i(a.$t("settings.sub_title")),1)]),_:1,__:[1,2]})]),_:1})]),l(h,{class:"tab-container",activeKey:e.activeKey,"onUpdate:activeKey":n[0]||(n[0]=p=>e.activeKey=p),type:"card"},{default:c(()=>[(_(),g(S,null,C(e.tabs,p=>l(s,{key:p.key,tab:p.tab},{default:c(()=>[(_(),J(ie(e.tab_component[p.key])))]),_:2},1032,["tab"])),64))]),_:1},8,["activeKey"])])}const Bt=I(Pt,[["render",At],["__scopeId","data-v-22613621"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/settings/settings.vue"]]);export{Bt as default};
