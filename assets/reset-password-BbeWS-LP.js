import{d as k,h as v,i as C,l as z,A as P,_ as S,r as p,a as y,b as s,c as a,g as f,t as l,w as n,o as O}from"./index-DRXsinxR.js";import{M as R}from"./MailOutlined-D7zPn7yJ.js";import{L as A}from"./LockOutlined-CMGJFBrS.js";const B=k({__name:"reset-password",setup(t,{expose:o}){o();const h=v(),e={span:24},_={span:24},d=C({email:"",resetCode:"",password:"",confirmationPassword:""}),u=v(!1),i={email:[{required:!0,message:"Vui lòng không để trống mục này.",trigger:"change"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Vui lòng nhập đúng định dạng email",trigger:"change"}],resetCode:[{required:!0,message:"Vui lòng không để trống mục này.",trigger:"change"}],password:[{required:!0,message:"Vui lòng không để trống mục này.",trigger:"change"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,message:"Mật khẩu phải có ít nhất 8 ký tự, gồm chữ hoa, chữ thường, số và ký tự đặc biệt.",trigger:"change"}],confirmationPassword:[{validator:(c,r)=>r!==d.password?Promise.reject("Mật khẩu xác nhận không khớp."):Promise.resolve(),trigger:"change"}]},m=(c,r,b)=>{z[c]({message:r,description:b})},g={formRef:h,labelCol:e,wrapperCol:_,formState:d,button_loading:u,rules:i,showNotification:m,onFinish:async()=>{try{if(u.value=!0,(await P.ResetPassword({email:d.email,resetCode:d.resetCode,newPassword:d.password})).data.success){m("success","Reset password result","Success");return}m("error","Reset password result","ERROR")}catch{}finally{u.value=!1}},get LockOutlined(){return A},get MailOutlined(){return R}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}}),L={class:"authentication-item"},M={class:"authentication-item-title"},V={class:"authentication-item-navigator"};function F(t,o,h,e,_,d){const u=p("a-input"),i=p("a-form-item"),m=p("a-input-password"),w=p("a-button"),g=p("a-form"),c=p("RouterLink");return O(),y("div",L,[s("div",M,[s("span",null,l(t.$t("auth.greetings.resetPassword")),1),o[4]||(o[4]=f()),o[5]||(o[5]=s("br",null,null,-1)),s("span",null,l(t.$t("auth.instructions.resetPassword")),1)]),a(g,{class:"authentication-item-form",ref:"formRef",model:e.formState,labelCol:e.labelCol,wrapperCol:e.wrapperCol,rules:e.rules},{default:n(()=>[a(i,{label:"",name:"email"},{default:n(()=>[s("label",null,l(t.$t("auth.inputs.email")),1),a(u,{size:"large",value:e.formState.email,"onUpdate:value":o[0]||(o[0]=r=>e.formState.email=r),placeholder:t.$t("auth.inputs.email")},{addonBefore:n(()=>[a(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(i,{label:"",name:"code"},{default:n(()=>[s("label",null,l(t.$t("auth.inputs.code")),1),a(u,{size:"large",value:e.formState.resetCode,"onUpdate:value":o[1]||(o[1]=r=>e.formState.resetCode=r),placeholder:t.$t("auth.inputs.code_placeholder")},{addonBefore:n(()=>[a(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(i,{label:"",name:"password"},{default:n(()=>[s("label",null,l(t.$t("auth.inputs.new_password")),1),a(m,{size:"large",value:e.formState.password,"onUpdate:value":o[2]||(o[2]=r=>e.formState.password=r),placeholder:t.$t("auth.inputs.password")},{addonBefore:n(()=>[a(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(i,{label:"",name:"confirmationPassword"},{default:n(()=>[s("label",null,l(t.$t("auth.inputs.new_password_confirmation")),1),a(m,{size:"large",value:e.formState.confirmationPassword,"onUpdate:value":o[3]||(o[3]=r=>e.formState.confirmationPassword=r),placeholder:t.$t("auth.inputs.confirmPassword")},{addonBefore:n(()=>[a(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(i,null,{default:n(()=>[a(w,{loading:e.button_loading,onClick:e.onFinish,size:"large",type:"primary",style:{"background-color":"#9823f5",width:"100%"}},{default:n(()=>[f(l(t.$t("auth.buttons.resetPassword")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",V,[f(l(t.$t("auth.navigators.reset_signIn_ins"))+" ",1),a(c,{to:{name:"login"}},{default:n(()=>[f(l(t.$t("auth.navigators.back_signIn_link")),1)]),_:1})])])}const q=S(B,[["render",F],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/reset-password.vue"]]);export{q as default};
