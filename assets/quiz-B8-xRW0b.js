import{d as F,q as D,l as R,u as M,i as T,H as U,j,K as B,s as A,G as V,_ as Y,r as d,a as f,o as p,b as t,c as l,w as r,t as m,g as u,F as L,B as h,C as Z}from"./index-CBe-xg3B.js";import{A as Q}from"./ApiClass-BnupEivQ.js";import{C as P}from"./classExamStatus-JROc68nE.js";import{I as G}from"./Input-CA0GHANl.js";const H=F({__name:"quiz",emits:["updateSidebar"],setup(g,{expose:e,emit:I}){var k;e();const a=D(),b=R(),{t:q}=M(),c=I,_=T(a.params.id||""),y=T({classId:"",name:"",topic:""}),z=Object.values(P),x=U(()=>z.map(s=>({label:q(`class_exam.select_option.${s}`),value:s!==P.ALL?s:""}))),n=j({pageNumber:a.query.pageNumber||1,pageSize:a.query.pageSize||10,testName:((k=a.query.testName)==null?void 0:k.toString())||"",status:a.query.status||x.value[0].value,totalCount:0,statusFilter:!1}),C=T([]),w=[{testId:"123123123",name:"Assignment 1",numberOfQuestions:25,timeLimit:30,relativeTime:800,numberOfCompletion:30,status:"active",date:"2025-07-13T20:00:00.000Z"},{testId:"234234234",name:"Quiz 1",numberOfQuestions:10,timeLimit:15,relativeTime:240,numberOfCompletion:10,status:"upcoming",date:"2025-07-07T20:00:00.000Z"},{testId:"345345345",name:"Midterm Exam",numberOfQuestions:40,timeLimit:60,relativeTime:26,numberOfCompletion:25,status:"completed",date:"2025-07-16T10:00:00.000Z"},{testId:"456456456",name:"Final Exam",numberOfQuestions:50,timeLimit:90,relativeTime:24,numberOfCompletion:0,status:"upcoming",date:"2025-07-16T12:00:00.000Z"},{testId:"567567567",name:"Assignment 2",numberOfQuestions:20,timeLimit:25,relativeTime:500,numberOfCompletion:15,status:"active",date:"2025-06-26T04:00:00.000Z"},{testId:"678678678",name:"Pop Quiz",numberOfQuestions:5,timeLimit:50,relativeTime:9e3,numberOfCompletion:5,status:"completed",date:"2024-12-29T12:00:00.000Z"}],S=async()=>{try{_.value||b.push({name:"404"});let s=await Q.GetById(_.value.toString());s.data.success||b.push({name:"404"}),y.value=s.data.data}catch(s){console.log("ERROR: GETBYID class: "+s)}},v=async()=>{try{let s=await Q.GetAllExamByLimit(_.value.toString(),n);if(s.data.success){let o=s.data.data;C.value=o.items,n.pageNumber=o.pageNumber,n.pageSize=o.pageSize,n.totalCount=o.totalCount,n.statusFilter&&(n.pageNumber>o.totalPages&&n.totalCount>0?(n.pageNumber=1,b.push({name:"User_Class_Quiz",params:{id:_.value},query:{pageNumber:1,pageSize:n.pageSize,testName:n.testName,status:n.status}})):b.push({name:"User_Class_Quiz",params:{id:_.value},query:{pageNumber:n.pageNumber,pageSize:n.pageSize,testName:n.testName,status:n.status}}),n.statusFilter=!n.statusFilter)}}catch(s){console.log("ERROR: GETALLEXAMBYLIMIT class exam: "+s)}};B(()=>{var s;Object.keys(a.query).length===0&&(n.pageNumber=a.query.pageNumber||1,n.pageSize=a.query.pageSize||10,n.testName=((s=a.query.testName)==null?void 0:s.toString())||"",n.status=a.query.status||x.value[0].value,n.statusFilter=!0,v())});const i=(s,o)=>{n.pageNumber=s,n.pageSize=o,n.statusFilter=!0,v()},N=s=>{if(s<24)return`${s} hour${s!==1?"s":""} ago`;if(s<24*7){const o=Math.floor(s/24);return`${o} day${o!==1?"s":""} ago`}else if(s<24*30){const o=Math.floor(s/168);return`${o} week${o!==1?"s":""} ago`}else if(s<24*365){const o=Math.floor(s/720);return`${o} month${o!==1?"s":""} ago`}else{const o=Math.floor(s/8760);return`${o} year${o!==1?"s":""} ago`}},E=s=>{switch(s.toLowerCase()){case"completed":return"#3b82f6";case"active":return"#22C55E";case"upcoming":return"#f59e0b"}};A(async()=>{c("updateSidebar","class"),await S(),await v()});const O={route:a,router:b,t:q,emit:c,classId:_,classData:y,optionKeys:z,exam_status_options:x,pageParams:n,exam_data:C,exam_data_sample:w,getClassData:S,getData:v,onPaginationChange:i,getFormattedRelativeTime:N,getTagColor:E,get dayjs(){return V},Input:G};return Object.defineProperty(O,"__isScriptSetup",{enumerable:!1,value:!0}),O}}),K={class:"page-container"},X={class:"title-container"},$={class:"breadcrumb-container"},J={class:"title-breadcrumb-item"},W={class:"title-breadcrumb-item"},ee={class:"breadcrumb-item-topic"},te={class:"content"},ae={class:"content-item"},se={class:"content-item-functions"},ne={class:"content-item-navigators"},ie={class:"navigator-container"},oe={style:{width:"300px",padding:"0px"}},le={class:"pagination-container"},re={key:0,class:"exam-item-container"},me={class:"exam-item"},ue={class:"exam-item-title"},de={class:"exam-item-info exam-item-date"},ce={class:"exam-item-info exam-info-detail"},_e={class:"exam-item-questions"},pe={class:"exam-item-time"},ge={class:"exam-item-assigned completion"},be={class:"exam-item-assigned"},ve={class:"exam-item-actions"},fe={class:"d-flex align-items-center"},xe={key:1,class:"w-100 d-flex justify-content-center"};function ye(g,e,I,a,b,q){const c=d("RouterLink"),_=d("a-select-option"),y=d("a-select"),z=d("a-pagination"),x=d("a-tag"),n=d("a-menu-item"),C=d("a-menu-divider"),w=d("a-menu"),S=d("a-dropdown"),v=d("a-empty");return p(),f("div",K,[t("div",X,[t("div",$,[t("ul",null,[t("li",J,[l(c,{to:{name:"User_Class"}},{default:r(()=>e[3]||(e[3]=[t("span",null," Class ",-1)])),_:1,__:[3]}),e[4]||(e[4]=t("i",{class:"bx bx-chevron-right"},null,-1))]),t("li",W,[l(c,{to:{name:""},class:"breadcrumb-item-class"},{default:r(()=>[t("span",null,m(a.classData.name),1),t("span",ee,m(a.classData.topic),1)]),_:1})])])])]),t("div",te,[t("div",ae,[e[19]||(e[19]=t("div",{class:"content-item-title"},[t("div",null,[t("span",null,"Quiz"),t("span",null,"View and manage quizes in your class")])],-1)),t("div",se,[t("div",ne,[t("div",ie,[l(c,{class:"navigator-item",to:{name:"User_Class_Exam"}},{default:r(()=>e[5]||(e[5]=[u(" Exam ")])),_:1,__:[5]}),l(c,{class:"navigator-item navigator-active",to:{name:""}},{default:r(()=>e[6]||(e[6]=[u(" Quiz ")])),_:1,__:[6]}),l(c,{class:"navigator-item",to:{name:"User_Class_Student"}},{default:r(()=>e[7]||(e[7]=[u(" Student ")])),_:1,__:[7]})])]),l(y,{value:a.pageParams.status,"onUpdate:value":e[0]||(e[0]=i=>a.pageParams.status=i),style:{width:"200px"},onChange:a.getData},{default:r(()=>[(p(!0),f(L,null,h(a.exam_status_options,i=>(p(),Z(_,{value:i.value},{default:r(()=>[u(m(i.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),t("div",oe,[l(a.Input,{onInput:a.getData,modelValue:a.pageParams.testName,"onUpdate:modelValue":e[1]||(e[1]=i=>a.pageParams.testName=i),placeholder:a.t("question_sets_index.search_placeholder")},{icon:r(()=>e[8]||(e[8]=[t("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])]),t("div",le,[l(z,{onChange:a.onPaginationChange,current:a.pageParams.pageNumber,"onUpdate:current":e[2]||(e[2]=i=>a.pageParams.pageNumber=i),total:a.pageParams.totalCount,pageSize:a.pageParams.pageSize,"show-total":(i,N)=>`${N[0]}-${N[1]} of ${i} items`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination"},null,8,["current","total","pageSize","show-total"])]),a.exam_data.length>0?(p(),f("div",re,[(p(!0),f(L,null,h(a.exam_data,i=>(p(),f("div",me,[e[17]||(e[17]=t("i",{class:"bx bx-book-open exam-item-icon"},null,-1)),t("div",null,[t("div",ue,[u(m(i.name)+" ",1),l(x,{color:a.getTagColor(i.status)},{default:r(()=>[u(m(i.status),1)]),_:2},1032,["color"])]),t("div",de,[t("div",null,[e[9]||(e[9]=t("i",{class:"bx bx-calendar"},null,-1)),u(" "+m(a.dayjs(i.date).format("DD/MM/YYYY HH:mm A")),1)])]),t("div",ce,[t("div",_e,[e[10]||(e[10]=t("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),u(" "+m(i.numberOfQuestions)+" "+m(g.$t("dashboards.list_items.quiz.questions")),1)]),t("div",pe,[e[11]||(e[11]=t("i",{class:"bx bx-time-five"},null,-1)),u(" "+m(i.timeLimit)+" min ",1)]),t("span",ge,m(i.numberOfCompletion)+" completions ",1),t("span",be," Assigned "+m(a.getFormattedRelativeTime(i.relativeTime)),1)])]),t("div",ve,[l(S,{trigger:["click"]},{overlay:r(()=>[l(w,{class:"drop-down-container"},{default:r(()=>[l(n,{key:"0"},{default:r(()=>[e[12]||(e[12]=t("i",{class:"bx bx-info-circle"},null,-1)),u(" "+m(g.$t("question_sets_index.buttons.detail")),1)]),_:1,__:[12]}),l(n,{key:"1"},{default:r(()=>[e[13]||(e[13]=t("i",{class:"bx bx-edit"},null,-1)),u(" "+m(g.$t("question_sets_index.buttons.edit")),1)]),_:1,__:[13]}),l(n,{key:"2"},{default:r(()=>[e[14]||(e[14]=t("i",{class:"bx bx-copy"},null,-1)),u(" "+m(g.$t("question_sets_index.buttons.dublicate")),1)]),_:1,__:[14]}),l(C,{style:{"background-color":"#ddd"}}),l(n,{key:"3"},{default:r(()=>[t("span",fe,[e[15]||(e[15]=t("i",{class:"bx bx-trash-alt"},null,-1)),u(" "+m(g.$t("question_sets_index.buttons.delete")),1)])]),_:1})]),_:1})]),default:r(()=>[e[16]||(e[16]=t("i",{class:"bx bx-dots-vertical-rounded ant-dropdown-link"},null,-1))]),_:1,__:[16]})])]))),256))])):(p(),f("div",xe,[l(v,null,{description:r(()=>e[18]||(e[18]=[t("span",null," No data matches. ",-1)])),_:1})]))])])])}const qe=Y(H,[["render",ye],["__scopeId","data-v-b4964186"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/class/quiz.vue"]]);export{qe as default};
