import{d as He,u as Re,q as Ue,l as ze,i as h,H as Qe,s as Pe,k as Ve,P as Fe,_ as Ye,r as q,a as l,o as a,b as t,c as d,w as _,f,t as s,p,e as S,C as _e,F as x,B as O}from"./index-Dd8-myui.js";import{A as Y}from"./ApiQuestionSet-wCWw8J7f.js";import{Q as T}from"./questionTypes-CS3lcRlq.js";import{T as Ge}from"./TextArea-DyOic0o8.js";import{l as Be}from"./vue-draggable-plus-CKvOH8GT.js";import{V as Xe}from"./Validator-CWeiTIFe.js";import{D as Ke}from"./index-CH2-UcYc.js";import{H as je}from"./HolderOutlined-B2mqMJJr.js";const Se=[{id:"q1",quote:"Keep pushing. You're almost there!"},{id:"q2",quote:"Stay focused. You've got this!"},{id:"q3",quote:"One step at a time. Keep going!"},{id:"q4",quote:"You're doing great. Don't stop now!"},{id:"q5",quote:"Every effort counts. Keep it up!"},{id:"q6",quote:"Strong mind. Strong progress."},{id:"q7",quote:"Momentum is yours. Own it!"},{id:"q8",quote:"Eyes forward. Energy up!"},{id:"q9",quote:"You're closer than you think."},{id:"q10",quote:"Rise up. Power through!"}],Je="/assets/trophy-BqY0IuVX.png",We=He({__name:"learn",setup(v,{expose:o}){o();const he=new URL("/assets/confetti-bjvcnoca.lottie",import.meta.url).href,{t:e}=Re(),W=Ue(),G=ze(),B={HTML:"HTML",PLAIN_TEXT:"PlainText"},w=h({title:"",description:"",completedQuestionCount:0,totalQuestionCount:0,questions:[]}),A=h(W.params.id),U=async()=>{if(!Xe.isValidGuid(A.value.toString())){G.push({name:"404"});return}let r=await Y.GetDetailById(A.value.toString()),u=await Y.LearnQuestions(A.value.toString(),7);if(!r.data.success||!u.data.success){G.push({name:"404"});return}if(w.value=u.data.data,w.value.completedQuestionCount===w.value.totalQuestionCount){fe();return}w.value.title=r.data.data.name,w.value.description=r.data.data.description,M.value=[...w.value.questions],n.value=M.value[0],M.value.shift()},Z=[{id:"1",user:{userName:"NguyenTanDuc"},content:"D",lastModified:"09/07/2025 10:12AM"},{id:"2",user:{userName:"NguyenManhDuong"},content:"Phải là A mới đúng",lastModified:"09/07/2025 10:15AM"},{id:"3",user:{userName:"PhamXuanTruong"},content:"A",lastModified:"09/07/2025 10:18AM"},{id:"4",user:{userName:"NguyenManhHieu"},content:"D",lastModified:"09/07/2025 10:20AM"},{id:"5",user:{userName:"NguyenDucTan123"},content:"It's d for sure",lastModified:"09/07/2025 10:25AM"},{id:"6",user:{userName:"NguyenDucTan123"},content:"It's d for sure",lastModified:"09/07/2025 10:25AM"},{id:"7",user:{userName:"NguyenDucTan123"},content:"It's d for sure",lastModified:"09/07/2025 10:25AM"},{id:"8",user:{userName:"NguyenDucTan123"},content:"It's d for sure",lastModified:"09/07/2025 10:25AM"},{id:"9",user:{userName:"NguyenDucTan123"},content:"It's d for sure",lastModified:"09/07/2025 10:25AM"},{id:"10",user:{userName:"NguyenDucTan123"},content:"It's d for sure",lastModified:"09/07/2025 10:25AM"}],ee=h(w.value.completedQuestionCount),y=h([]),I=h(new Set),M=h([]),C=h(!1),n=h({}),Q=h(""),L=h(!1),z=h(!1),g=h([]),P=Qe(()=>{var r;return(r=n.value.questionData.multipleChoice)==null?void 0:r.some(u=>u.text.length>=100)}),E=h([]),D=h([]),H=h([]),R=h(""),N=h({result:!1,resultText:e("learn_QS.result.wrong")}),ye=Qe(()=>Math.floor(w.value.completedQuestionCount/w.value.totalQuestionCount*100)),te=()=>{var i;let r=(i=n.value.questionData.multipleChoice)==null?void 0:i.filter(c=>c.isAnswer).map(c=>c.id||[]).sort(),u=g.value.sort();return g.value.length!==(r==null?void 0:r.length)?!1:u.every((c,m)=>c===r[m])},Te=r=>{var m;const u=w.value.questions.findIndex(b=>b.id===n.value.id);let i=(m=w.value.questions[u].questionData.multipleChoice)==null?void 0:m.filter(b=>b.isAnswer).map(b=>b.id||[]),c=g.value;return i!=null&&i.includes(r.id)?!0:!(c!=null&&c.includes(r.id)&&!r.isAnswer)},ne=()=>{var i;let r=((i=n.value.questionData.ordering)==null?void 0:i.map(c=>c.correctOrder).sort())||[];return H.value.map(c=>c.correctOrder).every((c,m)=>c===r[m])},se=()=>{let r=n.value.questionData.matching.matches,u=E.value.map(m=>m.id),i=D.value.map(m=>m.id);return u.map((m,b)=>({leftId:m,rightId:i[b]})).every(m=>r.some(b=>b.leftId===m.leftId&&b.rightId===m.rightId))},Ie=r=>{var b,V;const u=n.value.questionData.matching;if(!u)return!1;let i=u.leftItems.some(k=>k.id===r),c=u.matches.find(k=>i?k.leftId===r:k.rightId===r);const m=i?E.value.findIndex(k=>k.id===r):D.value.findIndex(k=>k.id===r);return m===-1||!c?!1:i?((b=D.value[m])==null?void 0:b.id)===c.rightId:((V=E.value[m])==null?void 0:V.id)===c.leftId},oe=r=>r.trim().toLowerCase().normalize("NFKC").replace(/[\u2019\u2018\u201B\u0060]/g,"'").replace(/\s+/g," "),re=()=>oe(R.value)===oe(n.value.questionData.shortText),Me=h(null),ae=h(!1),F=()=>{ae.value=!ae.value},ie=h(!1),xe=()=>{ie.value=!0},Ae=()=>{ie.value=!1},le=()=>{Y.LearnHistory(A.value.toString(),[{questionId:n.value.id,isCorrect:!0}])},Ce=()=>{switch(F(),L.value=!0,n.value.type){case T.MULTIPLE_CHOICE:{N.value={result:te(),resultText:te()?e("learn_QS.result.correct"):e("learn_QS.result.wrong")};break}case T.ORDERING:{N.value={result:ne(),resultText:ne()?e("learn_QS.result.correct"):e("learn_QS.result.wrong")};break}case T.MATCHING:{N.value={result:se(),resultText:se()?e("learn_QS.result.correct"):e("learn_QS.result.wrong")};break}case T.SHORT_TEXT:{N.value={result:re(),resultText:re()?e("learn_QS.result.correct"):e("learn_QS.result.wrong")};break}}N.value.result===!1&&!C.value?I.value.add(n.value):N.value.result&&C.value?(I.value.delete(n.value),y.value.push(n.value),w.value.completedQuestionCount+=1,le()):N.value.result===!1?I.value.add(n.value):(y.value.push(n.value),w.value.completedQuestionCount+=1,le()),j()},ke=r=>{var u;switch(F(),L.value=!0,z.value=!0,N.value={result:!1,resultText:e("learn_QS.result.skipped")},I.value.add(n.value),n.value.type){case T.MULTIPLE_CHOICE:{g.value=(u=n.value.questionData.multipleChoice)==null?void 0:u.filter(i=>i.isAnswer).map(i=>i.id);break}case T.MATCHING:{const i=n.value.questionData.matching,c=(i==null?void 0:i.matches)??[],m=(i==null?void 0:i.leftItems)??[],b=(i==null?void 0:i.rightItems)??[],V=c.map(de=>m.find(me=>me.id==de.leftId)),k=c.map(de=>b.find(me=>me.id==de.rightId));E.value=V,D.value=k;break}case T.ORDERING:{H.value=H.value.sort((i,c)=>i.correctOrder-c.correctOrder);break}case T.SHORT_TEXT:{R.value=n.value.questionData.shortText;break}}j()},X=()=>{var r;switch(n.value.type){case T.MULTIPLE_CHOICE:{Q.value=e("learn_QS.instructions.multiple_choice",{number:(r=n.value.questionData.multipleChoice)==null?void 0:r.filter(u=>u.isAnswer).length}),g.value=[];break}case T.ORDERING:{Q.value="Arrange these options to their correct order.",H.value=n.value.questionData.ordering;break}case T.MATCHING:{Q.value="Arrange the items to align with their correct matches.",E.value=n.value.questionData.matching.leftItems,D.value=n.value.questionData.matching.rightItems;break}case T.SHORT_TEXT:{Q.value="Fill in the blank the correct answer.",R.value="";break}}},qe=()=>{J(),j(),!(M.value.length<=0)&&(n.value=M.value.shift(),L.value=!1,z.value=!1,X(),F())},K=h(!1),ve=h(""),ge=()=>{ve.value=e(`learn_QS.final_modal.quotes.${Se[Math.floor(Math.random()*Se.length)].id}`),setTimeout(()=>{K.value=!0},1e3)},Oe=()=>{K.value=!1},j=async()=>{if(!(M.value.length>0)){if(I.value.size>0&&!C.value)C.value=!0,M.value=Array.from(I.value);else if(I.value.size===0&&!C.value||I.value.size>0&&C.value){const r=w.value.questions.map(u=>({questionId:u.id,isCorrect:y.value.some(i=>i.id===u.id)}));await Y.LearnHistory(A.value.toString(),r),ge();return}}},Ee=(r,u)=>{$(u).toggleClass("bx-chevron-down bx-chevron-up");const c=$(`#question-item-answer-${r}`);c&&$(c).slideToggle()},De=async()=>{await U(),C.value=!1,z.value=!1,L.value=!1,Q.value="",K.value=!1,I.value=new Set,y.value=[],F(),X()},ce=h(!1),fe=()=>{ce.value=!0,we()},pe=h(),ue=h(!1),we=()=>{var r,u;ue.value=!0,(u=(r=pe.value)==null?void 0:r.getDotLottieInstance())==null||u.play(),setTimeout(()=>{ue.value=!1},5e3)},Ne=async()=>{(await Y.resetLearnHistory(A.value.toString())).data.success&&(Ve.success(e("learn_QS.msg.learn_mode_reset")),ce.value=!1,await U())},Le={scroll:!0,scrollSensitivity:100,scrollSpeed:100,scrollTarget:document.scrollingElement};function J(){Fe(()=>{requestAnimationFrame(()=>{const r=document.querySelectorAll(".matching-option-container.left .answer-option-matching"),u=document.querySelectorAll(".matching-option-container.right .answer-option-matching"),i=Math.min(r.length,u.length);for(let c=0;c<i;c++){const m=r[c],b=u[c];if(!m||!b)continue;m.style.height="auto",b.style.height="auto";const V=Math.max(m.offsetHeight,b.offsetHeight);m.style.height=`${V}px`,b.style.height=`${V}px`}})})}Pe(async()=>{await U(),X(),J(),window.addEventListener("resize",J)});const be={animationPath:he,t:e,route:W,router:G,QUESTION_FORMAT:B,quiz:w,questionSetId:A,getQuizData:U,comment_sample:Z,totalCompleted:ee,completed:y,incorrect:I,currentSession:M,isCurrentSessionReLearn:C,currentQuestion:n,currentQuestionInstruction:Q,currentQuestionIsSubmitted:L,currentQuestionIsSkipped:z,userAnswerMultipleChoice:g,isOptionExceed:P,userAnswerMatchingLeft:E,userAnswerMatchingRight:D,userAnswerOrdering:H,userAnswerShortText:R,currentQuestionResult:N,completionPercentage:ye,checkMultipleChoice:te,checkMultipleChoiceAnswerCorrect:Te,checkOrdering:ne,checkMatching:se,checkMatchingAnswerCorrect:Ie,cleanShortTextAnswer:oe,checkShortText:re,explainModal:Me,explainModalOpen:ae,toggleExplainModal:F,commentModalOpen:ie,onOpenCommentModal:xe,onCloseCommentModal:Ae,sendCorrectQuestionHistory:le,onSubmitAnswer:Ce,onSkipQuestion:ke,resetUserAnswer:X,onNextQuestion:qe,finalModalOpen:K,finalModalQuote:ve,openFinalModal:ge,closeFinalModal:Oe,triggerFinalModal:j,toggleDisplayAnswer:Ee,onContinuesLearn:De,completeModalOpen:ce,openCompleteModal:fe,animationRef:pe,isAnimationDisplaying:ue,triggerAnimation:we,onResetLearnHistory:Ne,dragOptions:Le,syncMatchingHeights:J,get QUESTION_TYPE(){return T},TextArea:Ge,get VueDraggable(){return Be},get HolderOutlined(){return je},get DotLottieVue(){return Ke},get trophy_png(){return Je}};return Object.defineProperty(be,"__isScriptSetup",{enumerable:!1,value:!0}),be}}),Ze={class:"page-container"},$e={class:"title-container"},et={class:"progress-bar-container"},tt={class:"progress-info"},nt={class:"progress-info-number"},st={class:"progress-info-percentage"},ot={class:"content"},rt={class:"content-item"},at={class:"section question-section"},it=["innerHTML"],lt={class:"section answer-section"},ct={key:0,class:"relearn-ins"},ut={class:"d-flex align-items-center"},dt={class:"answer-section-ins"},mt={class:"answer-option-content"},_t={key:0,class:"bx bx-check answer-icon"},ht={key:1,class:"bx bx-x answer-icon"},vt={key:2,class:"answer-option-container matching"},gt={class:"matching-option-container left"},ft={class:"d-flex align-items-center"},pt={class:"answer-option-order"},wt={class:"answer-option-content"},bt={class:"matching-option-container right"},Qt={class:"d-flex align-items-center"},St={class:"answer-option-content"},yt={class:"answer-option-order"},Tt={key:3,class:"answer-option-container ordering"},It={class:"answer-option-order"},Mt={class:"answer-option-content"},xt={key:4,class:"answer-option-container"},At={class:"w-100 d-flex align-items-center"},Ct={key:0,class:"bx bx-check answer-icon"},kt={key:1,class:"bx bx-x answer-icon"},qt={key:0,class:"short-text-correct-answer"},Ot={class:"learn-question-footer"},Et={class:"d-flex"},Dt={class:"learn-question-explain"},Nt={class:"comment-section"},Lt={class:"comment-container"},Ht={class:"comment-item"},Rt={class:"comment-content-info"},Ut={class:"comment-content"},zt={class:"comment-form-footer"},Pt={class:"me-3 main-color-btn-ghost"},Vt={class:"title-container"},Ft={class:"content-item modal-final-container"},Yt={class:"final-modal-quote"},Gt={class:"progress-bar-container final"},Bt={class:"progress-info"},Xt={class:"progress-info-percentage"},Kt={class:"progress-info"},jt={class:"progress-info-percentage"},Jt={class:"progress-info-percentage"},Wt={class:"content-item modal-final-container"},Zt={class:"preview-question-title"},$t={class:"preview-question-container"},en={class:"preview-question-item"},tn={class:"question-item-content"},nn=["innerHTML"],sn={key:1,class:"question-text"},on=["id"],rn={key:0,class:"multiple-choice-answer"},an={key:0,class:"text-success"},ln={class:"pair-answer"},cn={class:"pair-answer-item"},un={class:"pair-answer-item"},dn={key:2,class:"ordering-answer"},mn={class:"ordering-answer-item"},_n={class:"ordering-answer-item"},hn={class:"ordering-answer-item"},vn={class:"short-text-answer"},gn={class:"question-item-toogle-btn"},fn=["onClick"],pn={class:"content-item final-modal-footer"},wn={class:"modal-complete-container"},bn={class:"content-item modal-complete"},Qn=["src"],Sn={class:"modal-complete-content-container"},yn={class:"modal-complete-content"},Tn={class:"modal-complete-content sub-content"},In={class:"modal-complete-buttons-container"};function Mn(v,o,he,e,W,G){const B=q("RouterLink"),w=q("a-col"),A=q("a-row"),U=q("a-progress"),Z=q("a-checkbox"),ee=q("a-checkbox-group"),y=q("a-button"),I=q("a-form"),M=q("a-drawer"),C=q("a-divider");return a(),l(x,null,[t("div",Ze,[t("div",$e,[d(A,{class:"w-100 d-flex align-items-center"},{default:_(()=>[d(w,{span:1},{default:_(()=>[d(B,{to:{name:"User_Library"}},{default:_(()=>o[7]||(o[7]=[t("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[7]})]),_:1}),d(w,{class:"main-title",span:23},{default:_(()=>[t("span",null,s(e.quiz.title),1),o[8]||(o[8]=f()),o[9]||(o[9]=t("br",null,null,-1)),t("span",null,s(e.quiz.description),1)]),_:1,__:[8,9]})]),_:1})]),t("div",et,[t("div",tt,[t("div",nt,s(v.$t("learn_QS.other.progress_count",{current:e.totalCompleted+1,total:e.quiz.totalQuestionCount})),1),t("div",st,[t("span",null,s(e.completionPercentage),1),f(" % "+s(v.$t("learn_QS.other.completed")),1)])]),d(U,{"show-info":!1,"stroke-color":"#7C3AED",status:"active",percent:e.completionPercentage},null,8,["percent"])]),t("div",ot,[t("div",rt,[t("div",at,[t("div",{class:p(["learn-question",e.currentQuestion.textFormat===e.QUESTION_FORMAT.HTML?"":"d-none"]),innerHTML:e.currentQuestion.questionText},null,10,it),t("div",{class:p(["learn-question",e.currentQuestion.textFormat===e.QUESTION_FORMAT.HTML?"d-none":""])},s(e.currentQuestion.questionText),3),t("div",lt,[e.isCurrentSessionReLearn?(a(),l("div",ct,s(v.$t("learn_QS.instructions.re_learn_ins")),1)):S("v-if",!0),t("div",ut,[t("div",dt,s(e.currentQuestionInstruction),1),t("div",{class:p(["ms-3 learn-question-result",e.currentQuestionIsSubmitted?"":"d-none",e.currentQuestionIsSubmitted?e.currentQuestionResult.result?"result-correct":"result-incorrect":"",e.currentQuestionIsSkipped?"result-skipped":""])},s(e.currentQuestionResult.resultText),3)]),e.currentQuestion.type===e.QUESTION_TYPE.MULTIPLE_CHOICE?(a(),_e(ee,{key:1,value:e.userAnswerMultipleChoice,"onUpdate:value":o[0]||(o[0]=n=>e.userAnswerMultipleChoice=n),class:p(["answer-option-container multiplechoice",e.isOptionExceed?"column":""])},{default:_(()=>[(a(!0),l(x,null,O(e.currentQuestion.questionData.multipleChoice,n=>(a(),_e(Z,{value:n.id,"onUpdate:value":Q=>n.id=Q,disabled:e.currentQuestionIsSubmitted,class:p(["answer-option answer-option-multiplechoice",e.currentQuestionIsSubmitted&&e.checkMultipleChoiceAnswerCorrect(n)&&n.isAnswer?"answer-correct":"",e.currentQuestionIsSubmitted&&!e.checkMultipleChoiceAnswerCorrect(n)&&!n.isAnswer?"answer-incorrect":""])},{default:_(()=>[t("div",mt,s(n.text),1),e.currentQuestionIsSubmitted&&e.checkMultipleChoiceAnswerCorrect(n)&&n.isAnswer?(a(),l("i",_t)):S("v-if",!0),e.currentQuestionIsSubmitted&&!e.checkMultipleChoiceAnswerCorrect(n)&&!n.isAnswer?(a(),l("i",ht)):S("v-if",!0)]),_:2},1032,["value","onUpdate:value","disabled","class"]))),256))]),_:1},8,["value","class"])):S("v-if",!0),e.currentQuestion.type===e.QUESTION_TYPE.MATCHING?(a(),l("div",vt,[t("div",gt,[d(e.VueDraggable,{disabled:e.currentQuestionIsSubmitted,modelValue:e.userAnswerMatchingLeft,"onUpdate:modelValue":o[1]||(o[1]=n=>e.userAnswerMatchingLeft=n),options:e.dragOptions,onEnd:e.syncMatchingHeights},{default:_(()=>[(a(!0),l(x,null,O(e.userAnswerMatchingLeft,(n,Q)=>(a(),l("div",ft,[t("div",{class:p(["answer-option answer-option-matching",e.currentQuestionIsSubmitted?e.checkMatchingAnswerCorrect(n.id)?"answer-correct":"answer-incorrect":""])},[t("div",pt,[d(e.HolderOutlined)]),t("div",wt,s(n.text),1)],2),t("i",{class:p(["bx bxs-label matching-icon",e.currentQuestionIsSubmitted?e.checkMatchingAnswerCorrect(n.id)?"answer-correct-icon":"answer-incorrect-icon":""])},null,2)]))),256))]),_:1},8,["disabled","modelValue"])]),t("div",bt,[d(e.VueDraggable,{disabled:e.currentQuestionIsSubmitted,modelValue:e.userAnswerMatchingRight,"onUpdate:modelValue":o[2]||(o[2]=n=>e.userAnswerMatchingRight=n),options:e.dragOptions,onEnd:e.syncMatchingHeights},{default:_(()=>[(a(!0),l(x,null,O(e.userAnswerMatchingRight,(n,Q)=>(a(),l("div",Qt,[t("i",{class:p(["bx bxs-label matching-icon",e.currentQuestionIsSubmitted?e.checkMatchingAnswerCorrect(n.id)?"answer-correct-icon":"answer-incorrect-icon":""])},null,2),t("div",{class:p(["answer-option answer-option-matching",e.currentQuestionIsSubmitted?e.checkMatchingAnswerCorrect(n.id)?"answer-correct":"answer-incorrect":""])},[t("div",St,s(n.text),1),t("div",yt,[d(e.HolderOutlined)])],2)]))),256))]),_:1},8,["disabled","modelValue"])])])):S("v-if",!0),e.currentQuestion.type===e.QUESTION_TYPE.ORDERING?(a(),l("div",Tt,[d(e.VueDraggable,{disabled:e.currentQuestionIsSubmitted,modelValue:e.userAnswerOrdering,"onUpdate:modelValue":o[3]||(o[3]=n=>e.userAnswerOrdering=n),options:e.dragOptions},{default:_(()=>[(a(!0),l(x,null,O(e.userAnswerOrdering,(n,Q)=>(a(),l("div",{class:p(["answer-option answer-option-ordering",e.currentQuestionIsSubmitted?Q===n.correctOrder?"answer-correct":"answer-incorrect":""])},[t("div",It,[d(e.HolderOutlined),f(" "+s(Q+1),1)]),t("div",Mt,s(n.text),1),t("div",{class:p(["answer-option-order answer-icon",e.currentQuestionIsSubmitted?"":"d-none"])},[o[10]||(o[10]=t("i",{class:"bx bx-hash answer-icon"},null,-1)),f(" "+s(n.correctOrder),1)],2)],2))),256))]),_:1},8,["disabled","modelValue"])])):S("v-if",!0),e.currentQuestion.type===e.QUESTION_TYPE.SHORT_TEXT?(a(),l("div",xt,[t("div",{layout:"vertical",class:p(["answer-short-text",e.currentQuestionIsSubmitted?e.checkShortText()?"answer-correct":"answer-incorrect":""])},[t("div",At,[d(e.TextArea,{readonly:e.currentQuestionIsSubmitted,placeholder:"Enter your answer...",modelValue:e.userAnswerShortText,"onUpdate:modelValue":o[4]||(o[4]=n=>e.userAnswerShortText=n)},null,8,["readonly","modelValue"]),e.currentQuestionIsSubmitted&&e.checkShortText()?(a(),l("i",Ct)):S("v-if",!0),e.currentQuestionIsSubmitted&&!e.checkShortText()?(a(),l("i",kt)):S("v-if",!0)]),e.currentQuestionIsSubmitted&&!e.checkShortText()?(a(),l("div",qt,[f(s(v.$t("learn_QS.instructions.short_text_answer"))+" ",1),t("span",null,s(e.currentQuestion.questionData.shortText),1)])):S("v-if",!0)],2)])):S("v-if",!0)])]),t("div",Ot,[t("div",{class:p(["main-color-btn-ghost",e.currentQuestionIsSubmitted?"main-color-btn-ghost-disabled":""]),onClick:o[5]||(o[5]=n=>e.onSkipQuestion(n))},s(v.$t("learn_QS.buttons.dont_know")),3),t("div",Et,[t("div",{class:p(["main-color-btn-ghost me-3",e.currentQuestionIsSubmitted?"":"d-none"]),onClick:e.onOpenCommentModal},[o[11]||(o[11]=t("i",{class:"bx bx-conversation me-2"},null,-1)),f(" "+s(v.$t("learn_QS.buttons.comment")),1)],2),t("div",{class:p(["main-color-btn-ghost me-3",e.currentQuestionIsSubmitted?"":"d-none"]),onClick:e.toggleExplainModal},[o[12]||(o[12]=t("i",{class:"bx bx-bulb me-2"},null,-1)),f(" "+s(v.$t("learn_QS.buttons.explaination")),1)],2),d(y,{class:p(["main-color-btn",e.currentQuestionIsSubmitted?"main-color-btn-disabled":""]),type:"primary",size:"large",onClick:e.onSubmitAnswer},{default:_(()=>[f(s(v.$t("learn_QS.buttons.submit")),1)]),_:1},8,["class"])])])]),t("div",{ref:"explainModal",class:p(["explain-modal explain-modal-up",{show:e.explainModalOpen}])},[t("div",Dt,s(e.currentQuestion.explainText),1),d(y,{class:p(["main-color-btn close-modal-btn"]),type:"primary",size:"large",onClick:e.toggleExplainModal},{default:_(()=>o[13]||(o[13]=[t("i",{class:"bx bx-chevrons-down"},null,-1)])),_:1,__:[13]}),d(y,{class:p(["main-color-btn"]),type:"primary",size:"large",onClick:e.onNextQuestion},{default:_(()=>[f(s(v.$t("learn_QS.buttons.next_question"))+" ",1),o[14]||(o[14]=t("i",{class:"bx bx-chevron-right"},null,-1))]),_:1,__:[14]})],2),d(M,{width:500,title:"Comment section",placement:"right",open:e.commentModalOpen,onClose:e.onCloseCommentModal},{default:_(()=>[t("div",Nt,[t("div",Lt,[(a(),l(x,null,O(e.comment_sample,n=>t("div",Ht,[o[15]||(o[15]=t("img",{class:"comment-user-img",src:"",alt:""},null,-1)),t("div",null,[t("div",Rt,[f(s(n.user.userName)+" ",1),t("span",null,s(n.lastModified),1)]),t("div",Ut,s(n.content),1)])])),64))]),d(I,{layout:"vertical",class:"comment-form"},{default:_(()=>[d(e.TextArea,{label:"Your comment",placeholder:"Add a comment"}),t("div",zt,[t("div",Pt,s(v.$t("learn_QS.buttons.cancel")),1),d(y,{type:"primary",shape:"round",class:"main-color-btn"},{default:_(()=>[f(s(v.$t("learn_QS.buttons.send_comment")),1)]),_:1})])]),_:1})])]),_:1},8,["open"])])]),d(M,{open:e.finalModalOpen,placement:"top",height:"100vh",closable:!1,onClose:e.closeFinalModal,"body-style":{padding:0,height:"100%"}},{title:_(()=>[t("div",Vt,[d(A,{class:"w-100 d-flex align-items-center"},{default:_(()=>[d(w,{span:1},{default:_(()=>[d(B,{to:{name:"User_Library"}},{default:_(()=>o[16]||(o[16]=[t("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[16]})]),_:1}),d(w,{class:"main-title",span:23},{default:_(()=>[t("span",null,s(e.quiz.title),1),o[17]||(o[17]=f()),o[18]||(o[18]=t("br",null,null,-1))]),_:1,__:[17,18]})]),_:1})])]),default:_(()=>[t("div",Ft,[t("div",Yt,s(e.finalModalQuote),1)]),t("div",Gt,[t("div",Bt,[t("div",Xt,[f(s(v.$t("learn_QS.other.total_set_progress"))+" ",1),t("span",null,s(e.completionPercentage)+"%",1)])]),d(U,{"show-info":!1,"stroke-color":"#7C3AED",status:"active",percent:e.completionPercentage},null,8,["percent"]),t("div",Kt,[t("div",jt,[f(s(v.$t("learn_QS.other.completed"))+": ",1),t("span",null,s(e.quiz.completedQuestionCount),1)]),t("div",Jt,[f(s(v.$t("learn_QS.other.total_question"))+" ",1),t("span",null,s(e.quiz.totalQuestionCount),1)])])]),t("div",Wt,[d(C,{style:{"background-color":"var(--content-item-border-color)"}}),t("div",Zt,s(v.$t("learn_QS.other.preview_modal_title")),1),t("div",$t,[(a(!0),l(x,null,O(e.completed,(n,Q)=>{var L,z;return a(),l("div",en,[t("div",tn,[n.textFormat===e.QUESTION_FORMAT.HTML?(a(),l("div",{key:0,class:"question-html",innerHTML:n.questionText},null,8,nn)):(a(),l("div",sn,s(n.questionText),1)),t("div",{class:"question-item-answer",id:`question-item-answer-${Q}`},[n.type===e.QUESTION_TYPE.MULTIPLE_CHOICE?(a(),l("div",rn,[t("ul",null,[(a(!0),l(x,null,O(n.questionData.multipleChoice,g=>(a(),l("li",null,[f(s(g.text)+" ",1),g.isAnswer?(a(),l("span",an," ("+s(g.isAnswer)+") ",1)):S("v-if",!0)]))),256))])])):S("v-if",!0),n.type===e.QUESTION_TYPE.MATCHING?(a(!0),l(x,{key:1},O((L=n.questionData.matching)==null?void 0:L.matches,g=>{var P,E,D,H;return a(),l("div",ln,[t("span",cn,s((E=(P=n.questionData.matching)==null?void 0:P.leftItems.find(R=>R.id===g.leftId))==null?void 0:E.text),1),o[19]||(o[19]=t("i",{class:"bx bx-right-arrow-alt"},null,-1)),t("span",un,s((H=(D=n.questionData.matching)==null?void 0:D.rightItems.find(R=>R.id===g.rightId))==null?void 0:H.text),1)])}),256)):S("v-if",!0),n.type===e.QUESTION_TYPE.ORDERING?(a(),l("div",dn,[t("div",mn,[(a(!0),l(x,null,O(n.questionData.ordering,g=>(a(),l("div",null,s(g.text),1))),256))]),o[20]||(o[20]=t("i",{class:"bx bx-right-arrow-alt"},null,-1)),t("div",_n,[(a(!0),l(x,null,O((z=n.questionData.ordering)==null?void 0:z.sort((g,P)=>g.correctOrder-P.correctOrder),(g,P)=>(a(),l("div",hn,[t("span",null,"#"+s(g.correctOrder),1),f(" - "+s(g.text),1)]))),256))])])):S("v-if",!0),n.type===e.QUESTION_TYPE.SHORT_TEXT?(a(),l(x,{key:3},[o[21]||(o[21]=t("span",null,"Answer:",-1)),t("div",vn,s(n.questionData.shortText),1)],64)):S("v-if",!0)],8,on)]),t("div",gn,[t("i",{class:"bx bx-chevron-up",onClick:g=>e.toggleDisplayAnswer(Q,g.currentTarget)},null,8,fn)])])}),256))]),t("div",pn,[t("div",null,s(v.$t("learn_QS.other.preview_modal_continues_ins")),1),d(y,{class:p(["main-color-btn"]),type:"primary",size:"large",shape:"round",onClick:e.onContinuesLearn},{default:_(()=>[f(s(v.$t("learn_QS.buttons.continue")),1)]),_:1})])])]),_:1},8,["open"]),d(M,{open:e.completeModalOpen,placement:"top",height:"100vh",closable:!1,onClose:e.closeFinalModal,"body-style":{padding:0,height:"100%"}},{default:_(()=>[e.isAnimationDisplaying?(a(),_e(e.DotLottieVue,{key:0,autoplay:e.isAnimationDisplaying,ref:"animationRef",class:p(["animation-container"]),onComplete:o[6]||(o[6]=n=>e.isAnimationDisplaying=!1),src:e.animationPath},null,8,["autoplay","src"])):S("v-if",!0),t("div",wn,[t("div",bn,[t("img",{class:"modal-complete-img",src:e.trophy_png,alt:""},null,8,Qn),t("div",Sn,[t("div",yn,s(v.$t("learn_QS.other.complete_modal_congratulation")),1),t("div",Tn,s(v.$t("learn_QS.other.complete_modal_ins")),1)]),t("div",In,[d(y,{type:"primary",class:"main-color-btn ghost-btn",size:"large"},{default:_(()=>[f(s(v.$t("learn_QS.buttons.back_to_home")),1)]),_:1}),d(y,{type:"primary",class:"main-color-btn",size:"large"},{default:_(()=>[f(s(v.$t("learn_QS.buttons.take_a_test")),1)]),_:1}),d(y,{type:"primary",class:"main-color-btn",size:"large",onClick:e.onResetLearnHistory},{default:_(()=>[f(s(v.$t("learn_QS.buttons.reset_learn_mode")),1)]),_:1})])])])]),_:1},8,["open"])],64)}const Nn=Ye(We,[["render",Mn],["__scopeId","data-v-5fe31f19"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/question_sets/learn.vue"]]);export{Nn as default};
