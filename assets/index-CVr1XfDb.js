import{d as R,q as F,l as A,g as U,u as D,H as L,i as B,j as O,J as j,s as E,M as V,k as Q,_ as G,r as u,a as v,o as g,b as t,f as c,t as i,c as r,w as l,F as N,B as M,C as H}from"./index-Dd8-myui.js";import{A as I}from"./ApiTestTemplate-x2TAPrW4.js";import{F as P}from"./folderShareMode-BudLQ2R2.js";import{I as J}from"./Input-BtmZP41X.js";const K=R({__name:"index",emits:["updateSidebar"],setup(d,{expose:a,emit:C}){var T;a();const e=F(),b=A(),w=U(),{t:f}=D(),h=C,x=Object.values(P),y=L(()=>x.map(n=>({label:f(`folder_index.select_option.${n}`),value:n!==P.ALL?n:""}))),z=B([]),s=O({pageNumber:e.query.pageNumber||1,pageSize:e.query.pageSize||10,name:((T=e.query.name)==null?void 0:T.toString())||"",shareMode:e.query.shareMode||y.value[0].value,totalCount:0,statusFilter:!1}),_=async()=>{try{let n=await I.GetAllByLimit(s);if(n.data.success){let m=n.data.data;z.value=m.items,s.pageNumber=m.pageNumber,s.pageSize=m.pageSize,s.totalCount=m.totalCount,s.statusFilter&&(s.pageNumber>m.totalPages&&s.totalCount>0?(s.pageNumber=1,b.push({name:"User_TestTemplate",query:{pageNumber:1,pageSize:s.pageSize,name:s.name,shareMode:s.shareMode}})):b.push({name:"User_TestTemplate",query:{pageNumber:s.pageNumber,pageSize:s.pageSize,name:s.name,shareMode:s.shareMode}}),s.statusFilter=!s.statusFilter)}}catch(n){console.log("ERROR: GETALLBYLIMIT testtemplate: "+n)}};j(()=>{var n;Object.keys(e.query).length===0&&(s.pageNumber=e.query.pageNumber||1,s.pageSize=e.query.pageSize||10,s.name=((n=e.query.name)==null?void 0:n.toString())||"",s.shareMode=e.query.shareMode||y.value[0].value,s.statusFilter=!0,_())});const q=(n,m)=>{s.pageNumber=n,s.pageSize=m,s.statusFilter=!0,_()},S=()=>{b.push({name:"User_TestTemplate_Create"})},k=n=>{b.push({name:"User_TestTemplate_Update",params:{id:n}})},o=n=>{V.confirm({title:"Are you sure to delete this test template?",content:"Please double check the important resources!",onOk:async()=>{(await I.Delete(n)).data.success&&(Q.success("Removed successfully!"),await _())}})};E(async()=>{h("updateSidebar","folder"),await _()});const p={route:e,router:b,authStore:w,t:f,emit:h,optionKeys:x,share_mode_options:y,test_template_data:z,pageParams:s,getData:_,onPaginationChange:q,onRefirectToCreate:S,onRefirectToUpdate:k,onDelete:o,Input:J};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),Y={class:"page-container"},W={class:"title-container"},X={class:"main-title"},Z={class:"title-button-container"},$={class:"content"},ee={class:"content-item"},te={class:"content-item-functions"},ae={class:"content-item-navigators"},se={class:"navigator-container"},oe={class:"filter-container"},ne={style:{width:"300px",padding:"0px"}},ie={key:0,class:"quiz-item-container"},re={class:"quiz-item"},le={class:"quiz-item-title"},de={class:"quiz-item-info quiz-info-detail"},ue={class:"quiz-item-questions"},ce={class:"quiz-item-created-by"},me={class:"exam-item-actions"},_e={class:"d-flex align-items-center"},pe={key:1,class:"w-100 d-flex justify-content-center"},ge={class:"pagination-container"};function be(d,a,C,e,b,w){const f=u("a-button"),h=u("RouterLink"),x=u("a-select-option"),y=u("a-select"),z=u("a-menu-item"),s=u("a-menu-divider"),_=u("a-menu"),q=u("a-dropdown"),S=u("a-empty"),k=u("a-pagination");return g(),v("div",Y,[t("div",W,[t("div",X,[t("span",null,i(d.$t("folder_index.title")),1),a[3]||(a[3]=c()),a[4]||(a[4]=t("br",null,null,-1)),t("span",null,i(d.$t("folder_index.sub_title")),1)]),t("div",Z,[r(f,{type:"primary",class:"ms-3 main-color-btn",size:"large",onClick:e.onRefirectToCreate},{default:l(()=>a[5]||(a[5]=[c(" Create new template "),t("i",{class:"bx bx-plus"},null,-1)])),_:1,__:[5]})])]),t("div",$,[t("div",ee,[t("div",te,[t("div",ae,[t("div",se,[r(h,{class:"navigator-item",to:{name:"User_Folder"}},{default:l(()=>[c(i(d.$t("folder_index.navigators.folder")),1)]),_:1}),r(h,{class:"navigator-item navigator-active",to:{name:""}},{default:l(()=>[c(i(d.$t("folder_index.navigators.test_template")),1)]),_:1})])]),t("div",oe,[r(y,{class:"me-3",value:e.pageParams.shareMode,"onUpdate:value":a[0]||(a[0]=o=>e.pageParams.shareMode=o),style:{width:"200px"},onChange:e.getData},{default:l(()=>[(g(!0),v(N,null,M(e.share_mode_options,o=>(g(),H(x,{value:o.value},{default:l(()=>[c(i(o.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),t("div",ne,[r(e.Input,{onInput:e.getData,modelValue:e.pageParams.name,"onUpdate:modelValue":a[1]||(a[1]=o=>e.pageParams.name=o),placeholder:e.t("class_index.other.search_class_placeholder")},{icon:l(()=>a[6]||(a[6]=[t("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])])]),e.test_template_data.length>0?(g(),v("div",ie,[(g(!0),v(N,null,M(e.test_template_data,o=>(g(),v("div",re,[a[11]||(a[11]=t("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),t("div",null,[t("div",le,i(o.name),1),t("div",de,[t("div",ue,[a[7]||(a[7]=t("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),c(" "+i(o.numberOfQuestion)+" "+i(d.$t("dashboards.list_items.quiz.questions")),1)]),t("div",ce,i(d.$t("class_question_set.other.created_by"))+" "+i(o.createdBy),1)])]),t("div",me,[r(f,{type:"primary",class:"me-3 main-color-btn"},{default:l(()=>[c(i(d.$t("class_question_set.buttons.view")),1)]),_:1}),r(q,{trigger:["click"]},{overlay:l(()=>[r(_,{class:"drop-down-container"},{default:l(()=>[r(z,{key:"1",onClick:p=>e.onRefirectToUpdate(o.testTemplateId)},{default:l(()=>[a[8]||(a[8]=t("i",{class:"bx bx-edit"},null,-1)),c(" "+i(d.$t("question_sets_index.buttons.edit")),1)]),_:2,__:[8]},1032,["onClick"]),r(s,{style:{"background-color":"#ddd"}}),r(z,{key:"3",onClick:p=>e.onDelete(o.testTemplateId)},{default:l(()=>[t("span",_e,[a[9]||(a[9]=t("i",{class:"bx bx-trash-alt"},null,-1)),c(" "+i(d.$t("question_sets_index.buttons.delete")),1)])]),_:2},1032,["onClick"])]),_:2},1024)]),default:l(()=>[a[10]||(a[10]=t("i",{class:"bx bx-dots-vertical-rounded ant-dropdown-link"},null,-1))]),_:2,__:[10]},1024)])]))),256))])):(g(),v("div",pe,[r(S,null,{description:l(()=>a[12]||(a[12]=[t("span",null," No data matches. ",-1)])),_:1})])),t("div",ge,[r(k,{onChange:e.onPaginationChange,current:e.pageParams.pageNumber,"onUpdate:current":a[2]||(a[2]=o=>e.pageParams.pageNumber=o),total:e.pageParams.totalCount,pageSize:e.pageParams.pageSize,"show-total":(o,p)=>`${p[0]}-${p[1]} of ${o} ${e.t("folder_index.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:e.t("folder_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])])])])])}const ze=G(K,[["render",be],["__scopeId","data-v-3b3a6f2e"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/test_template/index.vue"]]);export{ze as default};
