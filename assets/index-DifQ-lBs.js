import{d as R,q as F,l as A,g as U,u as D,C as L,i as O,j as B,P as E,s as j,M as V,k as G,_ as Q,r as _,a as g,o as d,b as a,f as v,t as i,c as u,w as c,F as T,E as N,G as H}from"./index-CNC2148x.js";import{A as k}from"./ApiTestTemplate-C8M07FBO.js";import{F as w}from"./folderShareMode-BudLQ2R2.js";import{I as K}from"./Input-B6AzPJuz.js";const Y=R({__name:"index",emits:["updateSidebar"],setup(l,{expose:s,emit:x}){var C;s();const e=F(),m=A(),q=U(),{t:f}=D(),h=x,y=Object.values(w),b=L(()=>y.map(n=>({label:f(`folder_index.select_option.${n}`),value:n!==w.ALL?n:""}))),z=O([]),t=B({pageNumber:e.query.pageNumber||1,pageSize:e.query.pageSize||10,name:((C=e.query.name)==null?void 0:C.toString())||"",shareMode:e.query.shareMode||b.value[0].value,totalCount:0,statusFilter:!1}),o=async()=>{try{let n=await k.GetAllByLimit(t);if(n.data.success){let r=n.data.data;z.value=r.items,t.pageNumber=r.pageNumber,t.pageSize=r.pageSize,t.totalCount=r.totalCount,t.statusFilter&&(t.pageNumber>r.totalPages&&t.totalCount>0?(t.pageNumber=1,m.push({name:"User_TestTemplate",query:{pageNumber:1,pageSize:t.pageSize,name:t.name,shareMode:t.shareMode}})):m.push({name:"User_TestTemplate",query:{pageNumber:t.pageNumber,pageSize:t.pageSize,name:t.name,shareMode:t.shareMode}}),t.statusFilter=!t.statusFilter)}}catch(n){console.log("ERROR: GETALLBYLIMIT testtemplate: "+n)}};E(()=>{var n;Object.keys(e.query).length===0&&(t.pageNumber=e.query.pageNumber||1,t.pageSize=e.query.pageSize||10,t.name=((n=e.query.name)==null?void 0:n.toString())||"",t.shareMode=e.query.shareMode||b.value[0].value,t.statusFilter=!0,o())});const p=(n,r)=>{t.pageNumber=n,t.pageSize=r,t.statusFilter=!0,o()},M=()=>{m.push({name:"User_TestTemplate_Create"})},P=n=>{m.push({name:"User_TestTemplate_Update",params:{id:n}})},I=n=>{V.confirm({title:"Are you sure to delete this test template?",content:"Please double check the important resources!",onOk:async()=>{(await k.Delete(n)).data.success&&(G.success("Removed successfully!"),await o())}})};j(async()=>{h("updateSidebar","folder"),await o()});const S={route:e,router:m,authStore:q,t:f,emit:h,optionKeys:y,share_mode_options:b,test_template_data:z,pageParams:t,getData:o,onPaginationChange:p,onRefirectToCreate:M,onRefirectToUpdate:P,onDelete:I,Input:K};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),J={class:"page-container"},W={class:"title-container"},X={class:"main-title"},Z={class:"title-button-container"},$={class:"content"},ee={class:"content-item"},te={class:"content-item-functions"},ae={class:"content-item-navigators"},se={class:"navigator-container"},oe={class:"filter-container"},ne={style:{width:"300px",padding:"0px"}},ie={key:0,class:"quiz-item-container"},re={class:"quiz-item"},le={class:"quiz-item-title"},de={class:"quiz-item-info quiz-info-detail"},ue={class:"quiz-item-questions"},ce={class:"quiz-item-created-by"},me={class:"exam-item-actions"},pe=["onClick"],_e=["onClick"],ge={key:1,class:"w-100 d-flex justify-content-center"},ve={class:"pagination-container"};function he(l,s,x,e,m,q){const f=_("a-button"),h=_("RouterLink"),y=_("a-select-option"),b=_("a-select"),z=_("a-empty"),t=_("a-pagination");return d(),g("div",J,[a("div",W,[a("div",X,[a("span",null,i(l.$t("folder_index.title")),1),s[3]||(s[3]=v()),s[4]||(s[4]=a("br",null,null,-1)),a("span",null,i(l.$t("folder_index.sub_title")),1)]),a("div",Z,[u(f,{type:"primary",class:"ms-3 main-color-btn",size:"large",onClick:e.onRefirectToCreate},{default:c(()=>s[5]||(s[5]=[v(" Create new template "),a("i",{class:"bx bx-plus"},null,-1)])),_:1,__:[5]})])]),a("div",$,[a("div",ee,[a("div",te,[a("div",ae,[a("div",se,[u(h,{class:"navigator-item",to:{name:"User_Folder"}},{default:c(()=>[v(i(l.$t("folder_index.navigators.folder")),1)]),_:1}),u(h,{class:"navigator-item navigator-active",to:{name:""}},{default:c(()=>[v(i(l.$t("folder_index.navigators.test_template")),1)]),_:1})])]),a("div",oe,[u(b,{class:"me-3",value:e.pageParams.shareMode,"onUpdate:value":s[0]||(s[0]=o=>e.pageParams.shareMode=o),style:{width:"200px"},onChange:e.getData},{default:c(()=>[(d(!0),g(T,null,N(e.share_mode_options,o=>(d(),H(y,{value:o.value},{default:c(()=>[v(i(o.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),a("div",ne,[u(e.Input,{onInput:e.getData,modelValue:e.pageParams.name,"onUpdate:modelValue":s[1]||(s[1]=o=>e.pageParams.name=o),placeholder:e.t("class_index.other.search_class_placeholder")},{icon:c(()=>s[6]||(s[6]=[a("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])])]),e.test_template_data.length>0?(d(),g("div",ie,[(d(!0),g(T,null,N(e.test_template_data,o=>(d(),g("div",re,[s[8]||(s[8]=a("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),a("div",null,[a("div",le,i(o.name),1),a("div",de,[a("div",ue,[s[7]||(s[7]=a("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),v(" "+i(o.numberOfQuestion)+" "+i(l.$t("dashboards.list_items.quiz.questions")),1)]),a("div",ce,i(l.$t("class_question_set.other.created_by"))+" "+i(o.createdBy),1)])]),a("div",me,[a("i",{class:"bx bx-edit",onClick:p=>e.onRefirectToUpdate(o.testTemplateId)},null,8,pe),a("i",{class:"text-danger bx bx-trash-alt",onClick:p=>e.onDelete(o.testTemplateId)},null,8,_e)])]))),256))])):(d(),g("div",ge,[u(z,null,{description:c(()=>s[9]||(s[9]=[a("span",null," No data matches. ",-1)])),_:1})])),a("div",ve,[u(t,{onChange:e.onPaginationChange,current:e.pageParams.pageNumber,"onUpdate:current":s[2]||(s[2]=o=>e.pageParams.pageNumber=o),total:e.pageParams.totalCount,pageSize:e.pageParams.pageSize,"show-total":(o,p)=>`${p[0]}-${p[1]} of ${o} ${e.t("folder_index.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:e.t("folder_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])])])])])}const xe=Q(Y,[["render",he],["__scopeId","data-v-3b3a6f2e"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/test_template/index.vue"]]);export{xe as default};
