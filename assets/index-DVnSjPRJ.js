import{d as k,l as F,q as R,u as Q,H as V,i as B,j as D,J as O,s as U,_ as j,r as c,a as y,o as m,b as s,c as d,w as _,f,t as o,C as E,F as I,B as T}from"./index-Dd8-myui.js";import{A as H}from"./ApiQuestionSet-wCWw8J7f.js";import{I as G}from"./Input-BtmZP41X.js";const L={ALL:"All",CREATED_BY_ME:"CreatedByMe",SHARE_WITH_ME:"ShareWithMe"},W=k({__name:"index",emits:["updateSidebar"],setup(r,{expose:i,emit:N}){var A;i();const t=F(),l=R(),{t:p}=Q(),q=N,h=Object.values(L),g=V(()=>h.map(a=>({label:p(`question_sets_index.credit.${a}`),value:a!==L.ALL?a:""}))),z=B([]),e=D({pageNumber:l.query.pageNumber||1,pageSize:l.query.pageSize||10,name:((A=l.query.name)==null?void 0:A.toString())||"",filterBy:l.query.filterBy||g.value[0].value,totalCount:0,statusFilter:!1}),b=async()=>{try{let a=await H.GetAllByLimit(e);if(a.data.success){let u=a.data.data;z.value=u.items,e.pageNumber=u.pageNumber,e.pageSize=u.pageSize,e.totalCount=u.totalCount,e.statusFilter&&(e.pageNumber>u.totalPages&&e.totalCount>0?(e.pageNumber=1,t.push({name:"User_Library",query:{pageNumber:1,pageSize:e.pageSize,name:e.name,filterBy:e.filterBy}})):t.push({name:"User_Library",query:{pageNumber:e.pageNumber,pageSize:e.pageSize,name:e.name,filterBy:e.filterBy}}),e.statusFilter=!e.statusFilter)}}catch(a){console.log("ERROR: GETALLEXAMBYLIMIT class exam: "+a)}};O(()=>{var a;Object.keys(l.query).length===0&&(e.pageNumber=l.query.pageNumber||1,e.pageSize=l.query.pageSize||10,e.name=((a=l.query.name)==null?void 0:a.toString())||"",e.filterBy=l.query.filterBy||g.value[0].value,e.statusFilter=!0,b())});const x=(a,u)=>{e.pageNumber=a,e.pageSize=u,e.statusFilter=!0,b()},S=(a,u)=>Math.floor(u/a*100),C=a=>p("question_sets_index.visibility.public")===a?"#22C55E":"#C52225",n=a=>p("question_sets_index.visibility.public")===a?p("question_sets_index.visibility.public"):p("question_sets_index.visibility.private"),v=B(""),M=B(g.value[0]),P=a=>{t.push({name:"User_QuestionSet_Detail",params:{id:a}})};U(()=>{q("updateSidebar","library")});const w={router:t,route:l,t:p,emit:q,optionKeys:h,share_mode_options:g,quiz_data:z,pageParams:e,getData:b,onPaginationChange:x,getPercentageComplete:S,getTagColor:C,getTag:n,searchValue:v,selected_credit_option:M,onRedirectToDetail:P,Input:G};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),Y={class:"page-container"},J={class:"title-container"},K={class:"content"},X={class:"content-item"},Z={class:"content-item-title d-flex align-items-center"},$={class:"content-item-functions"},ee={style:{width:"300px",padding:"0px"}},te={key:0,class:"quiz-item-container"},se=["onClick"],ae={class:"quiz-item-title"},ne={class:"quiz-item-info"},ie={class:"quiz-item-progress"},oe={class:"quiz-item-credit"},le={class:"pagination-container"};function re(r,i,N,t,l,p){const q=c("a-col"),h=c("a-row"),g=c("a-button"),z=c("a-select-option"),e=c("a-select"),b=c("a-progress"),x=c("a-tag"),S=c("a-pagination"),C=c("a-empty");return m(),y("div",Y,[s("div",J,[d(h,{class:"w-100"},{default:_(()=>[d(q,{class:"main-title",span:20},{default:_(()=>[s("span",null,o(r.$t("question_sets_index.title")),1),i[3]||(i[3]=f()),i[4]||(i[4]=s("br",null,null,-1)),s("span",null,o(r.$t("question_sets_index.sub_title")),1)]),_:1,__:[3,4]})]),_:1})]),s("div",K,[s("div",X,[s("div",Z,[s("div",null,[s("span",null,o(r.$t("question_sets_index.sections.quiz.title")),1),s("span",null,o(r.$t("question_sets_index.sections.quiz.sub_title")),1)]),d(g,{type:"primary",class:"main-color-btn content-item-button",size:"large"},{default:_(()=>[f(o(r.$t("dashboards.buttons.createNewQuiz"))+" ",1),i[5]||(i[5]=s("i",{class:"bx bx-plus"},null,-1))]),_:1,__:[5]})]),s("div",$,[d(e,{value:t.selected_credit_option,"onUpdate:value":i[0]||(i[0]=n=>t.selected_credit_option=n),style:{width:"200px"}},{default:_(()=>[(m(!0),y(I,null,T(t.share_mode_options,n=>(m(),E(z,{value:n.value},{default:_(()=>[f(o(n.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),s("div",ee,[d(t.Input,{modelValue:t.searchValue,"onUpdate:modelValue":i[1]||(i[1]=n=>t.searchValue=n),placeholder:t.t("question_sets_index.search_placeholder")},{icon:_(()=>i[6]||(i[6]=[s("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])]),t.quiz_data.length>0?(m(),y("div",te,[(m(!0),y(I,null,T(t.quiz_data,n=>(m(),y("div",{class:"quiz-item",onClick:v=>t.onRedirectToDetail(n.id)},[i[8]||(i[8]=s("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),s("div",null,[s("div",ae,o(n.name),1),s("div",ne,[s("div",null,[i[7]||(i[7]=s("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),f(" "+o(n.numberOfQuestions)+" "+o(r.$t("dashboards.list_items.quiz.questions")),1)]),s("div",ie,[d(b,{"stroke-color":"var(--main-color)",status:"active",percent:t.getPercentageComplete(n.numberOfQuestions,n.completedQuestions)},null,8,["percent"])])]),s("div",oe,[d(x,{color:t.getTagColor(n.visibilityMode)},{default:_(()=>[f(o(t.getTag(n.visibilityMode)),1)]),_:2},1032,["color"]),s("span",null," | "+o(r.$t("question_sets_index.credit.createdBy",{user:n.createdBy})),1)])])],8,se))),256)),s("div",le,[d(S,{onChange:t.onPaginationChange,current:t.pageParams.pageNumber,"onUpdate:current":i[2]||(i[2]=n=>t.pageParams.pageNumber=n),total:t.pageParams.totalCount,pageSize:t.pageParams.pageSize,"show-total":(n,v)=>`${v[0]}-${v[1]} of ${n} ${t.t("class_question_set.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:t.t("class_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])])])):(m(),E(C,{key:1},{description:_(()=>[s("span",null,o(r.$t("question_sets_index.empty_description")),1)]),_:1}))])])])}const _e=j(W,[["render",re],["__scopeId","data-v-6178daa2"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/question_sets/index.vue"]]);export{_e as default};
