import{d as y,k as R,u as C,i as O,h as S,l as P,A as z,_ as A,r as u,a as L,b as t,c as n,g as h,t as s,w as r,o as U}from"./index-D1L82oI-.js";import{M as V}from"./MailOutlined-Dm5jYMLC.js";import{L as B}from"./LockOutlined-C-tNj2U3.js";const F=y({__name:"register",setup(o,{expose:a}){a();const _=R(),e=C(),l=O({email:"",password:"",confirmationPassword:""}),g=S(!1),v={email:[{required:!0,message:"Vui lòng không để trống mục này.",trigger:"change"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Vui lòng nhập đúng định dạng email",trigger:"change"}],password:[{required:!0,message:"Vui lòng không để trống mục này.",trigger:"change"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,message:"Mật khẩu phải có ít nhất 8 ký tự, gồm chữ hoa, chữ thường, số và ký tự đặc biệt.",trigger:"change"}],confirmationPassword:[{validator:(i,c)=>c!==l.password?Promise.reject("Mật khẩu xác nhận không khớp."):Promise.resolve(),trigger:"change"}]},w=S(),d={span:24},p={span:24},m=(i,c,b)=>{P[i]({message:c,description:b})},f={router:_,authStore:e,formState:l,button_loading:g,rules:v,formRef:w,labelCol:d,wrapperCol:p,showNotification:m,onFinish:async()=>{try{g.value=!0;var i=await z.Register({email:l.email,password:l.password});if(!i.data.success)return;var c=await z.RequestEmailVerification({email:l.email});if(c.data.success){m("success","Register result","Success"),sessionStorage.setItem("email",l.email),_.push({name:"verify-email"});return}m("error","Register result","ERROR")}catch(b){console.log(b)}finally{g.value=!1}},get LockOutlined(){return B},get MailOutlined(){return V}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),M={class:"authentication-item"},I={class:"authentication-item-title"},x={class:"authentication-item-navigator"};function N(o,a,_,e,l,g){const v=u("a-divider"),w=u("a-input"),d=u("a-form-item"),p=u("a-input-password"),m=u("a-button"),k=u("a-form"),f=u("RouterLink");return U(),L("div",M,[t("div",I,[t("span",null,s(o.$t("auth.greetings.signUp")),1),a[3]||(a[3]=h()),a[4]||(a[4]=t("br",null,null,-1)),t("span",null,s(o.$t("auth.instructions.signUp")),1)]),a[6]||(a[6]=t("div",{class:"authentication-item-external-login"},[t("div",{class:"external-login external-login-google"},[t("div"),t("div",null,"Google")]),t("div",{class:"external-login external-login-facebook"},[t("div"),t("div",null,"Facebook")])],-1)),n(v,{style:{height:"1px","background-color":"#d9d9d9"}},{default:r(()=>a[5]||(a[5]=[t("span",{style:{"background-color":"#fff",padding:"0px 10px"}},"OR",-1)])),_:1,__:[5]}),n(k,{class:"authentication-item-form",ref:"formRef",model:e.formState,labelCol:e.labelCol,wrapperCol:e.wrapperCol,rules:e.rules},{default:r(()=>[n(d,{label:"",name:"email"},{default:r(()=>[t("label",null,s(o.$t("auth.inputs.email")),1),n(w,{size:"large",value:e.formState.email,"onUpdate:value":a[0]||(a[0]=i=>e.formState.email=i),placeholder:o.$t("auth.inputs.email")},{addonBefore:r(()=>[n(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),n(d,{label:"",name:"password"},{default:r(()=>[t("label",null,s(o.$t("auth.inputs.password")),1),n(p,{size:"large",value:e.formState.password,"onUpdate:value":a[1]||(a[1]=i=>e.formState.password=i),placeholder:o.$t("auth.inputs.password")},{addonBefore:r(()=>[n(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),n(d,{label:"",name:"confirmationPassword"},{default:r(()=>[t("label",null,s(o.$t("auth.inputs.confirmPassword")),1),n(p,{size:"large",value:e.formState.confirmationPassword,"onUpdate:value":a[2]||(a[2]=i=>e.formState.confirmationPassword=i),placeholder:o.$t("auth.inputs.confirmPassword")},{addonBefore:r(()=>[n(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),n(d,null,{default:r(()=>[n(m,{loading:e.button_loading,onClick:e.onFinish,size:"large",type:"primary",style:{"background-color":"#9823f5",width:"100%"}},{default:r(()=>[h(s(o.$t("auth.buttons.signUp")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",x,[h(s(o.$t("auth.navigators.signUp_signIn_ins"))+" ",1),n(f,{to:{name:"login"}},{default:r(()=>[h(s(o.$t("auth.navigators.signIn_link")),1)]),_:1})])])}const Q=A(F,[["render",N],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/register.vue"]]);export{Q as default};
