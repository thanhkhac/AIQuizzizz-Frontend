import{d as k,q as D,l as F,u as P,i as z,j as R,J as A,s as B,M as Q,k as U,_ as E,r as q,a as v,o as h,b as e,c as r,w as m,t as i,e as L,f,F as V,B as M}from"./index-Dd8-myui.js";import{A as y}from"./ApiClass-Dplhuan4.js";import{I as O}from"./Input-BtmZP41X.js";const j=k({__name:"quiz",emits:["updateSidebar"],setup(l,{expose:a,emit:S}){var x;a();const t=D(),_=F(),{t:C}=P(),c=S,u=z(t.params.id||""),g=z({classId:"",name:"",topic:""}),s=R({pageNumber:t.query.pageNumber||1,pageSize:t.query.pageSize||10,name:((x=t.query.name)==null?void 0:x.toString())||"",totalCount:0,statusFilter:!1}),o=z([]),p=async()=>{try{u.value||_.push({name:"404"});let n=await y.GetById(u.value.toString());n.data.success||_.push({name:"404"}),g.value=n.data.data}catch(n){console.log("ERROR: GETBYID class: "+n)}},b=async()=>{try{let n=await y.GetAllQSByLimit(u.value.toString(),s);if(n.data.success){let d=n.data.data;o.value=d.items,s.pageNumber=d.pageNumber,s.pageSize=d.pageSize,s.totalCount=d.totalCount,s.statusFilter&&(s.pageNumber>d.totalPages&&s.totalCount>0?(s.pageNumber=1,_.push({name:"User_Class_Quiz",params:{id:u.value},query:{pageNumber:1,pageSize:s.pageSize,name:s.name}})):_.push({name:"User_Class_Quiz",params:{id:u.value},query:{pageNumber:s.pageNumber,pageSize:s.pageSize,name:s.name}}),s.statusFilter=!s.statusFilter)}}catch(n){console.log("ERROR: GETALLEXAMBYLIMIT class qs: "+n)}};A(()=>{var n;Object.keys(t.query).length===0&&(s.pageNumber=t.query.pageNumber||1,s.pageSize=t.query.pageSize||10,s.name=((n=t.query.name)==null?void 0:n.toString())||"",s.statusFilter=!0,b())});const w=(n,d)=>{s.pageNumber=n,s.pageSize=d,s.statusFilter=!0,b()},I=n=>{Q.confirm({title:"Are you sure to delete this question set from class?",content:"Please double check for important resources!",onOk:async()=>{(await y.DeleteQuestionSetFromClass(g.value.classId,n)).data.success&&(U.success("Removed successfully."),b())}})};B(async()=>{c("updateSidebar","class"),await p(),await b()});const N={route:t,router:_,t:C,emit:c,classId:u,classData:g,pageParams:s,question_set_data:o,getClassData:p,getData:b,onPaginationChange:w,onDeleteQSFromClass:I,Input:O};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),G={class:"page-container"},T={class:"title-container"},Y={class:"breadcrumb-container"},J={class:"title-breadcrumb-item"},X={class:"title-breadcrumb-item"},H={class:"breadcrumb-item-topic"},K={class:"content"},W={class:"content-item"},Z={class:"content-item-title"},$={class:"content-item-functions"},ee={class:"content-item-navigators"},te={class:"navigator-container"},se={style:{width:"300px",padding:"0px"}},ae={class:"pagination-container"},ne={key:0,class:"quiz-item-container"},oe={class:"quiz-item"},ie={class:"quiz-item-title"},le={class:"quiz-item-description"},re={class:"quiz-item-info quiz-info-detail"},ce={class:"quiz-item-questions"},ue={class:"quiz-item-created-by"},de={class:"exam-item-actions"},me=["onClick"],_e={key:1,class:"w-100 d-flex justify-content-center"};function pe(l,a,S,t,_,C){const c=q("RouterLink"),u=q("a-pagination"),g=q("a-button"),s=q("a-empty");return h(),v("div",G,[e("div",T,[e("div",Y,[e("ul",null,[e("li",J,[r(c,{to:{name:"User_Class"}},{default:m(()=>a[2]||(a[2]=[e("span",null," Class ",-1)])),_:1,__:[2]}),a[3]||(a[3]=e("i",{class:"bx bx-chevron-right"},null,-1))]),e("li",X,[r(c,{to:{name:""},class:"breadcrumb-item-class"},{default:m(()=>[e("span",null,i(t.classData.name),1),e("span",H,i(t.classData.topic),1)]),_:1})])])])]),e("div",K,[e("div",W,[e("div",Z,[e("div",null,[e("span",null,i(l.$t("class_question_set.title")),1),e("span",null,i(l.$t("class_question_set.sub_title")),1)])]),e("div",$,[e("div",ee,[e("div",te,[r(c,{class:"navigator-item",to:{name:"User_Class_Exam"}},{default:m(()=>[f(i(l.$t("class_index.navigators.exam")),1)]),_:1}),r(c,{class:"navigator-item navigator-active",to:{name:""}},{default:m(()=>[f(i(l.$t("class_index.navigators.quiz")),1)]),_:1}),r(c,{class:"navigator-item",to:{name:"User_Class_Student"}},{default:m(()=>[f(i(l.$t("class_index.navigators.member")),1)]),_:1})])]),L(` <a-select
                        v-model:value="pageParams.shareMode"
                        style="width: 200px"
                        @change="getData"
                    >
                        <a-select-option v-for="option in share_mode_options" :value="option.value">
                            {{ option.label }}
                        </a-select-option>
                    </a-select> `),e("div",se,[r(t.Input,{onInput:t.getData,modelValue:t.pageParams.name,"onUpdate:modelValue":a[0]||(a[0]=o=>t.pageParams.name=o),placeholder:t.t("question_sets_index.search_placeholder")},{icon:m(()=>a[4]||(a[4]=[e("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])]),e("div",ae,[r(u,{onChange:t.onPaginationChange,current:t.pageParams.pageNumber,"onUpdate:current":a[1]||(a[1]=o=>t.pageParams.pageNumber=o),total:t.pageParams.totalCount,pageSize:t.pageParams.pageSize,"show-total":(o,p)=>`${p[0]}-${p[1]} of ${o} ${t.t("class_question_set.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:t.t("class_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])]),t.question_set_data.length>0?(h(),v("div",ne,[(h(!0),v(V,null,M(t.question_set_data,o=>(h(),v("div",oe,[a[6]||(a[6]=e("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),e("div",null,[e("div",ie,i(o.name),1),e("div",le,i(o.description),1),e("div",re,[e("div",ce,[a[5]||(a[5]=e("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),f(" "+i(o.numberOfQuestions)+" "+i(l.$t("dashboards.list_items.quiz.questions")),1)]),e("div",ue,i(l.$t("class_question_set.other.created_by"))+" "+i(o.createdBy),1)])]),e("div",de,[r(g,{type:"primary",class:"me-3 main-color-btn"},{default:m(()=>[f(i(l.$t("class_question_set.buttons.view")),1)]),_:1}),e("i",{style:{cursor:"pointer"},class:"text-danger bx bx-trash-alt",onClick:p=>t.onDeleteQSFromClass(o.id)},null,8,me)])]))),256))])):(h(),v("div",_e,[r(s,null,{description:m(()=>a[7]||(a[7]=[e("span",null," No data matches. ",-1)])),_:1})]))])])])}const he=E(j,[["render",pe],["__scopeId","data-v-b4964186"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/class/quiz.vue"]]);export{he as default};
