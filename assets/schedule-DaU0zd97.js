import{d as R,q as j,l as A,u as N,i as v,R as n,B,s as E,_ as F,r as u,a as f,o as _,b as e,c as p,w as m,f as L,E as V,e as Y,t as i,F as G,D as M}from"./index-BQVBa0zY.js";import{A as O}from"./ApiTest-BfsMqDVR.js";const Q=R({__name:"schedule",emits:["updateSidebar"],setup(S,{expose:c,emit:C}){c();const s=j(),y=A(),{t:b}=N(),l=v([]),o=v(n()),d=v(n()),D=B(()=>{var a;return o.value?((a=l.value.find(h=>n(o.value).isSame(n(h.date),"day")))==null?void 0:a.testSchedules)||[]:[]}),r=v(!1),t=async()=>{try{r.value=!0;const a=await O.GetTestSchedule(o.value.month()+1,o.value.year());a.data.success&&(l.value=a.data.data,d.value=o.value)}catch(a){console.log(a)}finally{r.value=!1}},g=async()=>{(!n(o.value).isSame(n(d.value),"month")||!n(o.value).isSame(n(d.value),"year"))&&await t()},w=a=>{var T;const h=(T=l.value.find(I=>n(a).isSame(n(I.date),"day")))==null?void 0:T.testSchedules.length;return h?`${h} tests`:null},z=a=>{y.push({name:"User_Class_Exam",params:{id:a}})},x=C;E(async()=>{x("updateSidebar","schedule"),await t()});const k={route:s,router:y,t:b,data:l,chosenDate:o,watchChosenDate:d,chosenDateTestSchedules:D,loading:r,getData:t,GetCalendarData:g,getListData:w,onRedirectToClass:z,emit:x,get dayjs(){return n}};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),U={class:"page-container"},q={class:"title-container"},P={class:"content d-flex flex-row justify-content-between"},H={class:"col-md-9 content-item"},J={class:"schedule-container"},K={class:"col-md-3 content-item"},W={class:"schedule-detail-title"},X={class:"schedule-detail-sub-title"},Z={class:"schedule-item-container"},$={class:"schedule-item-info"},ee=["onClick"],te={class:"schedule-item-info-class"},se={key:1,class:"w-100 h-100 d-flex justify-content-center align-items-center"};function ae(S,c,C,s,y,b){const l=u("a-col"),o=u("a-row"),d=u("a-badge"),D=u("a-calendar"),r=u("a-empty");return _(),f("div",U,[e("div",q,[p(o,{class:"w-100"},{default:m(()=>[p(l,{class:"main-title",span:20},{default:m(()=>c[1]||(c[1]=[e("span",null,"Exam schedule",-1),L(),e("br",null,null,-1)])),_:1,__:[1]})]),_:1})]),e("div",P,[e("div",H,[e("div",J,[p(D,{value:s.chosenDate,"onUpdate:value":c[0]||(c[0]=t=>s.chosenDate=t),onChange:s.GetCalendarData},{dateCellRender:m(({current:t})=>[s.getListData(t)?(_(),V(d,{key:0,status:"success",text:s.getListData(t)},null,8,["text"])):Y("v-if",!0)]),monthCellRender:m(({current:t})=>c[2]||(c[2]=[])),_:1},8,["value"])])]),e("div",K,[e("div",W,[e("div",null,"Date: "+i(s.dayjs(s.chosenDate).format("DD/MM/YYYY")),1),e("div",X," Exam schedule ("+i(s.chosenDateTestSchedules.length)+") ",1)]),e("div",Z,[s.chosenDateTestSchedules.length>0?(_(!0),f(G,{key:0},M(s.chosenDateTestSchedules,(t,g)=>(_(),f("div",{key:t.testId,class:"schedule-item"},[e("div",null,i(g+1)+".",1),e("div",$,[e("div",{class:"schedule-item-info-test",onClick:w=>s.onRedirectToClass(t.classId)},i(t.testName),9,ee),e("div",te,i(t.className),1)])]))),128)):(_(),f("div",se,[p(r,null,{description:m(()=>[e("span",null,i(S.$t("class_index.other.no_data_matches")),1)]),_:1})]))])])])])}const ce=F(Q,[["render",ae],["__scopeId","data-v-3efb5342"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/schedule.vue"]]);export{ce as default};
