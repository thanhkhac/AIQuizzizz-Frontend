import{d as O,u as P,l as I,j as A,i as R,m as L,A as z,_ as U,r as u,a as B,b as t,c as a,g as _,t as r,n as S,w as i,o as F}from"./index-GMohsbg5.js";import{f as q,g as G}from"./facebook_logo-yrIjrtKA.js";import{M}from"./MailOutlined-JcuqZokJ.js";import{L as N}from"./LockOutlined-B0yQ_eco.js";const V=O({__name:"register",setup(n,{expose:o}){o();const v=void 0,{t:e}=P(),h=I(),s=A({email:"",password:"",confirmationPassword:""}),c=R(!1),w={email:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e("auth.validation.email"),trigger:"change"}],password:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,message:e("auth.validation.password"),trigger:"change"}],confirmationPassword:[{validator:(l,f)=>f!==s.password?Promise.reject(e("auth.validation.confirm_password")):Promise.resolve(),trigger:"change"}]},d=R(),p={span:24},b={span:24},m=(l,f,C)=>{L[l]({message:f,description:C})},y={google_client_id:v,t:e,router:h,formState:s,button_loading:c,rules:w,formRef:d,labelCol:p,wrapperCol:b,showNotification:m,onFinish:async()=>{try{if(c.value=!0,!(await z.Register({email:s.email,password:s.password})).data.success)return;if((await z.RequestEmailVerification({email:s.email})).data.success){m("success","Register result","Success"),sessionStorage.setItem("email",s.email),h.push({name:"verify-email"});return}m("error","Register result","ERROR")}catch(l){console.log(l)}finally{c.value=!1}},onGoogleRegister:async()=>{const l=window.location.origin;window.location.assign(`https://accounts.google.com/o/oauth2/v2/auth?client_id=${v}&redirect_uri=${l}/google-authentication-callback&response_type=code&scope=openid%20email%20profile&access_type=offline&prompt=consent
`)},get google_logo(){return G},get facebook_logo(){return q},get LockOutlined(){return N},get MailOutlined(){return M}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}}),j={class:"authentication-item"},x={class:"authentication-item-title"},E={class:"external-login external-login-google"},$={class:"external-login external-login-facebook"},Q={class:"authentication-item-navigator"};function Z(n,o,v,e,h,s){const c=u("a-divider"),w=u("a-input"),d=u("a-form-item"),p=u("a-input-password"),b=u("a-button"),m=u("a-form"),k=u("RouterLink");return F(),B("div",j,[t("div",x,[t("span",null,r(n.$t("auth.greetings.signUp")),1),o[3]||(o[3]=_()),o[4]||(o[4]=t("br",null,null,-1)),t("span",null,r(n.$t("auth.instructions.signUp")),1)]),t("div",{class:"authentication-item-external-login",onClick:e.onGoogleRegister},[t("div",E,[t("div",{style:S({backgroundImage:`url(${e.google_logo})`})},null,4),o[5]||(o[5]=t("div",null,"Google",-1))]),t("div",$,[t("div",{style:S({backgroundImage:`url(${e.facebook_logo})`})},null,4),o[6]||(o[6]=t("div",null,"Facebook",-1))])]),a(c,{style:{height:"1px","background-color":"#d9d9d9"}},{default:i(()=>o[7]||(o[7]=[t("span",{style:{"background-color":"#fff",padding:"0px 10px"}},"OR",-1)])),_:1,__:[7]}),a(m,{class:"authentication-item-form",ref:"formRef",model:e.formState,labelCol:e.labelCol,wrapperCol:e.wrapperCol,rules:e.rules},{default:i(()=>[a(d,{label:"",name:"email"},{default:i(()=>[t("label",null,r(n.$t("auth.inputs.email")),1),a(w,{size:"large",value:e.formState.email,"onUpdate:value":o[0]||(o[0]=g=>e.formState.email=g),placeholder:n.$t("auth.inputs.email")},{addonBefore:i(()=>[a(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(d,{label:"",name:"password"},{default:i(()=>[t("label",null,r(n.$t("auth.inputs.password")),1),a(p,{size:"large",value:e.formState.password,"onUpdate:value":o[1]||(o[1]=g=>e.formState.password=g),placeholder:n.$t("auth.inputs.password")},{addonBefore:i(()=>[a(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(d,{label:"",name:"confirmationPassword"},{default:i(()=>[t("label",null,r(n.$t("auth.inputs.confirmPassword")),1),a(p,{size:"large",value:e.formState.confirmationPassword,"onUpdate:value":o[2]||(o[2]=g=>e.formState.confirmationPassword=g),placeholder:n.$t("auth.inputs.confirmPassword")},{addonBefore:i(()=>[a(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(d,null,{default:i(()=>[a(b,{loading:e.button_loading,onClick:e.onFinish,size:"large",type:"primary",style:{"background-color":"#9823f5",width:"100%"}},{default:i(()=>[_(r(n.$t("auth.buttons.signUp")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",Q,[_(r(n.$t("auth.navigators.signUp_signIn_ins"))+" ",1),a(k,{to:{name:"login"}},{default:i(()=>[_(r(n.$t("auth.navigators.signIn_link")),1)]),_:1})])])}const K=U(V,[["render",Z],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/register.vue"]]);export{K as default};
