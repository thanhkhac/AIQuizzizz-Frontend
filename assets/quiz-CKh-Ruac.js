import{d as P,q as k,l as D,u as O,i as x,H as R,j as B,K as F,s as U,_ as V,r as d,a as h,o as p,b as e,c as r,w as l,t as i,g,F as E,B as A,C as Q}from"./index-C4kWnLRR.js";import{A as L}from"./ApiClass-Ja1Aotqb.js";import{I as T}from"./Input-DeK_4m_9.js";const M={ALL:"All",OWNER:"Owner",EDITABLE:"Editable",VIEW_ONLY:"ViewOnly"},j=P({__name:"quiz",emits:["updateSidebar"],setup(u,{expose:s,emit:N}){var I;s();const t=k(),v=D(),{t:C}=O(),c=N,_=x(t.params.id||""),z=x({classId:"",name:"",topic:""}),y=Object.values(M),q=R(()=>y.map(n=>({label:C(`class_question_set.select_option.${n}`),value:n!==M.ALL?n:""}))),a=B({pageNumber:t.query.pageNumber||1,pageSize:t.query.pageSize||10,name:((I=t.query.name)==null?void 0:I.toString())||"",shareMode:t.query.shareMode||q.value[0].value,totalCount:0,statusFilter:!1}),S=x([]),w=async()=>{try{_.value||v.push({name:"404"});let n=await L.GetById(_.value.toString());n.data.success||v.push({name:"404"}),z.value=n.data.data}catch(n){console.log("ERROR: GETBYID class: "+n)}},b=async()=>{try{let n=await L.GetAllQSByLimit(_.value.toString(),a);if(n.data.success){let m=n.data.data;S.value=m.items,a.pageNumber=m.pageNumber,a.pageSize=m.pageSize,a.totalCount=m.totalCount,a.statusFilter&&(a.pageNumber>m.totalPages&&a.totalCount>0?(a.pageNumber=1,v.push({name:"User_Class_Quiz",params:{id:_.value},query:{pageNumber:1,pageSize:a.pageSize,name:a.name,shareMode:a.shareMode}})):v.push({name:"User_Class_Quiz",params:{id:_.value},query:{pageNumber:a.pageNumber,pageSize:a.pageSize,name:a.name,shareMode:a.shareMode}}),a.statusFilter=!a.statusFilter)}}catch(n){console.log("ERROR: GETALLEXAMBYLIMIT class qs: "+n)}};F(()=>{var n;Object.keys(t.query).length===0&&(a.pageNumber=t.query.pageNumber||1,a.pageSize=t.query.pageSize||10,a.name=((n=t.query.name)==null?void 0:n.toString())||"",a.shareMode=t.query.status||q.value[0].value,a.statusFilter=!0,b())});const o=(n,m)=>{a.pageNumber=n,a.pageSize=m,a.statusFilter=!0,b()};U(async()=>{c("updateSidebar","class"),await w(),await b()});const f={route:t,router:v,t:C,emit:c,classId:_,classData:z,optionKeys:y,share_mode_options:q,pageParams:a,question_set_data:S,getClassData:w,getData:b,onPaginationChange:o,Input:T};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),G={class:"page-container"},Y={class:"title-container"},H={class:"breadcrumb-container"},K={class:"title-breadcrumb-item"},W={class:"title-breadcrumb-item"},X={class:"breadcrumb-item-topic"},J={class:"content"},Z={class:"content-item"},$={class:"content-item-title"},ee={class:"content-item-functions"},te={class:"content-item-navigators"},ae={class:"navigator-container"},se={style:{width:"300px",padding:"0px"}},ne={class:"pagination-container"},oe={key:0,class:"quiz-item-container"},ie={class:"quiz-item"},le={class:"quiz-item-title"},re={class:"quiz-item-description"},ue={class:"quiz-item-info quiz-info-detail"},de={class:"quiz-item-questions"},ce={class:"quiz-item-created-by"},_e={class:"exam-item-actions"},me={class:"d-flex align-items-center"},pe={key:1,class:"w-100 d-flex justify-content-center"};function ge(u,s,N,t,v,C){const c=d("RouterLink"),_=d("a-select-option"),z=d("a-select"),y=d("a-pagination"),q=d("a-button"),a=d("a-menu-item"),S=d("a-menu"),w=d("a-dropdown"),b=d("a-empty");return p(),h("div",G,[e("div",Y,[e("div",H,[e("ul",null,[e("li",K,[r(c,{to:{name:"User_Class"}},{default:l(()=>s[3]||(s[3]=[e("span",null," Class ",-1)])),_:1,__:[3]}),s[4]||(s[4]=e("i",{class:"bx bx-chevron-right"},null,-1))]),e("li",W,[r(c,{to:{name:""},class:"breadcrumb-item-class"},{default:l(()=>[e("span",null,i(t.classData.name),1),e("span",X,i(t.classData.topic),1)]),_:1})])])])]),e("div",J,[e("div",Z,[e("div",$,[e("div",null,[e("span",null,i(u.$t("class_question_set.title")),1),e("span",null,i(u.$t("class_question_set.sub_title")),1)])]),e("div",ee,[e("div",te,[e("div",ae,[r(c,{class:"navigator-item",to:{name:"User_Class_Exam"}},{default:l(()=>[g(i(u.$t("class_index.navigators.exam")),1)]),_:1}),r(c,{class:"navigator-item navigator-active",to:{name:""}},{default:l(()=>[g(i(u.$t("class_index.navigators.quiz")),1)]),_:1}),r(c,{class:"navigator-item",to:{name:"User_Class_Student"}},{default:l(()=>[g(i(u.$t("class_index.navigators.member")),1)]),_:1})])]),r(z,{value:t.pageParams.shareMode,"onUpdate:value":s[0]||(s[0]=o=>t.pageParams.shareMode=o),style:{width:"200px"},onChange:t.getData},{default:l(()=>[(p(!0),h(E,null,A(t.share_mode_options,o=>(p(),Q(_,{value:o.value},{default:l(()=>[g(i(o.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),e("div",se,[r(t.Input,{onInput:t.getData,modelValue:t.pageParams.name,"onUpdate:modelValue":s[1]||(s[1]=o=>t.pageParams.name=o),placeholder:t.t("question_sets_index.search_placeholder")},{icon:l(()=>s[5]||(s[5]=[e("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])]),e("div",ne,[r(y,{onChange:t.onPaginationChange,current:t.pageParams.pageNumber,"onUpdate:current":s[2]||(s[2]=o=>t.pageParams.pageNumber=o),total:t.pageParams.totalCount,pageSize:t.pageParams.pageSize,"show-total":(o,f)=>`${f[0]}-${f[1]} of ${o} ${t.t("class_question_set.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:t.t("class_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])]),t.question_set_data.length>0?(p(),h("div",oe,[(p(!0),h(E,null,A(t.question_set_data,o=>(p(),h("div",ie,[s[9]||(s[9]=e("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),e("div",null,[e("div",le,i(o.name),1),e("div",re,i(o.description),1),e("div",ue,[e("div",de,[s[6]||(s[6]=e("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),g(" "+i(o.numberOfQuestions)+" "+i(u.$t("dashboards.list_items.quiz.questions")),1)]),e("div",ce,i(u.$t("class_question_set.other.created_by"))+" "+i(o.createdBy),1)])]),e("div",_e,[r(q,{type:"primary",class:"me-3 main-color-btn"},{default:l(()=>[g(i(u.$t("class_question_set.buttons.view")),1)]),_:1}),r(w,{trigger:["click"]},{overlay:l(()=>[r(S,{class:"drop-down-container"},{default:l(()=>[r(a,{key:"3"},{default:l(()=>[e("span",me,[s[7]||(s[7]=e("i",{class:"bx bx-trash-alt"},null,-1)),g(" "+i(u.$t("question_sets_index.buttons.delete")),1)])]),_:1})]),_:1})]),default:l(()=>[s[8]||(s[8]=e("i",{class:"bx bx-dots-vertical-rounded ant-dropdown-link"},null,-1))]),_:1,__:[8]})])]))),256))])):(p(),h("div",pe,[r(b,null,{description:l(()=>s[10]||(s[10]=[e("span",null," No data matches. ",-1)])),_:1})]))])])])}const qe=V(j,[["render",ge],["__scopeId","data-v-b4964186"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/class/quiz.vue"]]);export{qe as default};
