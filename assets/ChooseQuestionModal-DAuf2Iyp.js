import{B as re,d as Q,O as R,u as j,i as A,C as Z,D as W,s as de,k as ce,_ as H,r as m,G as E,o as _,w as n,b as a,c as s,a as b,F as L,E as N,f as M,t as f,q as B,l as oe,j as K,P as J,M as ue,p as me,e as U}from"./index-CNC2148x.js";import{I as V}from"./Input-B6AzPJuz.js";import{A as ne}from"./ApiFolder-Bv-Wx8C2.js";import{F as Y}from"./folderShareMode-BudLQ2R2.js";import{A as se}from"./ApiTestTemplate-C8M07FBO.js";import{Q as te}from"./questionTypes-CS3lcRlq.js";const _e={LAST_ATTEMPT:"LastAttemp",HIGHEST_SCORE:"HighestScore"},X={PARTIAL:"Partial",ALL_OR_NOTHING:"AllOrNothing"};var G={exports:{}},fe=G.exports,ae;function pe(){return ae||(ae=1,function(v,t){(function(g,e){v.exports=e()})(fe,function(){var g="minute",e=/[+-]\d\d(?::?\d\d)?/g,I=/([+-]|\d\d)/g;return function(z,T,l){var i=T.prototype;l.utc=function(o){var h={date:o,utc:!0,args:arguments};return new T(h)},i.utc=function(o){var h=l(this.toDate(),{locale:this.$L,utc:!0});return o?h.add(this.utcOffset(),g):h},i.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=i.parse;i.parse=function(o){o.utc&&(this.$u=!0),this.$utils().u(o.$offset)||(this.$offset=o.$offset),d.call(this,o)};var x=i.init;i.init=function(){if(this.$u){var o=this.$d;this.$y=o.getUTCFullYear(),this.$M=o.getUTCMonth(),this.$D=o.getUTCDate(),this.$W=o.getUTCDay(),this.$H=o.getUTCHours(),this.$m=o.getUTCMinutes(),this.$s=o.getUTCSeconds(),this.$ms=o.getUTCMilliseconds()}else x.call(this)};var S=i.utcOffset;i.utcOffset=function(o,h){var k=this.$utils().u;if(k(o))return this.$u?0:k(this.$offset)?S.call(this):this.$offset;if(typeof o=="string"&&(o=function(q){q===void 0&&(q="");var F=q.match(e);if(!F)return null;var y=(""+F[0]).match(I)||["-",0,0],O=y[0],P=60*+y[1]+ +y[2];return P===0?0:O==="+"?P:-P}(o),o===null))return this;var u=Math.abs(o)<=16?60*o:o,p=this;if(h)return p.$offset=u,p.$u=o===0,p;if(o!==0){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(p=this.local().add(u+c,g)).$offset=u,p.$x.$localOffset=c}else p=this.utc();return p};var w=i.format;i.format=function(o){var h=o||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return w.call(this,h)},i.valueOf=function(){var o=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*o},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var C=i.toDate;i.toDate=function(o){return o==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():C.call(this)};var r=i.diff;i.diff=function(o,h,k){if(o&&this.$u===o.$u)return r.call(this,o,h,k);var u=this.local(),p=l(o).local();return r.call(u,p,h,k)}}})}(G)),G.exports}var ge=pe();const he=re(ge),ve=Q({__name:"SettingTestModal",props:{className:{type:String,required:!0},formState:{type:null,required:!0},formRef:{type:null,required:!0}},setup(v,{expose:t}){R.extend(he);const{t:g}=j(),e=v,I=A(!1),z=()=>{I.value=!0,e.formState.startTime&&e.formState.endTime&&(i.value[0]=R(e.formState.startTime),i.value[1]=R(e.formState.endTime))},T=async()=>{e.formState.startTime=i.value[0].toISOString(),e.formState.endTime=i.value[1].toISOString();try{await l.value.validate()&&(I.value=!1)}catch{}};t({openTestSettingModal:z});const l=A(e.formRef),i=A([R(),R()]),d=o=>{o&&(e.formState.startTime=o[0].toISOString(),e.formState.endTime=o[1].toISOString(),i.value[0]=o[0],i.value[1]=o[1])},x={range:[{validator(o,h){return i.value?i.value[1].diff(i.value[0],"minute")<e.formState.timeLimit?Promise.reject(`Start time and end time must be at least ${e.formState.timeLimit} minutes (time limit) apart`):Promise.resolve():Promise.reject("required")},trigger:"change"}],title:[{required:!0,message:"This field is required.",trigger:"change"},{validator:(o,h)=>(h==null?void 0:h.length)>100?Promise.reject("Limit: 100 characters."):Promise.resolve(),trigger:"change"}],timeLimit:[{required:!0,message:"This field is required.",trigger:"change"}],passingScore:[{required:!0,message:"This field is required.",trigger:"change"}],shuffle:[{required:!0,message:"This field is required.",trigger:"change"}],maxAttempt:[{required:!0,message:"This field is required.",trigger:"change"}]},S=Object.values(_e),w=Z(()=>S.map(o=>({label:o,value:o}))),C=o=>{e.formState.gradeQuestionMethod=o?X.PARTIAL:X.ALL_OR_NOTHING};W(()=>[e.formState.startTime,e.formState.endTime],([o,h])=>{o&&h&&(i.value[0]=R(o),i.value[1]=R(h))},{immediate:!0}),W(()=>e.formState.timeLimit,async o=>{try{await l.value.validate()}catch{}}),de(async()=>{ce.info("Change to startTime endTime when api fixed")});const r={t:g,props:e,modal_open:I,openTestSettingModal:z,closeModal:T,formRef:l,range:i,onRangeChange:d,rules:x,optionAttemptKeys:S,select_attempt_options:w,onQuestionGradeMethodChange:C,get TEST_GRADE_QUESTION_METHOD(){return X},Input:V};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),Te={class:"modal-container"},be={class:"modal-title-container"},Se={class:"content-item modal-test-setting"};function we(v,t,g,e,I,z){const T=m("RouterLink"),l=m("a-col"),i=m("a-row"),d=m("a-form-item"),x=m("a-range-picker"),S=m("a-input-number"),w=m("a-switch"),C=m("a-select-option"),r=m("a-select"),o=m("a-form"),h=m("a-button"),k=m("a-modal");return _(),E(k,{centered:"",width:"100%","wrap-class-name":"full-modal setting-modal",open:e.modal_open,onCancel:e.closeModal},{footer:n(()=>[s(h,{class:"main-color-btn",size:"large",key:"submit",type:"ghost"},{default:n(()=>t[19]||(t[19]=[M(" Cancel ")])),_:1,__:[19]}),s(h,{class:"main-color-btn",size:"large",key:"submit",type:"primary",onClick:e.closeModal},{default:n(()=>t[20]||(t[20]=[M(" Next ")])),_:1,__:[20]})]),default:n(()=>[a("div",Te,[a("div",be,[s(i,{class:"w-100 d-flex align-items-center"},{default:n(()=>[s(l,{span:1},{default:n(()=>[s(T,{onClick:e.closeModal,to:{name:""}},{default:n(()=>t[9]||(t[9]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[9]})]),_:1}),s(l,{class:"main-title",span:23},{default:n(()=>t[10]||(t[10]=[a("span",null,"Assign new test for class SEP490",-1)])),_:1,__:[10]})]),_:1})]),a("div",Se,[t[18]||(t[18]=a("div",{class:"content-item-title"},[a("div",null,[a("span",null,"Test settings"),a("span",null,"Config how your test work")])],-1)),s(o,{ref:"formRef",model:g.formState,rules:e.rules,class:"w-100",layout:"vertical"},{default:n(()=>[s(d,null,{default:n(()=>[s(e.Input,{class:"question-input-item",modelValue:g.formState.name,"onUpdate:modelValue":t[0]||(t[0]=u=>g.formState.name=u),isRequired:!0,placeholder:"Enter test title",label:"Test title","max-length":100},null,8,["modelValue"])]),_:1}),s(i,{class:"form-item-row"},{default:n(()=>[s(l,{span:24},{default:n(()=>[s(d,{rules:e.rules.range,label:"Start date | End date",class:"input-item",name:"range"},{default:n(()=>[s(x,{onChange:e.onRangeChange,size:"large","show-time":"",value:e.range,"onUpdate:value":t[1]||(t[1]=u=>e.range=u)},null,8,["value"])]),_:1},8,["rules"])]),_:1})]),_:1}),s(i,{class:"form-item-row"},{default:n(()=>[s(l,{span:10},{default:n(()=>[s(d,{label:"Number of Attempts",class:"input-item",name:"maxAttempt"},{default:n(()=>[s(S,{size:"large","addon-after":"time",value:g.formState.maxAttempt,"onUpdate:value":t[2]||(t[2]=u=>g.formState.maxAttempt=u),min:"1",max:"100"},{prefix:n(()=>t[11]||(t[11]=[a("i",{class:"bx bx-repost"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1}),s(l,{span:10},{default:n(()=>[s(d,{label:"Shuffle",class:"input-item",name:"shuffle"},{default:n(()=>[s(S,{size:"large","addon-after":"times",value:g.formState.shuffle,"onUpdate:value":t[3]||(t[3]=u=>g.formState.shuffle=u),min:"1",max:"100"},{prefix:n(()=>t[12]||(t[12]=[a("i",{class:"bx bx-shuffle"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),s(i,{class:"form-item-row"},{default:n(()=>[s(l,{span:10},{default:n(()=>[s(d,{label:"Time Limit",class:"input-item",name:"timeLimit"},{default:n(()=>[s(S,{size:"large","addon-after":"minutes",value:g.formState.timeLimit,"onUpdate:value":t[4]||(t[4]=u=>g.formState.timeLimit=u),min:"1",max:"1500"},{prefix:n(()=>t[13]||(t[13]=[a("i",{class:"bx bx-time-five"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1}),s(l,{span:10},{default:n(()=>[s(d,{label:"Passing score",class:"input-item",name:"passingScore"},{default:n(()=>[s(S,{size:"large","addon-after":"%",value:g.formState.passingScore,"onUpdate:value":t[5]||(t[5]=u=>g.formState.passingScore=u),min:"1",max:"100"},{prefix:n(()=>t[14]||(t[14]=[a("i",{class:"bx bx-check-circle"},null,-1)])),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),s(i,{class:"form-item-row"},{default:n(()=>[s(l,{span:10,class:"input-item switch"},{default:n(()=>[t[15]||(t[15]=a("div",{class:"switch-content"},[a("div",{class:"switch-title"},"Show correct answers"),a("div",{class:"switch-sub-title"}," Allow students to view correct answer after test ")],-1)),s(w,{checked:g.formState.isShowCorrectAnswerInReview,"onUpdate:checked":t[6]||(t[6]=u=>g.formState.isShowCorrectAnswerInReview=u)},null,8,["checked"])]),_:1,__:[15]}),s(l,{span:10},{default:n(()=>[s(d,{label:"Final score (optional)",class:"input-item"},{default:n(()=>[s(r,{size:"large",value:g.formState.gradeAttemptMethod,"onUpdate:value":t[7]||(t[7]=u=>g.formState.gradeAttemptMethod=u)},{default:n(()=>[(_(!0),b(L,null,N(e.select_attempt_options,u=>(_(),E(C,{value:u.value},{default:n(()=>[M(f(u.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),s(i,{class:"form-item-row"},{default:n(()=>[s(l,{span:10,class:"input-item switch"},{default:n(()=>[t[16]||(t[16]=a("div",{class:"switch-content"},[a("div",{class:"switch-title"},"Partial grade method"),a("div",{class:"switch-sub-title"}," Give partial credit if the studentâ€™s answer partially matches the expected answer ")],-1)),s(w,{checked:g.formState.gradeQuestionMethod===e.TEST_GRADE_QUESTION_METHOD.PARTIAL,onChange:e.onQuestionGradeMethodChange},null,8,["checked"])]),_:1,__:[16]}),s(l,{span:10,class:"input-item switch"},{default:n(()=>[t[17]||(t[17]=a("div",{class:"switch-content"},[a("div",{class:"switch-title"},"Review attempts"),a("div",{class:"switch-sub-title"}," Allow students to review their answers after taking the test ")],-1)),s(w,{checked:g.formState.isAllowReviewAfterSubmit,"onUpdate:checked":t[8]||(t[8]=u=>g.formState.isAllowReviewAfterSubmit=u)},null,8,["checked"])]),_:1,__:[17]})]),_:1})]),_:1},8,["model"])])])]),_:1},8,["open"])}const ca=H(ve,[["render",we],["__scopeId","data-v-34f39973"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/shared/modals/SettingTestModal.vue"]]),ye=Q({__name:"ChooseFolderModal",emits:["switchToTestTemplate","openFolder"],setup(v,{expose:t,emit:g}){var p;const e=B(),I=oe(),{t:z}=j(),T=Object.values(Y),l=Z(()=>T.map(c=>({label:z(`folder_index.select_option.${c}`),value:c!==Y.ALL?c:""}))),i=A([]),d=K({pageNumber:e.query.pageNumber||1,pageSize:e.query.pageSize||10,folderName:((p=e.query.folderName)==null?void 0:p.toString())||"",shareMode:e.query.shareMode||l.value[0].value,totalCount:0,statusFilter:!1}),x=async()=>{try{let c=await ne.GetAllByLimit(d);if(c.data.success){let q=c.data.data;i.value=q.items,d.pageNumber=q.pageNumber,d.pageSize=q.pageSize,d.totalCount=q.totalCount}}catch(c){console.log("ERROR: GETALLBYLIMIT folder: "+c)}};J(()=>{var c;Object.keys(e.query).length===0&&(d.pageNumber=e.query.pageNumber||1,d.pageSize=e.query.pageSize||10,d.folderName=((c=e.query.folderName)==null?void 0:c.toString())||"",d.shareMode=e.query.shareMode||l.value[0].value,d.statusFilter=!0,x())});const S=(c,q)=>{d.pageNumber=c,d.pageSize=q,d.statusFilter=!0,x()},w=A(!1),C=()=>{w.value=!0},r=()=>{w.value=!1};t({openModal:C,closeModal:r});const o=g,u={route:e,router:I,t:z,optionKeys:T,folder_share_mode_options:l,folder_data:i,pageParams:d,getData:x,onPaginationChange:S,modal_open:w,openModal:C,closeModal:r,emit:o,handleSwitchToTestTemplate:()=>{o("switchToTestTemplate")},handleOpenFolder:c=>{o("openFolder",c)},Input:V};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),xe={class:"modal-container"},ke={class:"modal-title-container"},Ce={class:"content"},ze={class:"content-item"},Me={class:"title-container"},qe={class:"main-title"},Ie={class:"content-item-functions"},Oe={class:"content-item-navigators"},Ae={class:"navigator-container"},Le={class:"filter-container"},Ne={style:{width:"300px",padding:"0px"}},Pe={class:"folder-container"},Ee=["onClick"],Fe={class:"folder-name"},Re={key:1,class:"w-100 m-2 d-flex justify-content-center"},De={class:"pagination-container"};function Ue(v,t,g,e,I,z){const T=m("RouterLink"),l=m("a-col"),i=m("a-row"),d=m("a-select-option"),x=m("a-select"),S=m("a-empty"),w=m("a-pagination"),C=m("a-modal");return _(),E(C,{centered:"",width:"100%","wrap-class-name":"medium-modal large",open:e.modal_open,onCancel:e.closeModal},{footer:n(()=>t[9]||(t[9]=[])),default:n(()=>[a("div",xe,[a("div",ke,[s(i,{class:"w-100 d-flex align-items-center"},{default:n(()=>[s(l,{span:1},{default:n(()=>[s(T,{onClick:e.closeModal,to:{name:""}},{default:n(()=>t[3]||(t[3]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[3]})]),_:1}),s(l,{class:"main-title",span:23},{default:n(()=>t[4]||(t[4]=[a("span",null,"Choose from folder test",-1)])),_:1,__:[4]})]),_:1})]),a("div",Ce,[a("div",ze,[a("div",Me,[a("div",qe,[a("span",null,f(v.$t("folder_index.title")),1),t[5]||(t[5]=M()),t[6]||(t[6]=a("br",null,null,-1)),a("span",null,f(v.$t("folder_index.sub_title")),1)])]),a("div",Ie,[a("div",Oe,[a("div",Ae,[s(T,{class:"navigator-item navigator-active",to:{name:""}},{default:n(()=>[M(f(v.$t("folder_index.navigators.folder")),1)]),_:1}),s(T,{class:"navigator-item",to:{name:""},onClick:e.handleSwitchToTestTemplate},{default:n(()=>[M(f(v.$t("folder_index.navigators.test_template")),1)]),_:1})])]),a("div",Le,[s(x,{class:"me-3",value:e.pageParams.shareMode,"onUpdate:value":t[0]||(t[0]=r=>e.pageParams.shareMode=r),style:{width:"200px"},onChange:e.getData},{default:n(()=>[(_(!0),b(L,null,N(e.folder_share_mode_options,r=>(_(),E(d,{value:r.value},{default:n(()=>[M(f(r.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),a("div",Ne,[s(e.Input,{onInput:e.getData,modelValue:e.pageParams.folderName,"onUpdate:modelValue":t[1]||(t[1]=r=>e.pageParams.folderName=r),placeholder:e.t("class_index.other.search_class_placeholder")},{icon:n(()=>t[7]||(t[7]=[a("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])])]),a("div",Pe,[e.folder_data.length>0?(_(!0),b(L,{key:0},N(e.folder_data,r=>(_(),b("div",{class:"folder",onClick:o=>e.handleOpenFolder(r)},[t[8]||(t[8]=a("div",{class:"folder-icon"},[a("div",{class:"folder-top"}),a("div",{class:"folder-body"})],-1)),a("div",Fe,f(r.name),1)],8,Ee))),256)):(_(),b("div",Re,[s(S,null,{description:n(()=>[a("span",null,f(v.$t("folder_index.other.no_data_matches")),1)]),_:1})]))]),a("div",De,[s(w,{onChange:e.onPaginationChange,current:e.pageParams.pageNumber,"onUpdate:current":t[2]||(t[2]=r=>e.pageParams.pageNumber=r),total:e.pageParams.totalCount,pageSize:e.pageParams.pageSize,"show-total":(r,o)=>`${o[0]}-${o[1]} of ${r} ${e.t("folder_index.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:e.t("folder_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])])])])])]),_:1},8,["open"])}const ua=H(ye,[["render",Ue],["__scopeId","data-v-e4fbf0b7"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/shared/modals/ChooseFolderModal.vue"]]),$e=Q({__name:"ChooseFolderTestTemplateModal",props:{folder:{type:[Object,null],required:!0}},emits:["openTestTemplate","backToFolderModal"],setup(v,{expose:t,emit:g}){var h;const e=B(),{t:I}=j(),z=v,T=A([]),l=K({pageNumber:e.query.pageNumber||1,pageSize:e.query.pageSize||10,testTemplateName:((h=e.query.testTemplateName)==null?void 0:h.toString())||"",totalCount:0,statusFilter:!1}),i=async()=>{var k,u;try{if(!((k=z.folder)!=null&&k.folderTestId))return;let p=await ne.GetAllTestTemplateByLimit((u=z.folder)==null?void 0:u.folderTestId,l);if(p.data.success){let c=p.data.data;T.value=c.items,l.pageNumber=c.pageNumber,l.pageSize=c.pageSize,l.totalCount=c.totalCount}}catch(p){console.log("ERROR: GETALLBYLIMIT testtemplate: "+p)}};J(()=>{var k;Object.keys(e.query).length===0&&(l.pageNumber=e.query.pageNumber||1,l.pageSize=e.query.pageSize||10,l.testTemplateName=((k=e.query.testTemplateName)==null?void 0:k.toString())||"",l.statusFilter=!0,i())});const d=(k,u)=>{l.pageNumber=k,l.pageSize=u,l.statusFilter=!0,i()},x=g,S=A(!1),w=()=>{S.value=!0},C=()=>{S.value=!1,x("backToFolderModal")},r=k=>{x("openTestTemplate",k)};t({openModal:w,closeModal:C});const o={route:e,t:I,props:z,test_template_data:T,pageParams:l,getData:i,onPaginationChange:d,emit:x,modal_open:S,openModal:w,closeModal:C,handleOpenTestTemplate:r,Input:V};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),Qe={class:"modal-container"},je={class:"modal-title-container"},He={class:"content"},Ve={class:"content-item"},Ge={class:"title-container"},Ye={class:"main-title"},Be={class:"content-item-functions"},Ke={class:"filter-container"},Xe={style:{width:"300px",padding:"0px"}},We={key:0,class:"quiz-item-container"},Ze=["onClick"],Je={class:"quiz-item-title"},et={class:"quiz-item-info quiz-info-detail"},tt={class:"quiz-item-questions"},at={class:"quiz-item-created-by"},ot={class:"exam-item-actions"},nt={key:1,class:"w-100 d-flex justify-content-center"},st={class:"pagination-container"};function lt(v,t,g,e,I,z){const T=m("RouterLink"),l=m("a-col"),i=m("a-row"),d=m("a-button"),x=m("a-empty"),S=m("a-pagination"),w=m("a-modal");return _(),E(w,{centered:"",width:"100%","wrap-class-name":"medium-modal large",open:e.modal_open,onCancel:e.closeModal},{footer:n(()=>t[10]||(t[10]=[])),default:n(()=>{var C;return[a("div",Qe,[a("div",je,[s(i,{class:"w-100 d-flex align-items-center"},{default:n(()=>[s(l,{span:1},{default:n(()=>[s(T,{onClick:e.closeModal,to:{name:""}},{default:n(()=>t[2]||(t[2]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[2]})]),_:1}),s(l,{class:"main-title",span:23},{default:n(()=>t[3]||(t[3]=[a("span",null,"Choose from folder test",-1)])),_:1,__:[3]})]),_:1})]),a("div",He,[a("div",Ve,[a("div",Ge,[a("div",Ye,[a("span",null,"Folder test: "+f((C=g.folder)==null?void 0:C.name),1),t[4]||(t[4]=M()),t[5]||(t[5]=a("br",null,null,-1)),a("span",null,f(v.$t("folder_index.sub_title")),1)])]),a("div",Be,[a("div",Ke,[a("div",Xe,[s(e.Input,{onInput:e.getData,modelValue:e.pageParams.testTemplateName,"onUpdate:modelValue":t[0]||(t[0]=r=>e.pageParams.testTemplateName=r),placeholder:e.t("class_index.other.search_class_placeholder")},{icon:n(()=>t[6]||(t[6]=[a("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])])]),e.test_template_data.length>0?(_(),b("div",We,[(_(!0),b(L,null,N(e.test_template_data,r=>(_(),b("div",{class:"quiz-item",onClick:o=>e.handleOpenTestTemplate(r.testTemplateId)},[t[8]||(t[8]=a("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),a("div",null,[a("div",Je,f(r.name),1),a("div",et,[a("div",tt,[t[7]||(t[7]=a("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),M(" "+f(r.numberOfQuestion)+" "+f(v.$t("dashboards.list_items.quiz.questions")),1)]),a("div",at,f(v.$t("class_question_set.other.created_by"))+" "+f(r.createdBy),1)])]),a("div",ot,[s(d,{type:"primary",class:"me-3 main-color-btn",onClick:o=>e.handleOpenTestTemplate(r.testTemplateId)},{default:n(()=>[M(f(v.$t("class_question_set.buttons.view")),1)]),_:2},1032,["onClick"])])],8,Ze))),256))])):(_(),b("div",nt,[s(x,null,{description:n(()=>t[9]||(t[9]=[a("span",null," No data matches. ",-1)])),_:1})])),a("div",st,[s(S,{onChange:e.onPaginationChange,current:e.pageParams.pageNumber,"onUpdate:current":t[1]||(t[1]=r=>e.pageParams.pageNumber=r),total:e.pageParams.totalCount,pageSize:e.pageParams.pageSize,"show-total":(r,o)=>`${o[0]}-${o[1]} of ${r} ${e.t("folder_index.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:e.t("folder_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])])])])])]}),_:1},8,["open"])}const ma=H($e,[["render",lt],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/shared/modals/ChooseFolderTestTemplateModal.vue"]]),it=Q({__name:"ChooseTestTemplateModal",emits:["switchToFolder","openTestTemplate"],setup(v,{expose:t,emit:g}){var p;const e=B(),I=oe(),{t:z}=j(),T=Object.values(Y),l=Z(()=>T.map(c=>({label:z(`folder_index.select_option.${c}`),value:c!==Y.ALL?c:""}))),i=A([]),d=K({pageNumber:e.query.pageNumber||1,pageSize:e.query.pageSize||10,name:((p=e.query.name)==null?void 0:p.toString())||"",shareMode:e.query.shareMode||l.value[0].value,totalCount:0,statusFilter:!1}),x=async()=>{try{let c=await se.GetAllByLimit(d);if(c.data.success){let q=c.data.data;i.value=q.items,d.pageNumber=q.pageNumber,d.pageSize=q.pageSize,d.totalCount=q.totalCount}}catch(c){console.log("ERROR: GETALLBYLIMIT testtemplate: "+c)}};J(()=>{var c;Object.keys(e.query).length===0&&(d.pageNumber=e.query.pageNumber||1,d.pageSize=e.query.pageSize||10,d.name=((c=e.query.name)==null?void 0:c.toString())||"",d.shareMode=e.query.shareMode||l.value[0].value,d.statusFilter=!0,x())});const S=(c,q)=>{d.pageNumber=c,d.pageSize=q,d.statusFilter=!0,x()},w=A(!1),C=()=>{w.value=!0},r=()=>{w.value=!1};t({openModal:C,closeModal:r});const o=g,u={route:e,router:I,t:z,optionKeys:T,share_mode_options:l,test_template_data:i,pageParams:d,getData:x,onPaginationChange:S,modal_open:w,openModal:C,closeModal:r,emit:o,handleSwitchToFolder:()=>{o("switchToFolder")},handleOpenTestTemplate:c=>{o("openTestTemplate",c)},Input:V};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),rt={class:"modal-container"},dt={class:"modal-title-container"},ct={class:"content"},ut={class:"content-item"},mt={class:"title-container"},_t={class:"main-title"},ft={class:"content-item-functions"},pt={class:"content-item-navigators"},gt={class:"navigator-container"},ht={class:"filter-container"},vt={style:{width:"300px",padding:"0px"}},Tt={key:0,class:"quiz-item-container"},bt={class:"quiz-item"},St={class:"quiz-item-title"},wt={class:"quiz-item-info quiz-info-detail"},yt={class:"quiz-item-questions"},xt={class:"quiz-item-created-by"},kt={class:"exam-item-actions"},Ct={key:1,class:"w-100 d-flex justify-content-center"},zt={class:"pagination-container"};function Mt(v,t,g,e,I,z){const T=m("RouterLink"),l=m("a-col"),i=m("a-row"),d=m("a-select-option"),x=m("a-select"),S=m("a-button"),w=m("a-empty"),C=m("a-pagination"),r=m("a-modal");return _(),E(r,{centered:"",width:"100%","wrap-class-name":"medium-modal large",open:e.modal_open,onCancel:e.closeModal},{footer:n(()=>t[11]||(t[11]=[])),default:n(()=>[a("div",rt,[a("div",dt,[s(i,{class:"w-100 d-flex align-items-center"},{default:n(()=>[s(l,{span:1},{default:n(()=>[s(T,{onClick:e.closeModal,to:{name:""}},{default:n(()=>t[3]||(t[3]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[3]})]),_:1}),s(l,{class:"main-title",span:23},{default:n(()=>t[4]||(t[4]=[a("span",null,"Choose from folder test",-1)])),_:1,__:[4]})]),_:1})]),a("div",ct,[a("div",ut,[a("div",mt,[a("div",_t,[a("span",null,f(v.$t("folder_index.title")),1),t[5]||(t[5]=M()),t[6]||(t[6]=a("br",null,null,-1)),a("span",null,f(v.$t("folder_index.sub_title")),1)])]),a("div",ft,[a("div",pt,[a("div",gt,[s(T,{class:"navigator-item",to:{name:""},onClick:e.handleSwitchToFolder},{default:n(()=>[M(f(v.$t("folder_index.navigators.folder")),1)]),_:1}),s(T,{class:"navigator-item navigator-active",to:{name:""}},{default:n(()=>[M(f(v.$t("folder_index.navigators.test_template")),1)]),_:1})])]),a("div",ht,[s(x,{class:"me-3",value:e.pageParams.shareMode,"onUpdate:value":t[0]||(t[0]=o=>e.pageParams.shareMode=o),style:{width:"200px"},onChange:e.getData},{default:n(()=>[(_(!0),b(L,null,N(e.share_mode_options,o=>(_(),E(d,{value:o.value},{default:n(()=>[M(f(o.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),a("div",vt,[s(e.Input,{onInput:e.getData,modelValue:e.pageParams.name,"onUpdate:modelValue":t[1]||(t[1]=o=>e.pageParams.name=o),placeholder:e.t("class_index.other.search_class_placeholder")},{icon:n(()=>t[7]||(t[7]=[a("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])])]),e.test_template_data.length>0?(_(),b("div",Tt,[(_(!0),b(L,null,N(e.test_template_data,o=>(_(),b("div",bt,[t[9]||(t[9]=a("i",{class:"bx bx-book-open quiz-item-icon"},null,-1)),a("div",null,[a("div",St,f(o.name),1),a("div",wt,[a("div",yt,[t[8]||(t[8]=a("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),M(" "+f(o.numberOfQuestion)+" "+f(v.$t("dashboards.list_items.quiz.questions")),1)]),a("div",xt,f(v.$t("class_question_set.other.created_by"))+" "+f(o.createdBy),1)])]),a("div",kt,[s(S,{type:"primary",class:"me-3 main-color-btn",onClick:h=>e.handleOpenTestTemplate(o.testTemplateId)},{default:n(()=>[M(f(v.$t("class_question_set.buttons.view")),1)]),_:2},1032,["onClick"])])]))),256))])):(_(),b("div",Ct,[s(w,null,{description:n(()=>t[10]||(t[10]=[a("span",null," No data matches. ",-1)])),_:1})])),a("div",zt,[s(C,{onChange:e.onPaginationChange,current:e.pageParams.pageNumber,"onUpdate:current":t[2]||(t[2]=o=>e.pageParams.pageNumber=o),total:e.pageParams.totalCount,pageSize:e.pageParams.pageSize,"show-total":(o,h)=>`${h[0]}-${h[1]} of ${o} ${e.t("folder_index.other.items")}`,"show-size-changer":"","show-quick-jumper":"",class:"crud-layout-pagination",locale:{items_per_page:e.t("folder_index.other.pages")}},null,8,["current","total","pageSize","show-total","locale"])])])])])]),_:1},8,["open"])}const _a=H(it,[["render",Mt],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/shared/modals/ChooseTestTemplateModal.vue"]]),qt=Q({__name:"ChooseQuestionModal",props:{testTemplateId:{type:String,required:!0},folder:{type:[Object,null],required:!0}},emits:["import","backToFolderTestTemplateModal","backToTestTemplateModal"],setup(v,{expose:t,emit:g}){const e=B(),{t:I}=j(),z=v,T=A(),l=A(),i=async()=>{try{if(!z.testTemplateId)return;let y=await se.GetById(z.testTemplateId||"");if(y.data.success){let O=y.data.data;T.value=O,l.value=O.questions}}catch(y){console.log("ERROR: GETBYID testtemplate: "+y)}},d={HTML:"HTML",PLAIN_TEXT:"PlainText"},x=Object.values(te).map(y=>({label:I(`create_QS.type.${y}`),value:y})),S=A([...x.map(y=>y.value)]),w=A(""),C=()=>{var P,D;r.checkedList=[];let y=(P=T.value)==null?void 0:P.questions;const O=w.value.trim().toLowerCase();y=(D=T.value)==null?void 0:D.questions.filter(ee=>{const le=!O||ee.questionText.toLowerCase().includes(O),ie=!S.value.length||S.value.includes(ee.type);return le&&ie}),l.value=y},r=K({checkAll:!1,indeterminate:!1,checkedList:[]}),o=y=>{Object.assign(r,{checkedList:y.target.checked?l.value:[],indeterminate:!1})};W(()=>r.checkedList,y=>{var O;r.indeterminate=!!y.length&&y.length<l.value.length,r.checkAll=y.length===((O=l.value)==null?void 0:O.length)});const h=(y,O)=>{$(O).toggleClass("bx-chevron-up bx-chevron-down");const D=$(`#question-item-answer-${y}`);D&&$(D).slideToggle()},k=g,u=A(!1),p=async()=>{r.checkAll=!1,r.checkedList=[],r.indeterminate=!1,u.value=!0,await i()},c=()=>{u.value=!1,z.folder!==null?k("backToFolderTestTemplateModal",z.folder):k("backToTestTemplateModal")};t({openModal:p,closeModal:c});const F={route:e,t:I,props:z,test_template_data:T,question_data:l,getData:i,QUESTION_FORMAT:d,questionTypeOptions:x,selectedQuestionTypes:S,searchValue:w,onFilter:C,importModalState:r,onCheckAll:o,toggleDisplayAnswer:h,emit:k,modal_open:u,openModal:p,closeModal:c,handleModalImport:()=>{ue.confirm({title:"Are your sure? ",content:"Import: "+r.checkedList.length+"?",okText:"Confirm",onOk:()=>{var O;const y=(O=l.value)==null?void 0:O.filter(P=>r.checkedList.includes(P));k("import",y),u.value=!1}})},get QUESTION_TYPE(){return te},Input:V};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),It={class:"modal-container"},Ot={class:"modal-title-container"},At={class:"modal-content-item"},Lt={class:"content-item-section preview-section"},Nt={class:"section-content"},Pt={class:"section-content-header"},Et={class:"header-item"},Ft={class:"d-flex flex-fill align-items-center justify-content-end"},Rt={style:{width:"250px"}},Dt={class:"preview-question-container"},Ut={class:"preview-question-item"},$t={class:"question-item-content"},Qt=["innerHTML"],jt={key:1,class:"question-text"},Ht=["id"],Vt={key:0,class:"multiple-choice-answer"},Gt={key:0,class:"text-success"},Yt={class:"pair-answer"},Bt={class:"pair-answer-item"},Kt={class:"pair-answer-item"},Xt={key:2,class:"ordering-answer"},Wt={class:"ordering-answer-item"},Zt={class:"ordering-answer-item"},Jt={class:"ordering-answer-item"},ea={class:"short-text-answer"},ta={class:"question-item-toogle-btn"},aa=["onClick"];function oa(v,t,g,e,I,z){const T=m("RouterLink"),l=m("a-col"),i=m("a-row"),d=m("a-checkbox"),x=m("a-select-option"),S=m("a-select"),w=m("a-checkbox-group"),C=m("a-button"),r=m("a-modal");return _(),E(r,{centered:"",width:"100%","wrap-class-name":"medium-modal large",open:e.modal_open,onCancel:e.closeModal},{footer:n(()=>[s(C,{class:"main-color-btn",size:"large",key:"submit",type:"primary",onClick:e.handleModalImport},{default:n(()=>t[12]||(t[12]=[M(" Import ")])),_:1,__:[12]})]),default:n(()=>[a("div",It,[a("div",Ot,[s(i,{class:"w-100 d-flex align-items-center"},{default:n(()=>[s(l,{span:1},{default:n(()=>[s(T,{onClick:e.closeModal,to:{name:""}},{default:n(()=>t[4]||(t[4]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[4]})]),_:1}),s(l,{class:"main-title",span:23},{default:n(()=>[a("span",null,f(v.$t("create_QS.title")),1),t[5]||(t[5]=M()),t[6]||(t[6]=a("br",null,null,-1)),a("span",null,f(v.$t("create_QS.sub_title")),1)]),_:1,__:[5,6]})]),_:1})]),a("div",At,[a("div",Lt,[a("div",Nt,[a("div",Pt,[s(d,{class:me(["header-item",e.importModalState.checkAll?"check-all":""]),onClick:e.onCheckAll,checked:e.importModalState.checkAll,"onUpdate:checked":t[0]||(t[0]=o=>e.importModalState.checkAll=o),indeterminate:e.importModalState.indeterminate},{default:n(()=>t[7]||(t[7]=[M(" Check all ")])),_:1,__:[7]},8,["class","checked","indeterminate"]),a("div",Et," Selected: "+f(e.importModalState.checkedList.length),1),a("div",Ft,[s(S,{size:"large",class:"me-3",mode:"multiple",value:e.selectedQuestionTypes,"onUpdate:value":t[1]||(t[1]=o=>e.selectedQuestionTypes=o),placeholder:"Filter question types",style:{width:"fit-content","min-width":"300px"},onChange:e.onFilter},{default:n(()=>[(_(!0),b(L,null,N(e.questionTypeOptions,o=>(_(),E(x,{value:o.value},{default:n(()=>[M(f(o.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),a("div",Rt,[s(e.Input,{onInput:e.onFilter,modelValue:e.searchValue,"onUpdate:modelValue":t[2]||(t[2]=o=>e.searchValue=o),placeholder:e.t("class_index.other.search_class_placeholder")},{icon:n(()=>t[8]||(t[8]=[a("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"])])])]),s(w,{value:e.importModalState.checkedList,"onUpdate:value":t[3]||(t[3]=o=>e.importModalState.checkedList=o)},{default:n(()=>[a("div",Dt,[(_(!0),b(L,null,N(e.question_data,(o,h)=>{var k,u;return _(),b("div",Ut,[s(d,{value:o},null,8,["value"]),a("div",$t,[o.textFormat===e.QUESTION_FORMAT.HTML?(_(),b("div",{key:0,class:"question-html",innerHTML:o.questionText},null,8,Qt)):(_(),b("div",jt,f(o.questionText),1)),a("div",{class:"question-item-answer",id:`question-item-answer-${h}`},[o.type===e.QUESTION_TYPE.MULTIPLE_CHOICE?(_(),b("div",Vt,[a("ul",null,[(_(!0),b(L,null,N(o.questionData.multipleChoice,p=>(_(),b("li",null,[M(f(p.text)+" ",1),p.isAnswer?(_(),b("span",Gt," ("+f(p.isAnswer)+") ",1)):U("v-if",!0)]))),256))])])):U("v-if",!0),o.type===e.QUESTION_TYPE.MATCHING?(_(!0),b(L,{key:1},N((k=o.questionData.matching)==null?void 0:k.matches,p=>{var c,q,F,y;return _(),b("div",Yt,[a("span",Bt,f((q=(c=o.questionData.matching)==null?void 0:c.leftItems.find(O=>O.id===p.leftId))==null?void 0:q.text),1),t[9]||(t[9]=a("i",{class:"bx bx-right-arrow-alt"},null,-1)),a("span",Kt,f((y=(F=o.questionData.matching)==null?void 0:F.rightItems.find(O=>O.id===p.rightId))==null?void 0:y.text),1)])}),256)):U("v-if",!0),o.type===e.QUESTION_TYPE.ORDERING?(_(),b("div",Xt,[a("div",Wt,[(_(!0),b(L,null,N(o.questionData.ordering,p=>(_(),b("div",null,f(p.text),1))),256))]),t[10]||(t[10]=a("i",{class:"bx bx-right-arrow-alt"},null,-1)),a("div",Zt,[(_(!0),b(L,null,N((u=o.questionData.ordering)==null?void 0:u.sort((p,c)=>p.correctOrder-c.correctOrder),(p,c)=>(_(),b("div",Jt,[a("span",null,"#"+f(p.correctOrder),1),M(" - "+f(p.text),1)]))),256))])])):U("v-if",!0),o.type===e.QUESTION_TYPE.SHORT_TEXT?(_(),b(L,{key:3},[t[11]||(t[11]=a("span",null,"Answer:",-1)),a("div",ea,f(o.questionData.shortText),1)],64)):U("v-if",!0)],8,Ht)]),a("div",ta,[a("i",{class:"bx bx-chevron-up",onClick:p=>e.toggleDisplayAnswer(h,p.currentTarget)},null,8,aa)])])}),256))])]),_:1},8,["value"])])])])])]),_:1},8,["open"])}const fa=H(qt,[["render",oa],["__scopeId","data-v-3653897f"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/shared/modals/ChooseQuestionModal.vue"]]);export{fa as C,ca as S,X as T,_e as a,_a as b,ma as c,ua as d};
