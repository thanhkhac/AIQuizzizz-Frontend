import{d as v,u as S,i as x,s as M,j as C,k,_ as h,r,c as w,o as I,e as P,b as m,a as e,w as n,f as O,t as F}from"./index-CW61C-sU.js";import{A as T}from"./ApiAdmin-CXWS8Dec.js";const U=v({__name:"system_setting",emits:["updateSidebar"],setup(b,{expose:a,emit:g}){a();const s=g,{t:f}=S(),c=x(!1),i=x();M(()=>{s("updateSidebar","system_settings"),p()});const o=C({id:"",inputCostPerMillionTokens:0,outputCostPerMillionTokens:0,fixedSystemFee:0,maxInputToken:0,maxOutputToken:0}),l={inputCostPerMillionTokens:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",max:1e9,message:"Max Output Token must be less than 1,000,000,000",trigger:"change"}],outputCostPerMillionTokens:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",max:1e9,message:"Max Output Token must be less than 1,000,000,000",trigger:"change"}],fixedSystemFee:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",max:1e9,message:"Max Output Token must be less than 1,000,000,000",trigger:"change"}],maxInputToken:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",min:0,max:1048575,message:"Max Input Token must be less than 1,048,576",trigger:"change"}],maxOutputToken:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",max:65535,message:"Max Output Token must be less than 65,536",trigger:"change"}]},d=async()=>{try{await i.value.validate(),c.value=!0;const t={...o},{id:u,...y}=t;console.log("System settings (without id):",y),(await T.SystemSettingsUpdate(y)).data.success&&k.success("Update successfully."),p()}catch(t){k.error("Update fail."),console.log("error",t.response.data)}finally{c.value=!1}},p=async()=>{try{let t=await T.SystemSettings();const u=t.data.data;console.log(u),t.data.success&&Object.assign(o,{id:u.id,inputCostPerMillionTokens:u.inputCostPerMillionTokens,outputCostPerMillionTokens:u.outputCostPerMillionTokens,fixedSystemFee:u.fixedSystemFee,maxInputToken:u.maxInputToken,maxOutputToken:u.maxOutputToken})}catch(t){console.log(t)}},_={emit:s,t:f,isUpdateLoading:c,updateSystemSettingFormRef:i,system_settings:o,rules:l,onUpdate:d,getSystemSettingsData:p};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),q={class:"page-container"},z={class:"content"},j={class:"content-item"},A={class:"w-100 d-flex justify-content-end"};function N(b,a,g,s,f,c){const i=r("a-input-number"),o=r("a-form-item"),l=r("a-col"),d=r("a-row"),p=r("a-button"),_=r("a-form");return I(),w("div",q,[P(" header title "),a[5]||(a[5]=m("div",{class:"title-container"},[m("div",{class:"main-title"},[m("span",null,"System settings")])],-1)),m("div",z,[m("div",j,[e(_,{layout:"vertical",ref:"updateSystemSettingFormRef",model:s.system_settings,rules:s.rules},{default:n(()=>[e(d,{class:"w-100 d-flex justify-content-between"},{default:n(()=>[e(l,{span:11},{default:n(()=>[e(o,{label:"Input Cost Per Million Tokens",name:"inputCostPerMillionTokens"},{default:n(()=>[e(i,{value:s.system_settings.inputCostPerMillionTokens,"onUpdate:value":a[0]||(a[0]=t=>s.system_settings.inputCostPerMillionTokens=t),class:"update_input_name",min:"0","is-required":!0},null,8,["value"])]),_:1})]),_:1}),e(l,{span:11},{default:n(()=>[e(o,{label:"Output Cost Per Million Tokens",name:"outputCostPerMillionTokens"},{default:n(()=>[e(i,{value:s.system_settings.outputCostPerMillionTokens,"onUpdate:value":a[1]||(a[1]=t=>s.system_settings.outputCostPerMillionTokens=t),class:"update_input_name",min:"0"},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{class:"w-100 d-flex justify-content-between"},{default:n(()=>[e(l,{span:11},{default:n(()=>[e(o,{label:"Max Input Token",name:"maxInputToken"},{default:n(()=>[e(i,{value:s.system_settings.maxInputToken,"onUpdate:value":a[2]||(a[2]=t=>s.system_settings.maxInputToken=t),class:"update_input_name",min:"0"},null,8,["value"])]),_:1})]),_:1}),e(l,{span:11},{default:n(()=>[e(o,{label:"Max Output Token",name:"maxOutputToken"},{default:n(()=>[e(i,{value:s.system_settings.maxOutputToken,"onUpdate:value":a[3]||(a[3]=t=>s.system_settings.maxOutputToken=t),class:"update_input_name",min:"0"},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{class:"w-100 d-flex justify-content-between"},{default:n(()=>[e(l,{span:11},{default:n(()=>[e(o,{label:"Fixed System Fee",name:"fixedSystemFee"},{default:n(()=>[e(i,{value:s.system_settings.fixedSystemFee,"onUpdate:value":a[4]||(a[4]=t=>s.system_settings.fixedSystemFee=t),class:"update_input_name",min:"0"},null,8,["value"])]),_:1})]),_:1})]),_:1}),m("div",A,[e(p,{loading:s.isUpdateLoading,class:"main-color-btn",key:"submit",type:"primary",onClick:s.onUpdate},{default:n(()=>[O(F(s.t("admin.manage_subscription.btn.save")),1)]),_:1},8,["loading"])])]),_:1},8,["model"])])])])}const L=h(U,[["render",N],["__scopeId","data-v-03bab758"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/admin/account/system_setting.vue"]]);export{L as default};
