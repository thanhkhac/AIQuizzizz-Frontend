var xe=Object.defineProperty;var Ee=(t,e,r)=>e in t?xe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var q=(t,e,r)=>Ee(t,typeof e!="symbol"?e+"":e,r);import{y as B,z as A,B as Oe,d as qe,u as Ae,C as ne,i as N,D as Ne,s as Ue,j as Ce,_ as Be,r as R,a as U,o as j,e as y,b as w,c as x,w as I,t as G,F as re,E as oe,G as L,f as ie}from"./index-CNC2148x.js";import{I as Ge}from"./Input-B6AzPJuz.js";const z={GET_ALL_USERS:"/Users",ACTIVE_USER:t=>`/Users/${t}/Active`,BAN_USER:t=>`/Users/${t}/Ban`};class Le{constructor(){q(this,"GetAllUser",async e=>await B.get(`${z.GET_ALL_USERS}`,{params:e}));q(this,"ActiveUser",async e=>await B.patch(`${z.ACTIVE_USER(e)}`));q(this,"BanUser",async e=>await B.patch(`${z.BAN_USER(e)}`))}}const ze=new Le;var F,ce;function Te(){if(ce)return F;ce=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return F=t,F}var P,se;function Fe(){if(se)return P;se=1;var t=typeof A=="object"&&A&&A.Object===Object&&A;return P=t,P}var V,le;function Se(){if(le)return V;le=1;var t=Fe(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return V=r,V}var D,ue;function Pe(){if(ue)return D;ue=1;var t=Se(),e=function(){return t.Date.now()};return D=e,D}var M,de;function Ve(){if(de)return M;de=1;var t=/\s/;function e(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return M=e,M}var W,fe;function De(){if(fe)return W;fe=1;var t=Ve(),e=/^\s+/;function r(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return W=r,W}var $,me;function Ie(){if(me)return $;me=1;var t=Se(),e=t.Symbol;return $=e,$}var K,_e;function Me(){if(_e)return K;_e=1;var t=Ie(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,c=t?t.toStringTag:void 0;function g(m){var s=r.call(m,c),d=m[c];try{m[c]=void 0;var n=!0}catch{}var l=a.call(m);return n&&(s?m[c]=d:delete m[c]),l}return K=g,K}var Q,ve;function We(){if(ve)return Q;ve=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return Q=r,Q}var H,ge;function $e(){if(ge)return H;ge=1;var t=Ie(),e=Me(),r=We(),a="[object Null]",c="[object Undefined]",g=t?t.toStringTag:void 0;function m(s){return s==null?s===void 0?c:a:g&&g in Object(s)?e(s):r(s)}return H=m,H}var X,be;function Ke(){if(be)return X;be=1;function t(e){return e!=null&&typeof e=="object"}return X=t,X}var Y,pe;function Qe(){if(pe)return Y;pe=1;var t=$e(),e=Ke(),r="[object Symbol]";function a(c){return typeof c=="symbol"||e(c)&&t(c)==r}return Y=a,Y}var J,he;function He(){if(he)return J;he=1;var t=De(),e=Te(),r=Qe(),a=NaN,c=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,m=/^0o[0-7]+$/i,s=parseInt;function d(n){if(typeof n=="number")return n;if(r(n))return a;if(e(n)){var l=typeof n.valueOf=="function"?n.valueOf():n;n=e(l)?l+"":l}if(typeof n!="string")return n===0?n:+n;n=t(n);var _=g.test(n);return _||m.test(n)?s(n.slice(2),_?2:8):c.test(n)?a:+n}return J=d,J}var Z,ye;function Xe(){if(ye)return Z;ye=1;var t=Te(),e=Pe(),r=He(),a="Expected a function",c=Math.max,g=Math.min;function m(s,d,n){var l,_,i,v,f,h,b=0,k=!1,T=!1,o=!0;if(typeof s!="function")throw new TypeError(a);d=r(d)||0,t(n)&&(k=!!n.leading,T="maxWait"in n,i=T?c(r(n.maxWait)||0,d):i,o="trailing"in n?!!n.trailing:o);function p(u){var S=l,E=_;return l=_=void 0,b=u,v=s.apply(E,S),v}function je(u){return b=u,f=setTimeout(O,d),k?p(u):v}function we(u){var S=u-h,E=u-b,ae=d-S;return T?g(ae,i-E):ae}function ee(u){var S=u-h,E=u-b;return h===void 0||S>=d||S<0||T&&E>=i}function O(){var u=e();if(ee(u))return te(u);f=setTimeout(O,we(u))}function te(u){return f=void 0,o&&l?p(u):(l=_=void 0,v)}function ke(){f!==void 0&&clearTimeout(f),b=0,l=h=_=f=void 0}function Re(){return f===void 0?v:te(e())}function C(){var u=e(),S=ee(u);if(l=arguments,_=this,h=u,S){if(f===void 0)return je(h);if(T)return clearTimeout(f),f=setTimeout(O,d),p(h)}return f===void 0&&(f=setTimeout(O,d)),v}return C.cancel=ke,C.flush=Re,C}return Z=m,Z}var Ye=Xe();const Je=Oe(Ye),Ze=qe({__name:"manage_acc",emits:["updateSidebar"],setup(t,{expose:e,emit:r}){e();const a=r,{t:c}=Ae(),g=["all","active","ban"],m=ne(()=>g.map(o=>({label:c(`admin.manage_acc.acc_status.${o}`),value:o}))),s=N(m.value[0].value),d=["all","Administrator","Moderator","User"],n=ne(()=>d.map(o=>({label:c(`admin.manage_acc.acc_role.${o}`),value:o}))),l=N(n.value[0].value),_=N(""),i=async()=>{console.log({search:_.value,status:s.value,role:l.value}),b.keyword=_.value,s.value==="all"?delete b.IsBanned:b.IsBanned=s.value==="ban",b.role=l.value==="all"?"":l.value,k()};Ne(_,Je(o=>{i()},300));const v=[{title:"ID",dataIndex:"id",customRender:({index:o})=>o+1,width:50,align:"center"},{title:"Fullname",dataIndex:"fullName",key:"fullName",sorter:(o,p)=>o.fullName.localeCompare(p.fullName),width:350,align:"center"},{title:"Email",dataIndex:"email",key:"email",sorter:(o,p)=>o.email.localeCompare(p.email),width:450,align:"center"},{title:"Token",dataIndex:"token",key:"token",sorter:(o,p)=>o.token-p.token,width:100,align:"center"},{title:"Role",dataIndex:"role",key:"role",sorter:(o,p)=>o.role.localeCompare(p.role),width:100,align:"center"},{title:"Ban",key:"ban",width:120,align:"center"}];Ue(()=>{a("updateSidebar","account"),k()});const f=N([]);async function h(o){console.log("Toggle active:",o.isBanned),console.log("Toggle active:",o.id)}const b=Ce({fieldName:"Email",keyword:"",pageNumber:1,pageSize:15}),k=async()=>{try{let o=await ze.GetAllUser(b);o.data.success&&(f.value=o.data.data.items)}catch(o){console.log("ERROR: GETALLBYLIMIT testtemplate: "+o)}},T={emit:a,t:c,optionKeysAccStatus:g,account_status_credit_options:m,selected_acc_status_option:s,optionKeysAccRole:d,account_role_credit_options:n,selected_acc_role_option:l,searchValue:_,onFilter:i,columns:v,dataSource:f,onToggle:h,payloadGetUsers:b,getUsersData:k,Input:Ge};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),et={class:"page-container"},tt={class:"title-container"},at={class:"content"},nt={class:"filter-input-item"},rt={class:"filter-input-full"},ot={class:"account-table"},it={key:0,class:"action-cell"};function ct(t,e,r,a,c,g){const m=R("a-col"),s=R("a-row"),d=R("a-select-option"),n=R("a-select"),l=R("a-switch"),_=R("a-table");return j(),U("div",et,[y(" header title "),w("div",tt,[x(s,{class:"w-100"},{default:I(()=>[x(m,{class:"main-title",span:20},{default:I(()=>[w("span",null,G(a.t("admin.manage_acc.title")),1)]),_:1})]),_:1})]),w("div",at,[y(" filter area "),w("div",nt,[y(" filter text input  "),w("div",rt,[x(a.Input,{class:"custom-input",value:a.searchValue,"onUpdate:value":e[0]||(e[0]=i=>a.searchValue=i),placeholder:a.t("admin.manage_acc.search_placeholder")},{icon:I(()=>e[3]||(e[3]=[w("i",{class:"bx bx-search"},null,-1)])),_:1},8,["value","placeholder"])]),y(" filter account status "),x(n,{style:{width:"calc(19%)"},value:a.selected_acc_status_option,"onUpdate:value":e[1]||(e[1]=i=>a.selected_acc_status_option=i),onChange:a.onFilter},{default:I(()=>[(j(!0),U(re,null,oe(a.account_status_credit_options,i=>(j(),L(d,{key:i.value,value:i.value},{default:I(()=>[ie(G(i.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),y(" filter account role "),x(n,{style:{width:"calc(19%)"},value:a.selected_acc_role_option,"onUpdate:value":e[2]||(e[2]=i=>a.selected_acc_role_option=i),onChange:a.onFilter},{default:I(()=>[(j(!0),U(re,null,oe(a.account_role_credit_options,i=>(j(),L(d,{key:i.value,value:i.value},{default:I(()=>[ie(G(i.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),y(" table list account "),w("div",ot,[x(_,{"data-source":a.dataSource,columns:a.columns,"row-key":"id"},{bodyCell:I(({column:i,record:v})=>[i.key==="ban"?(j(),U("div",it,[v.role!=="Administrator"?(j(),L(l,{key:0,checked:v.isBanned,"onUpdate:checked":f=>v.isBanned=f,"checked-children":"","un-checked-children":"",onChange:f=>a.onToggle(v)},null,8,["checked","onUpdate:checked","onChange"])):y("v-if",!0)])):y("v-if",!0)]),_:1},8,["data-source"]),y(` <div class="pagination-container">
                    <a-pagination
                        @change="onPaginationChange"
                        v-model:current="pageParams.pageNumber"
                        :total="pageParams.totalCount"
                        :pageSize="pageParams.pageSize"
                        :show-total="
                            (total: any, range: any) =>
                                \`\${range[0]}-\${range[1]} of \${total} \${t('class_member.other.items')}\`
                        "
                        show-size-changer
                        show-quick-jumper
                        class="crud-layout-pagination"
                        :locale="{
                            items_per_page: t('class_index.other.pages'),
                        }"
                    ></a-pagination>
                </div> `)])])])}const dt=Be(Ze,[["render",ct],["__scopeId","data-v-a9d2c947"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/admin/account/manage_acc.vue"]]);export{dt as default};
