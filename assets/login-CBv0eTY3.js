import{d as y,u as L,g as S,i as k,j as z,A as C,k as I,_ as O,r as s,c as R,b as t,a as n,f as g,t as l,n as A,w as a,o as U}from"./index-DNe0PjcS.js";import{g as B}from"./google_logo-CHe-RPXx.js";import{M as F}from"./MailOutlined-B6-d_XT3.js";import{L as M}from"./LockOutlined-DqChX5jh.js";const q=y({__name:"login",setup(i,{expose:e}){e();const p="637359103193-umcet39e9b2k2kc0l369mlebantp1089.apps.googleusercontent.com",{t:o}=L(),c=S(),_=k(),f={span:24},v={span:24},r=z({email:"",password:""}),d=k(!1),h={email:[{required:!0,message:o("auth.validation.required"),trigger:"change"}],password:[{required:!0,message:o("auth.validation.required"),trigger:"change"}]},u={google_client_id:p,t:o,authStore:c,formRef:_,labelCol:f,wrapperCol:v,formState:r,button_loading:d,rules:h,onFinish:()=>{_.value.validate().then(async()=>{try{d.value=!0,(await C.Login(r)).data.success&&(I.success("Login successfully. Redirecting..."),c.LoginSuccessful())}catch(m){console.log(m)}finally{d.value=!1}})},onGoogleLogin:async()=>{sessionStorage.setItem("returnURL",c.returnURL);const m=window.location.origin;window.location.assign(`https://accounts.google.com/o/oauth2/v2/auth?client_id=${p}&redirect_uri=${m}/google-authentication-callback&response_type=code&scope=openid%20email%20profile&access_type=offline&prompt=consent
`)},get google_logo(){return B},get LockOutlined(){return M},get MailOutlined(){return F}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),x={class:"authentication-item"},G={class:"authentication-item-title"},N={class:"authentication-item-external-login"},V={class:"authentication-item-navigator"},j={class:"authentication-item-navigator"};function Q(i,e,p,o,c,_){const f=s("a-divider"),v=s("a-input"),r=s("a-form-item"),d=s("a-input-password"),h=s("a-button"),w=s("a-form"),b=s("RouterLink");return U(),R("div",x,[t("div",G,[t("span",null,l(i.$t("auth.greetings.signIn")),1),e[2]||(e[2]=g()),e[3]||(e[3]=t("br",null,null,-1)),t("span",null,l(i.$t("auth.instructions.signIn")),1)]),t("div",N,[t("div",{class:"external-login external-login-google",onClick:o.onGoogleLogin},[t("div",{style:A({backgroundImage:`url(${o.google_logo})`})},null,4),e[4]||(e[4]=t("div",null,"Google",-1))])]),n(f,{style:{height:"1px","background-color":"#d9d9d9"}},{default:a(()=>e[5]||(e[5]=[t("span",{style:{"background-color":"#fff",padding:"0px 10px"}},"OR",-1)])),_:1,__:[5]}),n(w,{class:"authentication-item-form",ref:"formRef",model:o.formState,labelCol:o.labelCol,wrapperCol:o.wrapperCol,rules:o.rules},{default:a(()=>[n(r,{label:"",name:"email"},{default:a(()=>[t("label",null,l(i.$t("auth.inputs.email")),1),n(v,{size:"large",value:o.formState.email,"onUpdate:value":e[0]||(e[0]=u=>o.formState.email=u),placeholder:"Your email address..."},{addonBefore:a(()=>[n(o.MailOutlined)]),_:1},8,["value"])]),_:1}),n(r,{label:"",name:"password"},{default:a(()=>[t("label",null,l(i.$t("auth.inputs.password")),1),n(d,{size:"large",value:o.formState.password,"onUpdate:value":e[1]||(e[1]=u=>o.formState.password=u),placeholder:"Mật khẩu"},{addonBefore:a(()=>[n(o.LockOutlined)]),_:1},8,["value"])]),_:1}),n(r,null,{default:a(()=>[n(h,{class:"main-color-btn",loading:o.button_loading,onClick:o.onFinish,size:"large",type:"primary",style:{width:"100%"}},{default:a(()=>[g(l(i.$t("auth.buttons.signIn")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",V,[g(l(i.$t("auth.navigators.signUp_signIn_ins"))+" ",1),n(b,{to:{name:"register"}},{default:a(()=>[g(l(i.$t("auth.navigators.signUp_link")),1)]),_:1})]),t("div",j,[n(b,{to:{name:"forgot-password"}},{default:a(()=>[g(l(i.$t("auth.navigators.signIn_forgot_link")),1)]),_:1})])])}const Y=O(q,[["render",Q],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/login.vue"]]);export{Y as default};
