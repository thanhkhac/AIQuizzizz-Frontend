import{d as ce,u as de,i as u,H as O,G,O as ue,s as he,M as ge,P as me,k as fe,_ as pe,r as I,a as h,o as a,b as i,c as d,w as m,f as y,t as p,F as k,B as Q,p as l,C as W,e as R}from"./index-Dd8-myui.js";import{Q as b}from"./questionTypes-CS3lcRlq.js";import{T as ve}from"./TextArea-DyOic0o8.js";import{l as xe}from"./vue-draggable-plus-CKvOH8GT.js";import{H as be}from"./HolderOutlined-B2mqMJJr.js";const _e=ce({__name:"attempt",setup(B,{expose:o}){o();const{t:z}=de(),e={HTML:"HTML",PLAIN_TEXT:"PlainText"},v={id:"123456",title:"Programming fundamental",description:"Basic knowledge about programming.",totalQuestion:30,completed:8,question:[{id:"11111111-aaaa-aaaa-aaaa-111111111111",questionSetId:"11111111-1111-1111-1111-111111111111",type:"MultipleChoice",textFormat:"HTML",questionText:"<p>Which of the following are valid variable declarations in JavaScript?<br/><pre>let x = 5;<br>const y = 'hello';<br>var 1name = 'error';</pre></p>",score:10,scoreGraded:0,explainText:`Variables in JavaScript cannot start with a number. 'let x = 5' and 'const y = "hello"' are valid, but 'var 1name = "error"' is invalid.`,questionData:{multipleChoice:[{id:"a1",text:"Giữ vững địa vị thống trị của giai cấp công nhân thông qua Đảng Cộng sản Việt Nam trong mối liên minh giai cấp",isAnswer:!0},{id:"a2",text:"Giữ vững lập trường chính trị - tư tưởng của giai cấp công nhân, vai trò lãnh đạo của Đảng Cộng sản Việt Nam, giữ vững độc lập dân tộc và định hướng đi lên chủ nghĩa xã hội",isAnswer:!0},{id:"a3",text:"Giữ vững nền kinh tế thị trường theo hướng hiện đại, kiên định con đường đi lên chủ nghĩa xã hội",isAnswer:!1},{id:"a4",text:"Giữ vững nền kinh tế thị trường theo hướng hiện đại, kiên định con đường đi lên chủ nghĩa xã hội",isAnswer:!1}],matching:null,ordering:null,shortText:null}},{id:"44444444-dddd-dddd-dddd-444444444444",questionSetId:"11111111-1111-1111-1111-111111111111",type:"ShortText",textFormat:"HTML",questionText:"What is the output of the following code?<br/><pre>console.log(typeof null);</pre>",score:5,scoreGraded:5,explainText:"`typeof null` returns `'object'` due to a historical bug in JavaScript that has been preserved for backward compatibility.",questionData:{multipleChoice:null,matching:null,ordering:null,shortText:"object"}},{id:"22222222-bbbb-bbbb-bbbb-222222222222",questionSetId:"11111111-1111-1111-1111-111111111111",type:"Matching",textFormat:"PlainText",questionText:"Match the data types with appropriate examples.",score:10,scoreGraded:10,explainText:"A string is a series of characters like 'Hello World'. A boolean can be true or false. A number is a numeric value like 42.",questionData:{multipleChoice:null,ordering:null,shortText:null,matching:{leftItems:[{id:"l1",text:"String"},{id:"l2",text:"Boolean"},{id:"l3",text:"Number"}],rightItems:[{id:"r1",text:"'Hello World'"},{id:"r2",text:"true"},{id:"r3",text:"42"}],matches:[{leftId:"l1",rightId:"r1"},{leftId:"l2",rightId:"r2"},{leftId:"l3",rightId:"r3"}]}}},{id:"33333333-cccc-cccc-cccc-333333333333",questionSetId:"11111111-1111-1111-1111-111111111111",type:"Ordering",textFormat:"PlainText",questionText:"Arrange the steps of executing a JavaScript function.",score:10,scoreGraded:10,explainText:"First, the function must be declared. Then it can be called, at which point the body of the function will execute.",questionData:{multipleChoice:null,matching:null,shortText:null,ordering:[{id:"s2",text:"Function is called",correctOrder:2},{id:"s3",text:"Function body is executed",correctOrder:3},{id:"s1",text:"Function is declared",correctOrder:1}]}},{id:"55555555-aaaa-aaaa-aaaa-555555555555",questionSetId:"11111111-1111-1111-1111-111111111111",type:"MultipleChoice",textFormat:"HTML",questionText:"Which of the following statements correctly define a function in JavaScript?<br/><pre>function greet() { return 'Hi'; }</pre>",score:10,scoreGraded:0,explainText:"`function greet()` and `let greet = () => 'Hi';` are valid JavaScript function declarations. `def greet()` is Python syntax and not valid in JavaScript.",questionData:{multipleChoice:[{id:"f1",text:"function greet() { return 'Hi'; }",isAnswer:!0},{id:"f2",text:"def greet(): return 'Hi'",isAnswer:!1},{id:"f3",text:"let greet = () => 'Hi';",isAnswer:!0}],matching:null,ordering:null,shortText:null}},{id:"66666666-bbbb-bbbb-bbbb-666666666666",questionSetId:"11111111-1111-1111-1111-111111111111",type:"Matching",textFormat:"PlainText",questionText:"Match the loop type with its primary use case.",score:10,scoreGraded:10,explainText:"`for` is used when the number of iterations is known, `while` is better when the condition is dynamic, and `forEach` is designed for arrays.",questionData:{multipleChoice:null,ordering:null,shortText:null,matching:{leftItems:[{id:"lp1",text:"for loop"},{id:"lp2",text:"while loop"},{id:"lp3",text:"forEach loop"}],rightItems:[{id:"ru1",text:"Known number of iterations"},{id:"ru2",text:"Iterating over array elements"},{id:"ru3",text:"Unknown loop condition"}],matches:[{leftId:"lp1",rightId:"ru1"},{leftId:"lp2",rightId:"ru3"},{leftId:"lp3",rightId:"ru2"}]}}},{id:"77777777-cccc-cccc-cccc-777777777777",questionSetId:"11111111-1111-1111-1111-111111111111",type:"Ordering",textFormat:"PlainText",questionText:"Arrange the steps for writing and running a basic JavaScript program.",score:10,scoreGraded:10,explainText:"JavaScript code is typically written in a .js file, then linked in HTML, and finally run in the browser when the HTML is opened.",questionData:{multipleChoice:null,matching:null,shortText:null,ordering:[{id:"j1",text:"Write code in a .js file",correctOrder:1},{id:"j2",text:"Link the file to an HTML document",correctOrder:2},{id:"j3",text:"Open the HTML file in a browser",correctOrder:3}]}},{id:"88888888-dddd-dddd-dddd-888888888888",questionSetId:"11111111-1111-1111-1111-111111111111",type:"ShortText",textFormat:"HTML",questionText:"What will be the output of the following JavaScript code?<br/><pre>console.log(2 + '2');</pre>",score:5,scoreGraded:5,explainText:"When using `+` with a number and a string, JavaScript performs string concatenation. So `2 + '2'` becomes `'22'`.",questionData:{multipleChoice:null,matching:null,ordering:null,shortText:"22"}},{id:"99999999-eeee-eeee-eeee-999999999999",questionSetId:"11111111-1111-1111-1111-111111111111",type:"ShortText",textFormat:"PlainText",questionText:"In programming, what does 'DRY' stand for?",score:5,scoreGraded:5,explainText:"DRY stands for 'Don't Repeat Yourself', a principle aimed at reducing code duplication and improving maintainability.",questionData:{multipleChoice:null,matching:null,ordering:null,shortText:"Don't Repeat Yourself"}}]},s=u(v.question[0]),T=u(""),q=u(!1),P=u(!1),_=u([]),C=u([]),A=u([]),r=u([]),g=u(""),f=u([]),S=(t,n)=>{t===-1?f.value.push(n):f.value[t]=n},X=()=>{const t=f.value.findIndex(n=>n.questionId===s.value.id);switch(s.value.type){case b.MULTIPLE_CHOICE:{_.value.length>0?S(t,{questionId:s.value.id,type:s.value.type,multipleChoices:[..._.value],matchingLeft:null,matchingRight:null,ordering:null,shortText:""}):t!==-1&&f.value.splice(t,1);break}case b.MATCHING:{S(t,{questionId:s.value.id,type:s.value.type,multipleChoices:null,matchingLeft:[...C.value],matchingRight:[...A.value],ordering:null,shortText:""});break}case b.ORDERING:{S(t,{questionId:s.value.id,type:s.value.type,multipleChoices:null,matchingLeft:null,matchingRight:null,ordering:[...r.value],shortText:""});break}case b.SHORT_TEXT:{g.value.trim()?S(t,{questionId:s.value.id,type:s.value.type,multipleChoices:null,matchingLeft:null,matchingRight:null,ordering:null,shortText:g.value.trim()}):t!==-1&&f.value.splice(t,1);break}}},K=()=>{ge.confirm({title:"Are you sure to submit your test?",content:"Please double check your answer before submitting!",centered:!0,onOk:async()=>{}})},H=t=>{var N,w;E(),q.value=!1,s.value=v.question[t];const n=f.value.find(c=>c.questionId===s.value.id);switch(s.value.type){case b.MULTIPLE_CHOICE:{T.value=`Choose (${(N=s.value.questionData.multipleChoice)==null?void 0:N.filter(c=>c.isAnswer).length}) options.`,_.value=n?n==null?void 0:n.multipleChoices:[];break}case b.ORDERING:{T.value="Arrange these options to their correct order.",r.value=n?n==null?void 0:n.ordering:((w=s.value.questionData.ordering)==null?void 0:w.map(c=>c))||[];break}case b.MATCHING:{T.value="Arrange the items to align with their correct matches.",C.value=n?n==null?void 0:n.matchingLeft:s.value.questionData.matching.leftItems.map(c=>c)||[],A.value=n?n==null?void 0:n.matchingRight:s.value.questionData.matching.rightItems.map(c=>c)||{};break}case b.SHORT_TEXT:{T.value="Fill in the blank the correct answer.",g.value=n?n==null?void 0:n.shortText:"";break}}},Z=()=>{const t=v.question.findIndex(n=>n.id===s.value.id);t<v.question.length-1&&H(t+1)},$=()=>{const t=v.question.findIndex(n=>n.id===s.value.id);t>0&&H(t-1)},ee=t=>Array.from(f.value).some(n=>n.questionId===t),te=O(()=>{const t=v.question.findIndex(n=>n.id===s.value.id);return t!==-1&&t<v.question.length-1}),ne=O(()=>{const t=v.question.findIndex(n=>n.id===s.value.id);return t!==-1&&t>0}),ie={scroll:!0,scrollSensitivity:100,scrollSpeed:100,scrollTarget:document.scrollingElement};function E(){me(()=>{requestAnimationFrame(()=>{const t=document.querySelectorAll(".matching-option-container.left .answer-option-matching"),n=document.querySelectorAll(".matching-option-container.right .answer-option-matching"),N=Math.min(t.length,n.length);for(let w=0;w<N;w++){const c=t[w],D=n[w];if(!c||!D)continue;c.style.height="auto",D.style.height="auto";const Y=Math.max(c.offsetHeight,D.offsetHeight);c.style.height=`${Y}px`,D.style.height=`${Y}px`}})})}const oe=O(()=>{var t;return(t=s.value.questionData.multipleChoice)==null?void 0:t.some(n=>n.text.length>=100)}),V=G().add(61,"second"),L=u(V.diff(G(),"second"));let x=null;const re=O(()=>{const t=Math.floor(L.value/60).toString().padStart(2,"0"),n=(L.value%60).toString().padStart(2,"0");return`${t}:${n}`}),U=()=>{const t=V.diff(G(),"second");L.value=t>0?t:0,t<=0&&x&&(clearInterval(x),x=null)};x=setInterval(U,1e3);const F=u(),J=()=>{fe.info("Auto saved")},M=u(new Set),se=()=>{const t=s.value.id;M.value.delete(t)||M.value.add(t)},ae=t=>Array.from(M.value).some(n=>n===t),le=O(()=>{const t=s.value.id;return Array.from(M.value).some(n=>n===t)});ue(()=>{x&&clearInterval(x),F.value&&clearInterval(F.value)}),he(()=>{H(0),E(),window.addEventListener("resize",E),U(),x=setInterval(U,1e3),F.value=setInterval(J,6e4)});const j={t:z,QUESTION_FORMAT:e,quiz:v,currentQuestion:s,currentQuestionInstruction:T,currentQuestionIsSkipped:q,isSubmitted:P,userAnswerMultipleChoice:_,userAnswerMatchingLeft:C,userAnswerMatchingRight:A,userAnswerOrdering:r,userAnswerShortText:g,userAnswer:f,updateUserAnswer:S,onUserAnswerChange:X,onSubmit:K,onLoadCurrentQuestion:H,onNextQuestion:Z,onPreviousQuestion:$,userAnswerContainQuestion:ee,hasNextQuestion:te,hasPreviousQuestion:ne,dragOptions:ie,syncMatchingHeights:E,isOptionExceed:oe,endTime:V,remainingTime:L,get timer(){return x},set timer(t){x=t},formattedTime:re,updateCountdown:U,autoSaver:F,autoSave:J,flaggedQuestion:M,onToggleFlagQuestion:se,flagContainQuestion:ae,isCurrentQuestionFlagged:le,get QUESTION_TYPE(){return b},TextArea:ve,get VueDraggable(){return xe},get HolderOutlined(){return be}};return Object.defineProperty(j,"__isScriptSetup",{enumerable:!1,value:!0}),j}}),Te={class:"page-container"},we={class:"title-container title-container-header"},Ie={class:"content content-test d-flex flex-column"},ye={class:"d-flex"},qe={class:"content-item question-navigators"},Ce={class:"question-navigator-title d-flex justify-content-between align-items-center"},Ae={class:"countdown d-flex align-items-center"},Se={class:"question-navigator-container"},Me=["onClick"],Oe={class:"content-item"},ke={class:"section question-section"},Qe=["innerHTML"],He={class:"section answer-section"},Ee={class:"d-flex align-items-center"},Le={class:"answer-section-ins"},Ue={class:"answer-option-content"},Fe={key:1,class:"answer-option-container matching"},Ne={class:"matching-option-container left"},De={class:"d-flex align-items-center"},Re={class:l(["answer-option answer-option-matching"])},Pe={class:"answer-option-order"},Ve={class:"answer-option-content"},Ge={class:"matching-option-container right"},ze={class:"d-flex align-items-center"},Je={class:l(["answer-option answer-option-matching"])},je={class:"answer-option-content"},Ye={class:"answer-option-order"},We={key:2,class:"answer-option-container ordering"},Be={class:l(["answer-option answer-option-ordering"])},Xe={class:"answer-option-order"},Ke={class:"answer-option-content"},Ze={key:3,class:"answer-option-container"},$e={class:l(["answer-short-text"])},et={class:"w-100 d-flex align-items-center"},tt={class:"learn-question-footer"},nt={class:"d-flex"};function it(B,o,z,e,v,s){const T=I("RouterLink"),q=I("a-col"),P=I("a-row"),_=I("a-button"),C=I("a-checkbox"),A=I("a-checkbox-group");return a(),h("div",Te,[i("div",we,[d(P,{class:"w-100 d-flex align-items-center"},{default:m(()=>[d(q,{span:1},{default:m(()=>[d(T,{to:{name:"User_Library"}},{default:m(()=>o[7]||(o[7]=[i("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[7]})]),_:1}),d(q,{class:"main-title",span:22},{default:m(()=>[i("span",null,p(e.quiz.title),1),o[8]||(o[8]=y()),o[9]||(o[9]=i("br",null,null,-1)),i("span",null,p(e.quiz.description),1)]),_:1,__:[8,9]})]),_:1})]),i("div",Ie,[i("div",ye,[i("div",qe,[i("div",Ce,[o[11]||(o[11]=i("span",null,"Questions",-1)),i("span",Ae,[o[10]||(o[10]=i("i",{class:"bx bx-timer"},null,-1)),y(" "+p(e.formattedTime),1)])]),i("div",Se,[(a(!0),h(k,null,Q(e.quiz.question,(r,g)=>(a(),h("div",{class:l(["question-navigator-item",e.currentQuestion.id===r.id?"current-question":"",e.userAnswerContainQuestion(r.id)?"completed-question":"",e.flagContainQuestion(r.id)?"flagged-question":""]),onClick:f=>e.onLoadCurrentQuestion(g)},[i("span",null,p(g+1),1)],10,Me))),256))]),d(_,{type:"primary",class:l(["main-color-btn",e.isSubmitted?"main-color-btn-disabled":""]),onClick:e.onSubmit},{default:m(()=>o[12]||(o[12]=[y(" Submit ")])),_:1,__:[12]},8,["class"])])]),i("div",Oe,[i("div",ke,[i("div",{class:l(["learn-question",e.currentQuestion.textFormat===e.QUESTION_FORMAT.HTML?"":"d-none"]),innerHTML:e.currentQuestion.questionText},null,10,Qe),i("div",{class:l(["learn-question",e.currentQuestion.textFormat===e.QUESTION_FORMAT.HTML?"d-none":""])},p(e.currentQuestion.questionText),3),i("div",He,[i("div",Ee,[i("div",Le,p(e.currentQuestionInstruction),1)]),e.currentQuestion.type===e.QUESTION_TYPE.MULTIPLE_CHOICE?(a(),W(A,{key:0,onChange:e.onUserAnswerChange,value:e.userAnswerMultipleChoice,"onUpdate:value":o[0]||(o[0]=r=>e.userAnswerMultipleChoice=r),class:l(["answer-option-container multiplechoice",e.isOptionExceed?"column":""])},{default:m(()=>[(a(!0),h(k,null,Q(e.currentQuestion.questionData.multipleChoice,(r,g)=>(a(),W(C,{value:r.id,"onUpdate:value":f=>r.id=f,class:l(["answer-option answer-option-multiplechoice"])},{default:m(()=>[i("div",Ue,p(r.text),1)]),_:2},1032,["value","onUpdate:value"]))),256))]),_:1},8,["value","class"])):R("v-if",!0),e.currentQuestion.type===e.QUESTION_TYPE.MATCHING?(a(),h("div",Fe,[i("div",Ne,[d(e.VueDraggable,{modelValue:e.userAnswerMatchingLeft,"onUpdate:modelValue":o[1]||(o[1]=r=>e.userAnswerMatchingLeft=r),options:e.dragOptions,onMove:e.syncMatchingHeights,onEnd:o[2]||(o[2]=()=>{e.syncMatchingHeights(),e.onUserAnswerChange()})},{default:m(()=>[(a(!0),h(k,null,Q(e.userAnswerMatchingLeft,(r,g)=>(a(),h("div",De,[i("div",Re,[i("div",Pe,[d(e.HolderOutlined)]),i("div",Ve,p(r.text),1)]),o[13]||(o[13]=i("i",{class:l(["bx bxs-label matching-icon"])},null,-1))]))),256))]),_:1},8,["modelValue"])]),i("div",Ge,[d(e.VueDraggable,{modelValue:e.userAnswerMatchingRight,"onUpdate:modelValue":o[3]||(o[3]=r=>e.userAnswerMatchingRight=r),options:e.dragOptions,onMove:e.syncMatchingHeights,onEnd:o[4]||(o[4]=()=>{e.syncMatchingHeights(),e.onUserAnswerChange()})},{default:m(()=>[(a(!0),h(k,null,Q(e.userAnswerMatchingRight,(r,g)=>(a(),h("div",ze,[o[14]||(o[14]=i("i",{class:l(["bx bxs-label matching-icon"])},null,-1)),i("div",Je,[i("div",je,p(r.text),1),i("div",Ye,[d(e.HolderOutlined)])])]))),256))]),_:1},8,["modelValue"])])])):R("v-if",!0),e.currentQuestion.type===e.QUESTION_TYPE.ORDERING?(a(),h("div",We,[d(e.VueDraggable,{modelValue:e.userAnswerOrdering,"onUpdate:modelValue":o[5]||(o[5]=r=>e.userAnswerOrdering=r),options:e.dragOptions,onEnd:e.onUserAnswerChange},{default:m(()=>[(a(!0),h(k,null,Q(e.userAnswerOrdering,(r,g)=>(a(),h("div",Be,[i("div",Xe,[d(e.HolderOutlined),y(" "+p(g+1),1)]),i("div",Ke,p(r.text),1)]))),256))]),_:1},8,["modelValue"])])):R("v-if",!0),e.currentQuestion.type===e.QUESTION_TYPE.SHORT_TEXT?(a(),h("div",Ze,[i("div",$e,[i("div",et,[d(e.TextArea,{placeholder:"Enter your answer...",modelValue:e.userAnswerShortText,"onUpdate:modelValue":o[6]||(o[6]=r=>e.userAnswerShortText=r),onChange:e.onUserAnswerChange},null,8,["modelValue"])])])])):R("v-if",!0)]),i("div",tt,[d(_,{class:l(["main-color-btn",e.hasPreviousQuestion?"":"main-color-btn-disabled"]),type:"primary",size:"large",onClick:e.onPreviousQuestion},{default:m(()=>o[15]||(o[15]=[i("i",{class:"bx bx-chevron-left"},null,-1),y(" Previous question ")])),_:1,__:[15]},8,["class"]),i("i",{class:l(["bx bx-flag flag-button",e.isCurrentQuestionFlagged?"bxs-flag":""]),onClick:e.onToggleFlagQuestion},null,2),i("div",nt,[d(_,{class:l(["main-color-btn",e.hasNextQuestion?"":"main-color-btn-disabled"]),type:"primary",size:"large",onClick:e.onNextQuestion},{default:m(()=>o[16]||(o[16]=[y(" Next question "),i("i",{class:"bx bx-chevron-right"},null,-1)])),_:1,__:[16]},8,["class"])])])])])])])}const ct=pe(_e,[["render",it],["__scopeId","data-v-b60278b8"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/test/attempt.vue"]]);export{ct as default};
