import{d as L,u as S,h as z,i as w,j as C,A as I,k as O,_ as R,r as s,a as x,b as n,c as t,g,t as l,n as y,w as a,o as A}from"./index-GMohsbg5.js";import{f as F,g as U}from"./facebook_logo-yrIjrtKA.js";import{M as B}from"./MailOutlined-JcuqZokJ.js";import{L as M}from"./LockOutlined-B0yQ_eco.js";const q=L({__name:"login",setup(i,{expose:e}){e();const _=void 0,{t:o}=S(),c=z(),b=w(),p={span:24},f={span:24},r=C({email:"",password:""}),d=w(!1),v={email:[{required:!0,message:o("auth.validation.required"),trigger:"change"}],password:[{required:!0,message:o("auth.validation.required"),trigger:"change"}]},u={google_client_id:_,t:o,authStore:c,formRef:b,labelCol:p,wrapperCol:f,formState:r,button_loading:d,rules:v,onFinish:async()=>{try{d.value=!0,(await I.Login(r)).data.success&&(O.success("Login successfully. Redirecting..."),c.LoginSuccessful())}catch(m){console.log(m)}finally{d.value=!1}},onGoogleLogin:async()=>{sessionStorage.setItem("returnURL",c.returnURL);const m=window.location.origin;window.location.assign(`https://accounts.google.com/o/oauth2/v2/auth?client_id=${_}&redirect_uri=${m}/google-authentication-callback&response_type=code&scope=openid%20email%20profile&access_type=offline&prompt=consent
`)},get google_logo(){return U},get facebook_logo(){return F},get LockOutlined(){return M},get MailOutlined(){return B}};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),G={class:"authentication-item"},N={class:"authentication-item-title"},V={class:"authentication-item-external-login"},j={class:"external-login external-login-facebook"},Q={class:"authentication-item-navigator"},D={class:"authentication-item-navigator"};function E(i,e,_,o,c,b){const p=s("a-divider"),f=s("a-input"),r=s("a-form-item"),d=s("a-input-password"),v=s("a-button"),k=s("a-form"),h=s("RouterLink");return A(),x("div",G,[n("div",N,[n("span",null,l(i.$t("auth.greetings.signIn")),1),e[2]||(e[2]=g()),e[3]||(e[3]=n("br",null,null,-1)),n("span",null,l(i.$t("auth.instructions.signIn")),1)]),n("div",V,[n("div",{class:"external-login external-login-google",onClick:o.onGoogleLogin},[n("div",{style:y({backgroundImage:`url(${o.google_logo})`})},null,4),e[4]||(e[4]=n("div",null,"Google",-1))]),n("div",j,[n("div",{style:y({backgroundImage:`url(${o.facebook_logo})`})},null,4),e[5]||(e[5]=n("div",null,"Facebook",-1))])]),t(p,{style:{height:"1px","background-color":"#d9d9d9"}},{default:a(()=>e[6]||(e[6]=[n("span",{style:{"background-color":"#fff",padding:"0px 10px"}},"OR",-1)])),_:1,__:[6]}),t(k,{class:"authentication-item-form",ref:"formRef",model:o.formState,labelCol:o.labelCol,wrapperCol:o.wrapperCol,rules:o.rules},{default:a(()=>[t(r,{label:"",name:"username"},{default:a(()=>[n("label",null,l(i.$t("auth.inputs.email")),1),t(f,{size:"large",value:o.formState.email,"onUpdate:value":e[0]||(e[0]=u=>o.formState.email=u),placeholder:"Your email address..."},{addonBefore:a(()=>[t(o.MailOutlined)]),_:1},8,["value"])]),_:1}),t(r,{label:"",name:"password"},{default:a(()=>[n("label",null,l(i.$t("auth.inputs.password")),1),t(d,{size:"large",value:o.formState.password,"onUpdate:value":e[1]||(e[1]=u=>o.formState.password=u),placeholder:"Mật khẩu"},{addonBefore:a(()=>[t(o.LockOutlined)]),_:1},8,["value"])]),_:1}),t(r,null,{default:a(()=>[t(v,{loading:o.button_loading,onClick:o.onFinish,size:"large",type:"primary",style:{"background-color":"#9823f5",width:"100%"}},{default:a(()=>[g(l(i.$t("auth.buttons.signIn")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),n("div",Q,[g(l(i.$t("auth.navigators.signUp_signIn_ins"))+" ",1),t(h,{to:{name:"register"}},{default:a(()=>[g(l(i.$t("auth.navigators.signUp_link")),1)]),_:1})]),n("div",D,[t(h,{to:{name:"forgot-password"}},{default:a(()=>[g(l(i.$t("auth.navigators.signIn_forgot_link")),1)]),_:1})])])}const H=R(q,[["render",E],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/login.vue"]]);export{H as default};
