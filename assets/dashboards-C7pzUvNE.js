import{d as O,u as B,l as H,i as f,j as x,s as Y,O as d,_ as V,r as p,a as c,o as u,b as t,c as m,w as _,f as h,t as a,e as F,p as G,F as A,E as D,n as U}from"./index-C2jtDg6B.js";import{A as E}from"./ApiQuestionSet-C75xoSuo.js";import{Q as $}from"./questionSetSortCate-BudA85fH.js";import{I as j}from"./Input-0Otcuoto.js";const X=O({__name:"dashboards",emits:["updateSidebar"],setup(i,{expose:e,emit:P}){e();const n=P,{t:r}=B(),g=H(),C=f([{title:"Science Mid-term Quiz",class:"SC101",date:"06/26/2025 10:00 AM"},{title:"Math Final Exam",class:"MA201",date:"06/27/2025 01:30 PM"},{title:"History Pop Quiz",class:"HI102",date:"06/28/2025 09:00 AM"},{title:"English Literature Quiz",class:"EN110",date:"06/29/2025 11:15 AM"},{title:"Biology Practical Test",class:"BI205",date:"06/30/2025 02:45 PM"},{title:"Computer Science Assessment",class:"CS150",date:"07/01/2025 10:00 AM"}]),z=(s,l)=>Math.floor(l/s*100),y=s=>{const l=d(s).startOf("day").diff(d().startOf("day"),"days");return l>=2?d(s).format("DD/MM/YYYY - HH:mm"):l===1?r("dashboards.list_items.schedule.tomorrow")+" - "+d(s).format("HH:mm"):l===0?r("dashboards.list_items.schedule.today")+" - "+d(s).format("HH:mm"):d(s).format("DD/MM/YYYY - HH:mm")},M=s=>{const l=d(s).startOf("day").diff(d().startOf("day"),"days"),R=l===0?r("dashboards.list_items.schedule.today"):l>=1?r("dashboards.list_items.schedule.upcoming"):"";return{date:s,tag:R,border:{borderColor:R===r("dashboards.list_items.schedule.today")?"#58181c":"#153450"},color:R===r("dashboards.list_items.schedule.today")?"error":"processing"}},b=f([]),v=x({pageNumber:1,pageSize:10,name:"",tagIds:[],sortBy:$.RATING}),o=async()=>{const s=await E.GetPublicByLimit(v);s.data.success&&(b.value=s.data.data.items,I.value=s.data.data.items)},S=f(null),I=f([]);function Q(s){var l;!v.name||!((l=S.value)!=null&&l.contains(s.target))?b.value=[]:b.value=[...I.value]}const k=f([]),w=x({pageNumber:1,pageSize:5}),T=async()=>{try{let s=await E.GetRecentByLimit(w);if(s.data.success){let l=s.data.data;k.value=l.items}}catch(s){console.log("ERROR: GETALLEXAMBYLIMIT class exam: "+s)}},L=s=>{g.push({name:"User_QuestionSet_Detail",params:{id:s}})},N=()=>{g.push({name:"User_QuestionSet_Create"})};Y(async()=>{document.addEventListener("click",Q),n("updateSidebar","dashboard"),await T()});const q={emit:n,t:r,router:g,schedule_data:C,getPercentageComplete:z,getCaculatedDateString:y,getScheduleItemMeta:M,search_data:b,searchPageParams:v,getSearchData:o,searchResultRef:S,lastSearchResult:I,handleMouseClickOutside:Q,quiz_data:k,pageParams:w,getData:T,onRedirectToDetail:L,onRedirectToCreate:N,Input:j};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}}),J={class:"page-container"},K={class:"title-container"},W={class:"content"},Z={class:"search-bar",ref:"searchResultRef"},tt={key:0,class:G(["search-result-container"])},et={class:"search-result"},st=["onClick"],at={class:"result-item-title"},ot={class:"result-item-description"},nt={class:"result-item-noq"},it={class:"content-item"},lt={class:"content-item-title"},rt={class:"quiz-container"},dt=["onClick"],ct={class:"quiz-item-title"},ut={class:"quiz-item-info"},mt={class:"quiz-item-progress"},_t={class:"add-button-context"},ht={class:"content-item"},bt={class:"content-item-title"},pt={class:"schedule-container"},vt={class:"schedule-item"},ft={class:"schedule-item-info"},gt={class:"schedule-item-date"},yt={class:"schedule-item-actions"};function St(i,e,P,n,r,g){const C=p("a-col"),z=p("a-row"),y=p("RouterLink"),M=p("a-progress"),b=p("a-tag"),v=p("a-button");return u(),c("div",J,[t("div",K,[m(z,{class:"w-100"},{default:_(()=>[m(C,{class:"main-title",span:20},{default:_(()=>[t("span",null,a(i.$t("dashboards.title")),1),e[1]||(e[1]=h()),e[2]||(e[2]=t("br",null,null,-1)),t("span",null,a(i.$t("dashboards.sub_title",{username:"NguyenTanDuc"})),1)]),_:1,__:[1,2]})]),_:1})]),t("div",W,[t("div",Z,[m(n.Input,{onInput:n.getSearchData,modelValue:n.searchPageParams.name,"onUpdate:modelValue":e[0]||(e[0]=o=>n.searchPageParams.name=o),placeholder:n.t("class_index.other.search_class_placeholder")},{icon:_(()=>e[3]||(e[3]=[t("i",{class:"bx bx-search"},null,-1)])),_:1},8,["modelValue","placeholder"]),n.search_data.length>0?(u(),c("div",tt,[t("div",et,[(u(!0),c(A,null,D(n.search_data,o=>(u(),c("div",{class:"search-result-item",onClick:S=>n.onRedirectToDetail(o.id)},[t("div",at,a(o.name)+" ("+a(o.ratingAverage)+"⭐️) ",1),t("div",ot,[t("span",nt,a(o.totalQuestionCount)+" "+a(i.$t("dashboards.list_items.quiz.questions")),1),h(" "+a(i.$t("detail_QS.other.created_by",{username:o.createBy})),1)])],8,st))),256))])])):F("v-if",!0)],512),t("div",it,[t("div",lt,[t("div",null,[t("span",null,a(i.$t("dashboards.sections.quiz.title")),1),t("span",null,a(i.$t("dashboards.sections.quiz.sub_title")),1)]),m(y,{to:{name:"User_Library"},class:"content-item-navigator"},{default:_(()=>[t("span",null,a(i.$t("dashboards.buttons.viewAll")),1),e[4]||(e[4]=t("i",{class:"bx bx-chevron-right"},null,-1))]),_:1,__:[4]})]),t("div",rt,[(u(!0),c(A,null,D(n.quiz_data,o=>(u(),c("div",{class:"quiz-item",onClick:S=>n.onRedirectToDetail(o.id)},[t("div",ct,[h(a(o.name)+" ",1),e[5]||(e[5]=t("i",{class:"bx bx-chevron-right"},null,-1))]),t("div",ut,[e[6]||(e[6]=t("i",{class:"bx bx-message-square-edit bx-rotate-270"},null,-1)),h(" "+a(o.totalQuestionCount)+" "+a(i.$t("dashboards.list_items.quiz.questions")),1)]),t("div",mt,[t("span",null,a(i.$t("dashboards.list_items.quiz.learningProgress")),1),m(M,{"stroke-color":"var(--main-color)",percent:n.getPercentageComplete(o.totalQuestionCount,o.completedQuestionCount),status:"active"},null,8,["percent"])])],8,dt))),256)),t("div",{class:"quiz-item add-button",onClick:n.onRedirectToCreate},[e[7]||(e[7]=t("i",{class:"bx bx-plus add-button-icon"},null,-1)),t("div",_t,[t("span",null,a(i.$t("dashboards.buttons.createNewQuiz")),1),t("span",null,a(i.$t("dashboards.buttons.add_button_ins")),1)])])])]),t("div",ht,[t("div",bt,[t("div",null,[t("span",null,a(i.$t("dashboards.sections.schedule.title")),1),t("span",null,a(i.$t("dashboards.sections.schedule.sub_title")),1)]),m(y,{to:{},class:"content-item-navigator"},{default:_(()=>[t("span",null,a(i.$t("dashboards.buttons.viewAll")),1),e[8]||(e[8]=t("i",{class:"bx bx-chevron-right"},null,-1))]),_:1,__:[8]})]),t("div",pt,[(u(!0),c(A,null,D(n.schedule_data,o=>(u(),c("div",vt,[e[10]||(e[10]=t("i",{class:"bx bx-calendar-alt schedule-item-icon"},null,-1)),t("div",null,[t("div",ft,[t("span",null,a(o.title),1),m(b,{style:U(["background: transparent",n.getScheduleItemMeta(o.date).border]),color:n.getScheduleItemMeta(o.date).color},{default:_(()=>[h(a(n.getScheduleItemMeta(o.date).tag),1)]),_:2},1032,["style","color"])]),t("div",gt,[e[9]||(e[9]=t("i",{class:"bx bx-time-five"},null,-1)),h(" "+a(n.getCaculatedDateString(o.date)),1)])]),t("div",yt,[m(v,{type:"primary"},{default:_(()=>[h(a(i.$t("dashboards.buttons.view")),1)]),_:1})])]))),256))])])])])}const Rt=V(X,[["render",St],["__scopeId","data-v-4aacc9ef"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/user/dashboards.vue"]]);export{Rt as default};
