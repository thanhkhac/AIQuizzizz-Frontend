import{d as G,i as S,s as K,D as J,E as W,G as $,_ as X,c as T,o as I,u as re,z as oe,j as se,k as Q,M as le,r as A,b as a,e as Y,a as o,t as _,w as i,f as R,F as V,B,C as ie,p as ce}from"./index-Bl_qeBx0.js";import{A as E}from"./ApiAdmin-surujgSr.js";import{I as me}from"./Input-C6nJoIqP.js";import{H as ee}from"./highcharts-CXjgSPwU.js";const pe=G({__name:"RevenueLineChart",props:{years:{type:Array,required:!0},year:{type:Number,required:!1},locale:{type:String,required:!1},title:{type:String,required:!1},background:{type:String,required:!1}},emits:["year-change"],setup(D,{expose:n,emit:C}){var M;n();const e=D,f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v=S(null);let l=null,u=null,p=null;const b=S(e.year??((M=e.years)!=null&&M.length?Math.max(...e.years):new Date().getFullYear())),w=S([]),F=C;function g(r){const d=new Map;return r.forEach(m=>d.set(m.month,m.revenue)),f.map((m,h)=>{const t=h+1,c=d.get(t);return{name:m,y:c??0}})}function L(r,d){const m=new Date,t=r===m.getFullYear()?m.getMonth()+1:12,c=new Map;d.forEach(z=>c.set(z.month,z.revenue));const q=f.slice(0,t);return{points:q.map((z,H)=>{const j=H+1,N=c.get(j);return{name:z,y:N??0}}),categories:q}}const P=async r=>{try{let d=await E.MonthlyRevenue(r);console.log("111: ",d.data.data);const m=d.data.data??[],{points:h,categories:t}=L(r,m);w.value=g(m),l&&(l.series[0].setData(h,!1),l.xAxis[0].setCategories(t,!1),l.xAxis[0].setExtremes(0,t.length-1,!1),l.setTitle({text:`${e.title??"Monthly Revenue"} in ${r}`},void 0,!1),l.redraw())}catch(d){console.log(d)}};function U(r){const d=r.container.parentElement;if(!d)return;getComputedStyle(d).position==="static"&&(d.style.position="relative"),p&&p.parentElement&&p.parentElement.removeChild(p);const m=document.createElement("select");p=m,Object.assign(m.style,{position:"absolute",top:"10px",right:"10px",zIndex:"2000",background:"#222",color:"#fff",border:"1px solid #555",borderRadius:"10px",padding:"2px 6px"});const h=[...e.years??[]].sort((t,c)=>t-c);m.innerHTML="",h.forEach(t=>{const c=document.createElement("option");c.value=String(t),c.text=String(t),t===b.value&&(c.selected=!0),m.appendChild(c)}),m.addEventListener("change",async t=>{const c=Number(t.target.value);c!==b.value&&(b.value=c,F("year-change",c),await P(c))}),d.appendChild(m)}function y(){v.value&&(l==null||l.destroy(),l=ee.chart(v.value,{chart:{type:"line",backgroundColor:e.background??"#151518",events:{load:function(){U(this)}}},title:{text:`${e.title??"Monthly Revenue"} in ${b}`,style:{color:"#fff"}},xAxis:{categories:[...f],labels:{style:{color:"#fff"}},lineColor:"#fff",tickColor:"#fff",tickInterval:1},yAxis:{title:{text:"Revenue (VND Thousands)",style:{color:"#fff"}},labels:{formatter(){const r=Number(this.value),d=e.locale||"en-US";return new Intl.NumberFormat(d).format(r)+"VND"},style:{color:"#fff"}},gridLineColor:"#444"},legend:{enabled:!1},series:[{type:"line",name:"Revenue",color:"#00FF00",data:w.value}],plotOptions:{line:{dataLabels:{enabled:!0,style:{color:"#fff"},formatter(){const r=this.y??0,d=e.locale||"en-US";return new Intl.NumberFormat(d).format(r)+""}}}}}),u==null||u.disconnect(),u=new ResizeObserver(()=>l==null?void 0:l.reflow()),u.observe(v.value))}K(async()=>{await J(),y(),await P(b.value)}),W(()=>e.year,async r=>{r&&r!==b.value&&(b.value=r,p&&(p.value=String(r)),await P(r))}),$(()=>{u==null||u.disconnect(),l==null||l.destroy(),l=null});const k={props:e,MONTH_NAMES:f,containerRef:v,get chart(){return l},set chart(r){l=r},get ro(){return u},set ro(r){u=r},get yearSelected(){return p},set yearSelected(r){p=r},currentYear:b,seriesData:w,emit:F,mapPoints:g,buildSeriesForYear:L,getRevenueData:P,attachYearSelect:U,renderChart:y};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),fe={ref:"containerRef",style:{width:"100%",height:"400px",border:"1px solid var(--form-item-border-color)","border-radius":"10px"}};function _e(D,n,C,e,f,v){return I(),T("div",fe,null,512)}const ve=X(pe,[["render",_e],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/admin/charts/RevenueLineChart.vue"]]),be=G({__name:"SubscriberPieChart",props:{data:{type:Array,required:!0},title:{type:String,required:!1},background:{type:String,required:!1}},setup(D,{expose:n}){n();const C=D,e=S(null);let f=null,v=null;function l(){e.value&&(f==null||f.destroy(),f=ee.chart(e.value,{chart:{type:"pie",backgroundColor:C.background??"#151518"},title:{text:C.title??"Subscribers",style:{color:"#fff"}},legend:{enabled:!1},tooltip:{pointFormat:"<b>{point.percentage:.1f}%</b> ({point.y})"},series:[{type:"pie",data:C.data.map(p=>({...p})),dataLabels:{enabled:!0,formatter(){var p;return`${this.point.name}: ${(p=this.percentage)==null?void 0:p.toFixed(1)}%`},style:{color:"#fff"}}}]}),v==null||v.disconnect(),v=new ResizeObserver(()=>f==null?void 0:f.reflow()),v.observe(e.value))}K(async()=>{await J(),l()}),W(()=>C.data,()=>J().then(l),{deep:!0}),$(()=>{v==null||v.disconnect(),f==null||f.destroy(),f=null});const u={props:C,containerRef:e,get chart(){return f},set chart(p){f=p},get ro(){return v},set ro(p){v=p},renderChart:l};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),ge={ref:"containerRef",style:{width:"100%",height:"400px",border:"1px solid var(--form-item-border-color)","border-radius":"10px"}};function ye(D,n,C,e,f,v){return I(),T("div",ge,null,512)}const he=X(be,[["render",ye],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/admin/charts/SubscriberPieChart.vue"]]),we=G({__name:"ClassLineChart",props:{years:{type:Array,required:!0},year:{type:Number,required:!1},locale:{type:String,required:!1},title:{type:String,required:!1},background:{type:String,required:!1}},emits:["year-change"],setup(D,{expose:n,emit:C}){var M;n();const e=D,f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v=S(null);let l=null,u=null,p=null;const b=S(e.year??((M=e.years)!=null&&M.length?Math.max(...e.years):new Date().getFullYear())),w=S([]),F=C;function g(r){const d=new Map;return r.forEach(m=>d.set(m.month,m.revenue)),f.map((m,h)=>{const t=h+1,c=d.get(t);return{name:m,y:c??0}})}function L(r,d){const m=new Date,t=r===m.getFullYear()?m.getMonth()+1:12,c=new Map;d.forEach(z=>c.set(z.month,z.revenue));const q=f.slice(0,t);return{points:q.map((z,H)=>{const j=H+1,N=c.get(j);return{name:z,y:N??0}}),categories:q}}const P=async r=>{try{let d=await E.MonthlyNewClass(r);console.log("222: ",d.data.data);const m=d.data.data??[],{points:h,categories:t}=L(r,m);w.value=g(m),l&&(l.series[0].setData(h,!1),l.xAxis[0].setCategories(t,!1),l.xAxis[0].setExtremes(0,t.length-1,!1),l.setTitle({text:`${e.title??"Monthly New Class"} in ${r}`},void 0,!1),l.redraw())}catch(d){console.log(d)}};function U(r){const d=r.container.parentElement;if(!d)return;getComputedStyle(d).position==="static"&&(d.style.position="relative"),p&&p.parentElement&&p.parentElement.removeChild(p);const m=document.createElement("select");p=m,Object.assign(m.style,{position:"absolute",top:"10px",right:"10px",zIndex:"2000",background:"#222",color:"#fff",border:"1px solid #555",borderRadius:"10px",padding:"2px 6px"});const h=[...e.years??[]].sort((t,c)=>t-c);m.innerHTML="",h.forEach(t=>{const c=document.createElement("option");c.value=String(t),c.text=String(t),t===b.value&&(c.selected=!0),m.appendChild(c)}),m.addEventListener("change",async t=>{const c=Number(t.target.value);c!==b.value&&(b.value=c,F("year-change",c),await P(c))}),d.appendChild(m)}function y(){v.value&&(l==null||l.destroy(),l=ee.chart(v.value,{chart:{type:"column",backgroundColor:e.background??"#151518",events:{load:function(){U(this)}}},title:{text:`${e.title??"Monthly New Class"} in ${b}`,style:{color:"#fff"}},xAxis:{categories:[...f],labels:{style:{color:"#fff"}},lineColor:"#fff",tickColor:"#fff",tickInterval:1},yAxis:{title:{text:"Number of class",style:{color:"#fff"}},labels:{formatter(){const r=Number(this.value),d=e.locale||"en-US";return new Intl.NumberFormat(d).format(r)},style:{color:"#fff"}},gridLineColor:"#444"},legend:{enabled:!1},series:[{type:"column",name:"Class",color:"#00FF00",data:w.value}],plotOptions:{column:{dataLabels:{enabled:!0,style:{color:"#fff"},formatter(){const r=this.y??0,d=e.locale||"en-US";return new Intl.NumberFormat(d).format(r)}}}}}),u==null||u.disconnect(),u=new ResizeObserver(()=>l==null?void 0:l.reflow()),u.observe(v.value))}K(async()=>{await J(),y(),await P(b.value)}),W(()=>e.year,async r=>{r&&r!==b.value&&(b.value=r,p&&(p.value=String(r)),await P(r))}),$(()=>{u==null||u.disconnect(),l==null||l.destroy(),l=null});const k={props:e,MONTH_NAMES:f,containerRef:v,get chart(){return l},set chart(r){l=r},get ro(){return u},set ro(r){u=r},get yearSelected(){return p},set yearSelected(r){p=r},currentYear:b,seriesData:w,emit:F,mapPoints:g,buildSeriesForYear:L,getNewClassData:P,attachYearSelect:U,renderChart:y};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}}),Ce={ref:"containerRef",style:{width:"100%",height:"400px",border:"1px solid var(--form-item-border-color)","border-radius":"10px"}};function Pe(D,n,C,e,f,v){return I(),T("div",Ce,null,512)}const xe=X(we,[["render",Pe],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/admin/charts/ClassLineChart.vue"]]),Se=G({__name:"manage_subscription",emits:["updateSidebar"],setup(D,{expose:n,emit:C}){n();const{locale:e}=re();function f(s){return s==="en"?"en-US":s==="vi"?"vi-VN":"en-US"}const v=f(e.value),l=C,{t:u}=re(),p=S(!1),b=S(!1);K(()=>{l("updateSidebar","subscription"),j(),N()});const w=[],F=S(),g=S([]),L=oe(()=>{var s,x,O;return[{name:"New Subscribers",y:((s=F.value)==null?void 0:s.usersHavePlan)??0},{name:"Unsubscribers",y:(((x=F.value)==null?void 0:x.users)??0)-(((O=F.value)==null?void 0:O.usersHavePlan)??0)}]}),P=S(),U=S(),y=se({name:"",price:0,duration:0,unit:"",canLearn:!1,canOpenTest:!1,canCopyOrImportQuestionSet:!1,isActive:!1}),k=se({planId:"",name:"",price:0,duration:0,unit:"",canLearn:!1,canOpenTest:!1,canCopyOrImportQuestionSet:!1,isActive:!0}),M=S(!1),r=S(!1),d=async()=>{M.value=!0;try{await P.value.validate();const s={...y};(await E.CreatePlan(s)).data.success&&(Q.success("Create successfully."),p.value=!1),N()}catch(s){Q.error("Create fail."),console.log("error",s.response.data)}finally{M.value=!1}},m=async()=>{r.value=!0;try{await U.value.validate();const s={...k};(await E.UpdatePlan(s)).data.success&&(b.value=!1,Q.success("Update successfully.")),N()}catch(s){Q.error("Update fail."),console.log("error",s.response.data)}finally{r.value=!1}},h={name:[{required:!0,message:"This field is required.",trigger:"change"}],price:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",min:1,message:"Price must be greater than 0",trigger:"change"}],duration:[{required:!0,message:"This field is required.",trigger:"change"},{type:"number",min:1,message:"Duration must be greater than 0",trigger:"change"}]},t=()=>{y.name="",y.price=0,y.duration=0,y.unit=q.value[0].value,y.canLearn=!1,y.canOpenTest=!1,y.canCopyOrImportQuestionSet=!1};W(p,s=>{s&&t()});const c=["Day","Month","Year"],q=oe(()=>c.map(s=>({label:u(`admin.manage_subscription.plan_unit.${s}`),value:s})));function Z(s){return[s.canLearn&&u("admin.manage_subscription.plan_feature.canLearn"),s.canOpenTest&&u("admin.manage_subscription.plan_feature.canOpenTest"),s.canCopyOrImportQuestionSet&&u("admin.manage_subscription.plan_feature.canCopyOrImportQuestionSet")].filter(Boolean)}const z=async s=>{try{let x=await E.GetPlan(s);const O=x.data.data;console.log(O),x.data.success&&Object.assign(k,{planId:O.id,name:O.name,price:O.price,duration:O.duration,unit:O.unit,canLearn:O.canLearn,canOpenTest:O.canOpenTest,canCopyOrImportQuestionSet:O.canCopyOrImportQuestionSet,isActive:O.isActive})}catch(x){console.log(x)}},H=s=>Number(s).toLocaleString("en-US"),j=async()=>{try{let s=await E.PlatformOverview();F.value=s.data.data}catch(s){console.log(s)}},N=async()=>{try{let s=await E.GetAllPlan();g.value=s.data.data}catch(s){console.log(s)}},te=async s=>{try{Object.assign(k,{planId:s.id,name:s.name,price:s.price,duration:s.duration,unit:s.unit,canLearn:s.canLearn,canOpenTest:s.canOpenTest,canCopyOrImportQuestionSet:s.canCopyOrImportQuestionSet,isActive:s.isActive}),(await E.UpdatePlan({...k})).data.success&&(b.value=!1,Q.success("Update plan activity status successfully")),N()}catch(x){Q.error("Active fail."),console.log("error",x.response.data)}finally{r.value=!1}};async function ue(s){le.confirm({title:"Confirm Active Subscription",content:"Are you sure you want to update this subscription activation status?",centered:!0,onOk:async()=>{await te(s)},onCancel:()=>{N()}})}function de(s){b.value=!0,z(s.id)}const ae=async s=>{try{let x=await E.DeletePlan(s);Q.success("Delete successfully."),N()}catch(x){Q.error("Delete fail."),console.log(x)}},ne={locale:e,toFullLocaleTag:f,safeLocale:v,emit:l,t:u,modal_create_subscription_open:p,modal_update_subscription_open:b,apiData:w,platform_ov:F,plans:g,subscribersData:L,createPlanFormRef:P,updatePlanFormRef:U,createPlanForm:y,updatePlanForm:k,isCreateLoading:M,isUpdateLoading:r,onCreatePlan:d,onUpdatePlan:m,rules:h,resetCreatePlanForm:t,optionKeysUnitPlan:c,unit_plan_credit_options:q,mapPlanToFeatures:Z,getPlanData:z,formatCurrency:H,getPlatformOverviewData:j,getAllPlanData:N,updateActivePlan:te,onTogglePlan:ue,onEditPlan:de,deletePlan:ae,onDeletePlan:s=>{le.confirm({title:"Confirm Delete Subscription",content:"Are you sure you want to delete this subscription?",centered:!0,onOk:()=>{ae(s.id)},onCancel:()=>{}})},Input:me,RevenueLineChart:ve,SubscriberPieChart:he,ClassLineChart:xe};return Object.defineProperty(ne,"__isScriptSetup",{enumerable:!1,value:!0}),ne}}),Fe={class:"page-container"},ke={class:"title-container"},Oe={class:"main-title"},Ae={class:"title-button-container"},Le={class:"content"},ze={class:"stat-content"},Ie={class:"stat-card"},De={class:"stat-title"},Ue={class:"stat-card"},Me={class:"stat-title"},Ne={class:"stat-card"},Te={class:"stat-title"},Re={class:"stat-card"},Ee={class:"stat-title"},qe={class:"chart-content"},Qe={class:"chart-content"},Ye={class:"plan-comparison"},je={class:"content-item"},He={class:"title-container"},Ve={class:"plan-comparison-row"},Be=["onClick"],Je=["onClick"],Ge={class:"mb-2"},Ke={class:"display-6 fw-bold mb-3"},We={class:"fs-6 fw-normal"},Xe={class:"mb-0"},Ze={class:"modal-container"},$e={class:"modal-title-container"},et={class:"content"},tt={class:"modal-content-subs-item"},at={class:"feature-switch-row"},nt={class:"feature-switch-item"},rt={class:"feature-switch-item"},ot={class:"feature-switch-item"},st={class:"modal-container"},lt={class:"modal-title-container"},it={class:"content"},ct={class:"modal-content-subs-item"},ut={class:"feature-switch-row"},dt={class:"feature-switch-item"},mt={class:"feature-switch-item"},pt={class:"feature-switch-item"};function ft(D,n,C,e,f,v){var r,d,m,h;const l=A("a-button"),u=A("a-col"),p=A("a-row"),b=A("a-tooltip"),w=A("a-switch"),F=A("RouterLink"),g=A("a-form-item"),L=A("a-input-number"),P=A("a-select-option"),U=A("a-select"),y=A("a-form"),k=A("a-modal"),M=A("a-input");return I(),T(V,null,[a("div",Fe,[Y(" header title "),a("div",ke,[a("div",Oe,[a("span",null,_(e.t("admin.manage_subscription.title")),1)]),a("div",Ae,[o(l,{type:"primary",class:"main-color-btn",style:{gap:"5px"},size:"large",onClick:n[0]||(n[0]=t=>e.modal_create_subscription_open=!0)},{default:i(()=>[n[20]||(n[20]=a("i",{class:"bx bx-plus"},null,-1)),R(" "+_(D.$t("admin.manage_subscription.create_new_sub")),1)]),_:1,__:[20]})])]),a("div",Le,[Y(" statistic "),a("div",ze,[a("div",Ie,[a("div",De,[a("span",null,_(e.t("admin.manage_subscription.stat_card.total_subs")),1),a("span",null,_((r=e.platform_ov)==null?void 0:r.users),1)])]),a("div",Ue,[a("div",Me,[a("span",null,_(e.t("admin.manage_subscription.stat_card.monthly_rev")),1),a("span",null,_(e.formatCurrency((d=e.platform_ov)==null?void 0:d.revenue))+" VND",1)])]),a("div",Ne,[a("div",Te,[a("span",null,_(e.t("admin.manage_subscription.stat_card.new_subs")),1),a("span",null,_((m=e.platform_ov)==null?void 0:m.usersHavePlan),1)])]),a("div",Re,[a("div",Ee,[a("span",null,_(e.t("admin.manage_subscription.stat_card.class")),1),a("span",null,_((h=e.platform_ov)==null?void 0:h.classes),1)])])]),Y(" chart "),a("div",qe,[o(e.RevenueLineChart,{years:[2024,2025],apiData:e.apiData,locale:e.safeLocale,title:"Monthly Revenue",onYearChange:n[1]||(n[1]=t=>console.log("Parent year:",t))},null,8,["locale"])]),a("div",Qe,[o(e.ClassLineChart,{years:[2024,2025],apiData:e.apiData,locale:e.safeLocale,title:"Monthly New Class"},null,8,["locale"]),o(e.SubscriberPieChart,{data:e.subscribersData,title:"Subscribers"},null,8,["data"])]),Y(" plan comparison "),a("div",Ye,[a("div",je,[Y(" title plan comparison "),a("div",He,[o(p,{class:"w-100 d-block"},{default:i(()=>[o(u,{class:"main-title",span:20},{default:i(()=>[a("span",null,_(e.t("admin.manage_subscription.plan_comparison")),1)]),_:1}),a("span",null,_(e.t("admin.manage_subscription.plan_comparison_content")),1)]),_:1})]),Y(" list plan "),a("div",Ve,[(I(!0),T(V,null,B(e.plans,t=>(I(),T("div",{key:t.id,class:"plan-compa-content-item"},[a("div",{class:ce([{invisible:t.price===0},"plan-comparison-card-action"])},[o(b,null,{title:i(()=>[...n[21]||(n[21]=[R(" Edit Plan ")])]),default:i(()=>[a("i",{class:"bx bx-edit",style:{"font-size":"20px"},onClick:c=>e.onEditPlan(t)},null,8,Be)]),_:2},1024),o(b,null,{title:i(()=>[...n[22]||(n[22]=[R(" Delete Plan ")])]),default:i(()=>[a("i",{class:"bx bx-trash",style:{color:"#ff002e","font-size":"20px"},onClick:c=>e.onDeletePlan(t)},null,8,Je)]),_:2},1024)],2),a("h5",Ge,_(t.name),1),a("div",Ke,[R(_(e.formatCurrency(t.price)),1),n[23]||(n[23]=a("span",{class:"vnd-icon"},"VND",-1)),a("span",We," / "+_(t.duration)+" "+_(t.unit),1)]),a("ul",Xe,[(I(!0),T(V,null,B(e.mapPlanToFeatures(t),c=>(I(),T("li",{key:c},_(c),1))),128))]),a("div",{class:ce([{invisible:t.price===0},"d-flex justify-content-end mt-auto pt-1"])},[o(b,null,{title:i(()=>[...n[24]||(n[24]=[R(" Active/Inactive ")])]),default:i(()=>[o(w,{checked:t.isActive,"onUpdate:checked":c=>t.isActive=c,"checked-children":"","un-checked-children":"",onChange:c=>e.onTogglePlan(t)},null,8,["checked","onUpdate:checked","onChange"])]),_:2},1024)],2)]))),128))])])])])]),Y(" popup create subscription "),o(k,{centered:"",width:"50%","wrap-class-name":"large-modal",closable:!1,open:e.modal_create_subscription_open,onCancel:n[10]||(n[10]=t=>e.modal_create_subscription_open=!1)},{footer:i(()=>[o(l,{loading:e.isCreateLoading,class:"main-color-btn",key:"submit",type:"primary",onClick:e.onCreatePlan},{default:i(()=>[R(_(e.t("admin.manage_subscription.btn.create")),1)]),_:1},8,["loading"])]),default:i(()=>[a("div",Ze,[a("div",$e,[o(p,{class:"w-100 d-flex align-items-center"},{default:i(()=>[o(u,{span:4},{default:i(()=>[o(F,{onClick:n[2]||(n[2]=t=>e.modal_create_subscription_open=!1),to:{name:""}},{default:i(()=>n[25]||(n[25]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[25]})]),_:1}),o(u,{class:"main-title",span:20},{default:i(()=>[a("span",null,_(e.t("admin.manage_subscription.modal.title_create")),1)]),_:1})]),_:1})]),a("div",et,[a("div",tt,[o(y,{layout:"vertical",ref:"createPlanFormRef",model:e.createPlanForm,rules:e.rules},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.name"),name:"name"},{default:i(()=>[o(e.Input,{value:e.createPlanForm.name,"onUpdate:value":n[3]||(n[3]=t=>e.createPlanForm.name=t),placeholder:e.t("admin.manage_subscription.create_plan.name"),style:{width:"100%"},"is-required":!0},null,8,["value","placeholder"])]),_:1},8,["label"]),o(p,{class:"row-3-input"},{default:i(()=>[o(u,{span:8},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.price"),name:"price",class:"form-item-third"},{default:i(()=>[o(L,{value:e.createPlanForm.price,"onUpdate:value":n[4]||(n[4]=t=>e.createPlanForm.price=t),min:0,placeholder:e.t("admin.manage_subscription.create_plan.price"),style:{width:"100%"},"is-required":!0,class:"my-price-input"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),o(u,{span:8},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.duration"),class:"form-item-third",name:"duration"},{default:i(()=>[o(L,{value:e.createPlanForm.duration,"onUpdate:value":n[5]||(n[5]=t=>e.createPlanForm.duration=t),min:0,placeholder:e.t("admin.manage_subscription.create_plan.duration"),style:{width:"100%"},"is-required":!0,class:"my-price-input"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),o(u,{span:6},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.unit"),class:"form-item-third"},{default:i(()=>[o(U,{value:e.createPlanForm.unit,"onUpdate:value":n[6]||(n[6]=t=>e.createPlanForm.unit=t)},{default:i(()=>[(I(!0),T(V,null,B(e.unit_plan_credit_options,t=>(I(),ie(P,{key:t.value,value:t.value},{default:i(()=>[R(_(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"])]),_:1})]),_:1}),o(g,{label:e.t("admin.manage_subscription.create_plan.feature"),style:{"margin-top":"28px"}},{default:i(()=>[a("div",at,[a("div",nt,[a("span",null,_(e.t("admin.manage_subscription.plan_feature.canLearn")),1),o(w,{checked:e.createPlanForm.canLearn,"onUpdate:checked":n[7]||(n[7]=t=>e.createPlanForm.canLearn=t)},null,8,["checked"])]),a("div",rt,[a("span",null,_(e.t("admin.manage_subscription.plan_feature.canOpenTest")),1),o(w,{checked:e.createPlanForm.canOpenTest,"onUpdate:checked":n[8]||(n[8]=t=>e.createPlanForm.canOpenTest=t)},null,8,["checked"])]),a("div",ot,[a("span",null,_(e.t("admin.manage_subscription.plan_feature.canCopyOrImportQuestionSet")),1),o(w,{checked:e.createPlanForm.canCopyOrImportQuestionSet,"onUpdate:checked":n[9]||(n[9]=t=>e.createPlanForm.canCopyOrImportQuestionSet=t)},null,8,["checked"])])])]),_:1},8,["label"])]),_:1},8,["model"])])])])]),_:1},8,["open"]),Y(" popup update subscription "),o(k,{centered:"",width:"50%","wrap-class-name":"large-modal",closable:!1,open:e.modal_update_subscription_open,onCancel:n[19]||(n[19]=t=>e.modal_update_subscription_open=!1)},{footer:i(()=>[o(l,{loading:e.isUpdateLoading,class:"main-color-btn",key:"submit",type:"primary",onClick:e.onUpdatePlan},{default:i(()=>[R(_(e.t("admin.manage_subscription.btn.save")),1)]),_:1},8,["loading"])]),default:i(()=>[a("div",st,[a("div",lt,[o(p,{class:"w-100 d-flex align-items-center"},{default:i(()=>[o(u,{span:4},{default:i(()=>[o(F,{onClick:n[11]||(n[11]=t=>e.modal_create_subscription_open=!1),to:{name:""}},{default:i(()=>n[26]||(n[26]=[a("i",{class:"bx bx-chevron-left navigator-back-button"},null,-1)])),_:1,__:[26]})]),_:1}),o(u,{class:"main-title",span:20},{default:i(()=>[a("span",null,_(e.t("admin.manage_subscription.modal.title_update")),1)]),_:1})]),_:1})]),a("div",it,[a("div",ct,[o(y,{layout:"vertical",ref:"updatePlanFormRef",model:e.updatePlanForm,rules:e.rules},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.name"),name:"name"},{default:i(()=>[o(M,{value:e.updatePlanForm.name,"onUpdate:value":n[12]||(n[12]=t=>e.updatePlanForm.name=t),class:"update_input_name"},null,8,["value"])]),_:1},8,["label"]),o(p,{class:"row-3-input"},{default:i(()=>[o(u,{span:7},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.price"),name:"price",class:"form-item-third"},{default:i(()=>[o(L,{value:e.updatePlanForm.price,"onUpdate:value":n[13]||(n[13]=t=>e.updatePlanForm.price=t),min:0,placeholder:e.t("admin.manage_subscription.create_plan.price"),style:{width:"100%"},"is-required":!0,class:"my-price-input"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),o(u,{span:7},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.duration"),class:"form-item-third",name:"duration"},{default:i(()=>[o(L,{value:e.updatePlanForm.duration,"onUpdate:value":n[14]||(n[14]=t=>e.updatePlanForm.duration=t),min:0,placeholder:e.t("admin.manage_subscription.create_plan.duration"),style:{width:"100%"},"is-required":!0,class:"my-price-input"},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1}),o(u,{span:7},{default:i(()=>[o(g,{label:e.t("admin.manage_subscription.create_plan.unit"),class:"form-item-third"},{default:i(()=>[o(U,{value:e.updatePlanForm.unit,"onUpdate:value":n[15]||(n[15]=t=>e.updatePlanForm.unit=t)},{default:i(()=>[(I(!0),T(V,null,B(e.unit_plan_credit_options,t=>(I(),ie(P,{key:t.value,value:t.value},{default:i(()=>[R(_(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["label"])]),_:1})]),_:1}),o(g,{label:e.t("admin.manage_subscription.create_plan.feature"),style:{"margin-top":"28px"}},{default:i(()=>[a("div",ut,[a("div",dt,[a("span",null,_(e.t("admin.manage_subscription.plan_feature.canLearn")),1),o(w,{checked:e.updatePlanForm.canLearn,"onUpdate:checked":n[16]||(n[16]=t=>e.updatePlanForm.canLearn=t)},null,8,["checked"])]),a("div",mt,[a("span",null,_(e.t("admin.manage_subscription.plan_feature.canOpenTest")),1),o(w,{checked:e.updatePlanForm.canOpenTest,"onUpdate:checked":n[17]||(n[17]=t=>e.updatePlanForm.canOpenTest=t)},null,8,["checked"])]),a("div",pt,[a("span",null,_(e.t("admin.manage_subscription.plan_feature.canCopyOrImportQuestionSet")),1),o(w,{checked:e.updatePlanForm.canCopyOrImportQuestionSet,"onUpdate:checked":n[18]||(n[18]=t=>e.updatePlanForm.canCopyOrImportQuestionSet=t)},null,8,["checked"])])])]),_:1},8,["label"])]),_:1},8,["model"])])])])]),_:1},8,["open"])],64)}const ht=X(Se,[["render",ft],["__scopeId","data-v-77f2d5e4"],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/admin/account/manage_subscription.vue"]]);export{ht as default};
