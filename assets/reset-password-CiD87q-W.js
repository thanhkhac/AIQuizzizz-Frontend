import{d as P,l as S,u as k,i as C,j as R,m as O,A as q,_ as y,r as u,a as A,b as i,c as a,f,t as l,w as r,o as B}from"./index-BQVBa0zY.js";import{M as L}from"./MailOutlined-Qm7u2vs2.js";import{L as F}from"./LockOutlined-Bhs3nO9p.js";const I=P({__name:"reset-password",setup(t,{expose:o}){o();const g=S(),{t:e}=k(),_=C(),v={span:24},c={span:24},s=R({email:"",resetCode:"",password:"",confirmationPassword:""}),d=C(!1),h={email:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:e("auth.validation.email"),trigger:"change"}],resetCode:[{required:!0,message:e("auth.validation.required"),trigger:"change"}],password:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,message:e("auth.validation.password"),trigger:"change"}],confirmationPassword:[{required:!0,message:e("auth.validation.required"),trigger:"change"},{validator:(p,w)=>w!==s.password?Promise.reject(e("auth.validation.confirm_password")):Promise.resolve(),trigger:"change"}]},m=(p,w,z)=>{O[p]({message:w,description:z})},n={router:g,t:e,formRef:_,labelCol:v,wrapperCol:c,formState:s,button_loading:d,rules:h,showNotification:m,onFinish:()=>{_.value.validate().then(async()=>{try{if(d.value=!0,(await q.ResetPassword({email:s.email,resetCode:s.resetCode,newPassword:s.password})).data.success){m("success","Reset password result","Success"),setTimeout(()=>{g.push({name:"login"})},5e3);return}m("error","Reset password result","ERROR")}catch(p){console.log(p)}finally{d.value=!1}})},get LockOutlined(){return F},get MailOutlined(){return L}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),M={class:"authentication-item"},N={class:"authentication-item-title"},U={class:"authentication-item-navigator"};function j(t,o,g,e,_,v){const c=u("a-input"),s=u("a-form-item"),d=u("a-input-password"),h=u("a-button"),m=u("a-form"),b=u("RouterLink");return B(),A("div",M,[i("div",N,[i("span",null,l(t.$t("auth.greetings.resetPassword")),1),o[4]||(o[4]=f()),o[5]||(o[5]=i("br",null,null,-1)),i("span",null,l(t.$t("auth.instructions.resetPassword")),1)]),a(m,{class:"authentication-item-form",ref:"formRef",model:e.formState,labelCol:e.labelCol,wrapperCol:e.wrapperCol,rules:e.rules},{default:r(()=>[a(s,{label:"",name:"email"},{default:r(()=>[i("label",null,l(t.$t("auth.inputs.email")),1),a(c,{size:"large",value:e.formState.email,"onUpdate:value":o[0]||(o[0]=n=>e.formState.email=n),placeholder:t.$t("auth.inputs.email")},{addonBefore:r(()=>[a(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(s,{label:"",name:"resetCode"},{default:r(()=>[i("label",null,l(t.$t("auth.inputs.code")),1),a(c,{size:"large",value:e.formState.resetCode,"onUpdate:value":o[1]||(o[1]=n=>e.formState.resetCode=n),placeholder:t.$t("auth.inputs.code_placeholder")},{addonBefore:r(()=>[a(e.MailOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(s,{label:"",name:"password"},{default:r(()=>[i("label",null,l(t.$t("auth.inputs.new_password")),1),a(d,{size:"large",value:e.formState.password,"onUpdate:value":o[2]||(o[2]=n=>e.formState.password=n),placeholder:t.$t("auth.inputs.password")},{addonBefore:r(()=>[a(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(s,{label:"",name:"confirmationPassword"},{default:r(()=>[i("label",null,l(t.$t("auth.inputs.new_password_confirmation")),1),a(d,{size:"large",value:e.formState.confirmationPassword,"onUpdate:value":o[3]||(o[3]=n=>e.formState.confirmationPassword=n),placeholder:t.$t("auth.inputs.confirmPassword")},{addonBefore:r(()=>[a(e.LockOutlined)]),_:1},8,["value","placeholder"])]),_:1}),a(s,null,{default:r(()=>[a(h,{loading:e.button_loading,onClick:e.onFinish,size:"large",type:"primary",style:{"background-color":"#9823f5",width:"100%"}},{default:r(()=>[f(l(t.$t("auth.buttons.resetPassword")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),i("div",U,[f(l(t.$t("auth.navigators.reset_signIn_ins"))+" ",1),a(b,{to:{name:"login"}},{default:r(()=>[f(l(t.$t("auth.navigators.back_signIn_link")),1)]),_:1})])])}const T=y(I,[["render",j],["__file","/home/runner/work/AIQuizzizz-Frontend/AIQuizzizz-Frontend/src/views/public/reset-password.vue"]]);export{T as default};
